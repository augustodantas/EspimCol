{"version":3,"sources":["./src/app/private/participants/add/participantsadd.component.ts","./src/app/private/participants/add/participantsadd.component.html","./src/app/private/participants/list/participantslist.component.ts","./src/app/private/participants/list/participantslist.component.html","./src/app/private/participants/participants-routing.module.ts","./src/app/private/participants/participants.module.ts"],"names":[],"mappings":"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","file":"participants-participants-module.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { ESPIM_REST_Participants } from 'src/app/app.api';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { FormUtil } from 'src/app/util/util.form.service';\n\nimport { DAOService } from '../../dao/dao.service';\n\n@Component({\n  selector: 'esm-participants-add',\n  templateUrl: './participantsadd.component.html',\n})\nexport class ParticipanstAddComponent implements OnInit {\n  @ViewChild('formElement') formElement: ElementRef;\n\n  urlParticipants: string = ESPIM_REST_Participants;\n  form: FormGroup;\n  editing: boolean = false;\n  loading: boolean = true;\n  id: string = '';\n\n  constructor(\n    private _daoService: DAOService,\n    private _toastr: ToastrService,\n    private _formBuilder: FormBuilder,\n    private _loaderService: LoaderService,\n    private route: Router,\n    private activeRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.id = this.activeRoute.snapshot.params.id;\n\n    this.form = this._formBuilder.group({\n      email: this._formBuilder.control({ value: '', disabled: !!this.id }, [Validators.required, Validators.email]),\n      alias: this._formBuilder.control('', [Validators.required]),\n    });\n\n    if (this.id) {\n      this.fetchData(this.id);\n    } else {\n      this.loading = false;\n    }\n  }\n\n  fetchData(id: string) {\n    this._loaderService.show();\n    this._daoService\n      .getObject(this.urlParticipants, id)\n      .pipe(finalize(() => this._loaderService.hide()))\n      .subscribe((response) => {\n        this.form.patchValue({ ...response.data });\n      });\n  }\n\n  save(event) {\n    this.form.markAllAsTouched();\n\n    if (this.form.valid) {\n      this._loaderService.show();\n\n      this.sendRequest()\n        .pipe(finalize(() => this._loaderService.hide()))\n        .subscribe(\n          (response) => {\n            if (response.error) {\n              FormUtil.setErrorsBackend(this.form, response);\n            } else {\n              this._toastr.success(response.message);\n              this.route.navigate(['/private/participants/list']);\n            }\n          },\n          (resp) => FormUtil.setErrorsBackend(this.form, resp.data)\n        );\n    }\n  }\n\n  sendRequest(): Observable<any> {\n    var dados = { ...this.form.value };\n\n    if (this.id) {\n      return this._daoService.putObject(this.urlParticipants + this.id, dados);\n    } else {\n      return this._daoService.postObject(this.urlParticipants, dados);\n    }\n  }\n}\n","<div class=\"mx-auto mt-4 card card-lg w-main container-fluid\">\n  <div class=\"row\">\n    <section class=\"p-0 mx-auto bg-white rounded col-12 p-xl-2\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <h1 class=\"h4\" translate *ngIf=\"!id\">private.participants.add.title</h1>\n            <h1 class=\"h4\" translate *ngIf=\"id\">private.participants.add.titleEdit</h1>\n          </div>\n        </div>\n\n        <form [formGroup]=\"form\" focusInvalidInput #formElement (ngSubmit)=\"save($event)\" class=\"mt-4\">\n          <div class=\"row\">\n            <div class=\"col-12 form-group\">\n              <div class=\"form-label-group\">\n                <input\n                  id=\"alias\"\n                  name=\"alias\"\n                  type=\"text\"\n                  [placeholder]=\"'private.participants.add.alias' | translate\"\n                  class=\"form-control border-bottom\"\n                  formControlName=\"alias\"\n                  [readonly]=\"editing\"\n                />\n                <label for=\"text\" translate>private.participants.add.alias</label>\n              </div>\n              <input-validations\n                *ngIf=\"form.controls['alias'].invalid && form.controls['alias'].touched\"\n                [errors]=\"form.controls['alias'].errors\"\n                [label]=\"'private.participants.add.alias' | translate\"\n              >\n              </input-validations>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-12 form-group\">\n              <div class=\"form-label-group\">\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"{{ 'private.participants.add.email' | translate }}\"\n                  class=\"form-control border-bottom\"\n                  formControlName=\"email\"\n                  [readonly]=\"editing\"\n                />\n                <label for=\"email\" translate>private.participants.add.email</label>\n              </div>\n              <input-validations\n                *ngIf=\"form.controls['email'].invalid && form.controls['email'].touched\"\n                [errors]=\"form.controls['email'].errors\"\n                label=\"E-mail\"\n              >\n              </input-validations>\n            </div>\n          </div>\n\n          <div class=\"row justify-content-end\">\n            <div class=\"col-auto\">\n              <a routerLink=\"/private/participants/list\" class=\"btn btn-success btn-lg btn-shadow\">VOLTAR</a>\n            </div>\n            <div class=\"col-auto\">\n              <button type=\"submit\" name=\"saveButton\" class=\"btn btn-primary btn-lg btn-shadow min-100\" translate>SALVAR</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </section>\n  </div>\n</div>\n","import { DecimalPipe } from '@angular/common';\nimport { HttpParams } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, finalize, switchMap } from 'rxjs/operators';\nimport { ESPIM_REST_Participants } from 'src/app/app.api';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { SwalService } from 'src/app/services/swal.service';\n\nimport { DAOService } from '../../dao/dao.service';\nimport { Participant } from '../../models/participant.model';\n\n@Component({\n  selector: 'esm-particpants-list',\n  templateUrl: './participantslist.component.html',\n  providers: [DecimalPipe],\n})\nexport class ParticipantsListComponent {\n  urlParticipants: string = ESPIM_REST_Participants;\n  participants: Participant[];\n  total: number;\n  loading: boolean = true;\n  page: number = 1;\n  pageSize: 10;\n  search: Subject<string> = new Subject<string>();\n  searchTerm: string = '';\n  private _modalRef: BsModalRef;\n\n  constructor(\n    private daoService: DAOService,\n    private readonly _modalService: BsModalService,\n    private _loaderService: LoaderService,\n    private _toastr: ToastrService,\n    private readonly _swalService: SwalService\n  ) {\n    this.search\n      .pipe(\n        debounceTime(300),\n        distinctUntilChanged(),\n        switchMap(() => {\n          return this.getParticipants();\n        })\n      )\n      .subscribe((response) => {\n        this.loading = false;\n        this.setParticipants(response);\n      });\n  }\n\n  handleChange($event: any, search: boolean = false): void {\n    if (search) {\n      this.total = null;\n      this.searchTerm = $event;\n      this.page = 1;\n    }\n    this.participants = [];\n    this.loading = true;\n    this.search.next($event);\n  }\n\n  ngOnInit() {\n    this.search.next('');\n  }\n\n  getParticipants(): Observable<any> {\n    let params = new HttpParams()\n      .set('search', this.searchTerm)\n      .set('page', this.page?.toString())\n      .set('orderBy', 'created_at')\n      .set('sortedBy', 'desc');\n    return this.daoService.getObjects(this.urlParticipants, params);\n  }\n\n  setParticipants(response) {\n    this.total = response.meta.pagination.total;\n    this.pageSize = response.meta.pagination.per_page;\n    this.participants = response.data;\n  }\n\n  deleteParticipant(participant: Participant) {\n    this._swalService.confirmDelete(participant.alias + ' - ' + participant.user.email, 'Participante').then((result) => {\n      if (result.isConfirmed) {\n        this._loaderService.show();\n        this.daoService\n          .deleteObject(this.urlParticipants, participant.id.toString())\n          .pipe(finalize(() => this._loaderService.hide()))\n          .subscribe((resp) => {\n            this.handleChange(resp);\n            this._toastr.success(resp.message);\n          });\n      }\n    });\n  }\n}\n","<main class=\"px-5 mx-auto mt-4 mb-5 card card-lg w-main\">\n  <!--Título & busca-->\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\n    <h1 class=\"h4\" translate>private.participants.list.pageTitle</h1>\n    <a [routerLink]=\"['/private/participants/add']\" class=\"btn btn-link align-self-end\" translate>private.participants.list.addButton</a>\n  </div>\n\n  <esm-search (doSearch)=\"handleChange($event, true)\"></esm-search>\n  <form>\n    <!-- Cabeçalho -->\n    <esm-list-header\n      [title]=\"'private.participants.list.listTitle' | translate\"\n      [subtitle]=\"'private.participants.list.totalNumber' | translate\"\n      [total]=\"total\"\n    ></esm-list-header>\n\n    <div class=\"alert alert-info\" *ngIf=\"!loading && participants.length == 0\">Nenhum participante encontrado</div>\n\n    <table class=\"table table-hover\">\n      <tbody>\n        <tr *ngFor=\"let participant of participants\">\n          <td scope=\"row\">\n            <a [routerLink]=\"['/private/participants/edit', participant.id]\">\n              {{ participant.alias }}\n              -\n              {{ participant.user.email }}\n            </a>\n          </td>\n\n          <td width=\"100\">\n            <div class=\"mx-3 d-flex align-items-center\">\n              <a [routerLink]=\"['/private/participants/edit', participant.id]\">\n                <i class=\"mr-3 fas fa-edit fa-lg text-primary\"></i>\n              </a>\n              <a href=\"javascript:\">\n                <i class=\"fas fa-trash-alt fa-lg text-primary\" (click)=\"deleteParticipant(participant)\"></i>\n              </a>\n            </div>\n          </td>\n        </tr>\n\n        <ng-template [ngIf]=\"loading\">\n          <tr *ngFor=\"let i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\" class=\"loading\">\n            <td>\n              <div class=\"loader-bg\"></div>\n            </td>\n            <td width=\"100\">\n              <div class=\"loader-bg\"></div>\n            </td>\n          </tr>\n        </ng-template>\n      </tbody>\n    </table>\n\n    <div class=\"p-2\">\n      <pagination\n        [totalItems]=\"total\"\n        *ngIf=\"total\"\n        [(ngModel)]=\"page\"\n        name=\"page\"\n        (pageChanged)=\"handleChange($event)\"\n        [disabled]=\"!total\"\n      ></pagination>\n\n      <div *ngIf=\"total == null\">\n        <div class=\"loader-bg w-25\"></div>\n        <div class=\"loader-bg w-25\"></div>\n        <div class=\"loader-bg w-25\"></div>\n      </div>\n    </div>\n  </form>\n</main>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { ParticipanstAddComponent } from './add/participantsadd.component';\nimport { ParticipantsListComponent } from './list/participantslist.component';\n\nconst routes: Routes = [\n  {\n    path: 'list',\n    component: ParticipantsListComponent,\n  },\n  { path: 'add', component: ParticipanstAddComponent },\n  { path: 'edit/:id', component: ParticipanstAddComponent },\n  { path: '**', redirectTo: '/private', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ParticipantsRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\nimport { SharedModule } from './../../app.shared.module';\nimport { ParticipanstAddComponent } from './add/participantsadd.component';\nimport { ParticipantsListComponent } from './list/participantslist.component';\nimport { ParticipantsRoutingModule } from './participants-routing.module';\n\n// imports from dependencies\n\n@NgModule({\n  imports: [SharedModule, ComponentsModule, ParticipantsRoutingModule, CommonModule],\n  exports: [SharedModule],\n  declarations: [ParticipanstAddComponent, ParticipantsListComponent],\n})\nexport class ParticipantModule {}\n"],"sourceRoot":"webpack:///"}
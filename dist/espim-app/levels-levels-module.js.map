{"version":3,"sources":["./src/app/private/levels/add/add.component.ts","./src/app/private/levels/add/add.component.html","./src/app/private/levels/levels-routing.module.ts","./src/app/private/levels/levels.module.ts","./src/app/private/levels/list/list.component.ts","./src/app/private/levels/list/list.component.html"],"names":[],"mappings":"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","file":"levels-levels-module.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { ESPIM_REST_Levels } from 'src/app/app.api';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { FormUtil } from 'src/app/util/util.form.service';\n\nimport { DAOService } from '../../dao/dao.service';\n\n@Component({\n  selector: 'esm-levels-add',\n  templateUrl: './add.component.html',\n})\nexport class LevelsAddComponent implements OnInit {\n  @ViewChild('formElement') formElement: ElementRef;\n\n  url: string = ESPIM_REST_Levels;\n  form: FormGroup;\n  editing: boolean = false;\n  loading: boolean = true;\n  id: string = '';\n\n  constructor(\n    private _daoService: DAOService,\n    private _toastr: ToastrService,\n    private _formBuilder: FormBuilder,\n    private _loaderService: LoaderService,\n    private route: Router,\n    private activeRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.id = this.activeRoute.snapshot.params.id;\n\n    this.form = this._formBuilder.group({\n      name: this._formBuilder.control('', [Validators.required]),\n      min_points: this._formBuilder.control('', [Validators.required]),\n      max_points: this._formBuilder.control('', [Validators.required]),\n    });\n\n    if (this.id) {\n      this.fetchData(this.id);\n    } else {\n      this.loading = false;\n    }\n  }\n\n  fetchData(id: string) {\n    this._loaderService.show();\n    this._daoService\n      .getObject(this.url, id)\n      .pipe(finalize(() => this._loaderService.hide()))\n      .subscribe((response) => {\n        this.form.patchValue({ ...response.data });\n      });\n  }\n\n  save(event) {\n    this.form.markAllAsTouched();\n    let valid = true;\n\n    if (this.form.valid && valid) {\n      this._loaderService.show();\n\n      this.sendRequest()\n        .pipe(finalize(() => this._loaderService.hide()))\n        .subscribe(\n          (response) => {\n            if (response.error) {\n              FormUtil.setErrorsBackend(this.form, response);\n            } else {\n              this._toastr.success(response.message);\n              this.route.navigate(['/private/levels/list']);\n            }\n          },\n          (resp) => FormUtil.setErrorsBackend(this.form, resp.data)\n        );\n    }\n  }\n\n  sendRequest(): Observable<any> {\n    var dados = { ...this.form.value };\n\n    if (this.id) {\n      return this._daoService.putObject(this.url + this.id, dados);\n    } else {\n      return this._daoService.postObject(this.url, dados);\n    }\n  }\n}\n","<div class=\"mx-auto mt-4 card card-lg w-main container-fluid\">\n  <div class=\"row\">\n    <section class=\"p-0 mx-auto bg-white rounded col-12 p-xl-2\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <h1 class=\"h4\" translate *ngIf=\"!id\">private.levels.add.title</h1>\n            <h1 class=\"h4\" translate *ngIf=\"id\">private.levels.add.titleEdit</h1>\n          </div>\n        </div>\n\n        <form [formGroup]=\"form\" focusInvalidInput #formElement (ngSubmit)=\"save($event)\">\n          <div class=\"row\">\n            <div class=\"col-6 form-group\">\n              <div class=\"form-label-group\">\n                <input\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  placeholder=\"{{ 'private.levels.add.name' | translate }}\"\n                  class=\"form-control border-bottom\"\n                  formControlName=\"name\"\n                />\n                <label for=\"text\" translate>private.levels.add.name</label>\n              </div>\n              <input-validations\n                *ngIf=\"form.controls['name'].invalid && form.controls['name'].touched\"\n                [errors]=\"form.controls['name'].errors\"\n                label=\"Nome\"\n              >\n              </input-validations>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-3 form-group\">\n              <div class=\"form-label-group\">\n                <input\n                  id=\"min_points\"\n                  name=\"min_points\"\n                  type=\"number\"\n                  placeholder=\"{{ 'private.levels.add.minPoints' | translate }}\"\n                  class=\"form-control border-bottom\"\n                  formControlName=\"min_points\"\n                />\n                <label for=\"min_points\" translate>private.levels.add.minPoints</label>\n              </div>\n              <input-validations\n                *ngIf=\"form.controls['min_points'].invalid && form.controls['min_points'].touched\"\n                [errors]=\"form.controls['min_points'].errors\"\n                label=\"Mínimo de pontos\"\n              >\n              </input-validations>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-3 form-group\">\n              <div class=\"form-label-group\">\n                <input\n                  id=\"max_points\"\n                  name=\"max_points\"\n                  type=\"number\"\n                  placeholder=\"{{ 'private.levels.add.maxPoints' | translate }}\"\n                  class=\"form-control border-bottom\"\n                  formControlName=\"max_points\"\n                />\n                <label for=\"max_points\" translate>private.levels.add.maxPoints</label>\n              </div>\n              <input-validations\n                *ngIf=\"form.controls['max_points'].invalid && form.controls['max_points'].touched\"\n                [errors]=\"form.controls['max_points'].errors\"\n                label=\"Máximo de pontos\"\n              >\n              </input-validations>\n            </div>\n          </div>\n          <div class=\"row justify-content-end\">\n            <div class=\"col-auto\">\n              <a routerLink=\"/private/levels/list\" class=\"btn btn-success btn-lg btn-shadow\">VOLTAR</a>\n            </div>\n            <div class=\"col-auto\">\n              <button type=\"submit\" name=\"saveButton\" class=\"btn btn-primary btn-lg btn-shadow min-100\" translate>SALVAR</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </section>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PermissionsGuard } from 'src/app/security/permissions.guard';\n\nimport { LevelsAddComponent } from './add/add.component';\nimport { LevelListComponent } from './list/list.component';\n\nconst routes: Routes = [\n  {\n    path: 'list',\n    canActivate: [PermissionsGuard],\n    data: {\n      permissions: {\n        only: ['LEVELS_LIST'],\n      },\n    },\n    component: LevelListComponent,\n  },\n  {\n    path: 'add',\n    canActivate: [PermissionsGuard],\n    data: {\n      permissions: {\n        only: ['LEVELS_ADD'],\n      },\n    },\n    component: LevelsAddComponent,\n  },\n  {\n    path: 'edit/:id',\n    canActivate: [PermissionsGuard],\n    data: {\n      permissions: {\n        only: ['LEVELS_EDIT'],\n      },\n    },\n    component: LevelsAddComponent,\n  },\n  { path: '**', redirectTo: '/private', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LevelsRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\nimport { SharedModule } from '../../app.shared.module';\nimport { LevelsAddComponent } from './add/add.component';\nimport { LevelsRoutingModule } from './levels-routing.module';\nimport { LevelListComponent } from './list/list.component';\n\n// imports from dependencies\n\n@NgModule({\n  imports: [SharedModule, ComponentsModule, LevelsRoutingModule, CommonModule],\n  exports: [SharedModule],\n  declarations: [LevelsAddComponent, LevelListComponent],\n})\nexport class LevelsModule {}\n","import { DecimalPipe } from '@angular/common';\nimport { HttpParams } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, finalize, switchMap } from 'rxjs/operators';\nimport { ESPIM_REST_Levels } from 'src/app/app.api';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { SwalService } from 'src/app/services/swal.service';\n\nimport { DAOService } from '../../dao/dao.service';\nimport { Level } from '../../models/level.model';\n\n@Component({\n  selector: 'esm-levels-list',\n  templateUrl: './list.component.html',\n  providers: [DecimalPipe],\n})\nexport class LevelListComponent {\n  url: string = ESPIM_REST_Levels;\n  levels: Level[];\n  loading: boolean = true;\n  search: Subject<string> = new Subject<string>();\n  searchTerm: string = '';\n\n  constructor(\n    private daoService: DAOService,\n    private _loaderService: LoaderService,\n    private readonly _swalService: SwalService,\n    private _toastr: ToastrService\n  ) {\n    this.search\n      .pipe(\n        debounceTime(300),\n        distinctUntilChanged(),\n        switchMap(() => {\n          return this.getLevels();\n        })\n      )\n      .subscribe((response) => {\n        this.loading = false;\n        this.setLevels(response);\n      });\n  }\n\n  handleChange($event: any, search: boolean = false): void {\n    if (search) {\n      this.searchTerm = $event;\n    }\n    this.levels = [];\n    this.loading = true;\n    this.search.next($event);\n  }\n\n  ngOnInit() {\n    this.search.next('');\n  }\n\n  getLevels(): Observable<any> {\n    let params = new HttpParams().set('search', this.searchTerm).set('orderBy', 'created_at').set('sortedBy', 'desc');\n    return this.daoService.getObjects(this.url, params);\n  }\n\n  setLevels(response) {\n    this.levels = response.data;\n  }\n\n  deleteItem(level: Level) {\n    this._swalService.confirmDelete(`${level.name} - ${level.min_points} até ${level.max_points} pontos`, 'level').then((result) => {\n      if (result.isConfirmed) {\n        this._loaderService.show();\n        this.daoService\n          .deleteObject(this.url, level.id.toString())\n          .pipe(finalize(() => this._loaderService.hide()))\n          .subscribe((resp) => {\n            this.handleChange(resp);\n            this._toastr.success(resp.message);\n          });\n      }\n    });\n  }\n}\n","<main class=\"px-5 mx-auto mt-4 mb-5 card card-lg w-main\">\n  <!--Título & busca-->\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\n    <h1 class=\"h4\" translate>private.levels.list.pageTitle</h1>\n    <a [routerLink]=\"['/private/levels/add']\" class=\"btn btn-link align-self-end\" *ngxPermissionsOnly=\"['LEVELS_ADD']\" translate\n      >private.levels.list.addButton</a\n    >\n  </div>\n\n  <esm-search (doSearch)=\"handleChange($event, true)\"></esm-search>\n  <form>\n    <!-- Cabeçalho -->\n    <esm-list-header\n      [title]=\"'private.levels.list.listTitle' | translate\"\n      [subtitle]=\"'private.levels.list.totalNumber' | translate\"\n    ></esm-list-header>\n\n    <div class=\"alert alert-info\" *ngIf=\"!loading && levels.length == 0\">Nenhum level encontrado</div>\n\n    <table class=\"table table-hover\">\n      <tbody>\n        <tr *ngFor=\"let level of levels\">\n          <td scope=\"row\">\n            <a [routerLink]=\"['/private/levels/edit', level.id]\">\n              {{ level.name }} - {{ level.min_points }} até {{ level.max_points }} pontos\n            </a>\n          </td>\n\n          <td width=\"100\" *ngxPermissionsOnly=\"['LEVELS_EDIT', 'LEVELS_DELETE']\">\n            <div class=\"mx-3 d-flex align-items-center\">\n              <a [routerLink]=\"['/private/levels/edit', level.id]\">\n                <i class=\"mr-3 fas fa-edit fa-lg text-primary\"></i>\n              </a>\n              <a href=\"javascript:\">\n                <i class=\"fas fa-trash-alt fa-lg text-primary\" (click)=\"deleteItem(level)\"></i>\n              </a>\n            </div>\n          </td>\n        </tr>\n\n        <ng-template [ngIf]=\"loading\">\n          <tr *ngFor=\"let i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\" class=\"loading\">\n            <td>\n              <div class=\"loader-bg\"></div>\n            </td>\n            <td width=\"100\">\n              <div class=\"loader-bg\"></div>\n            </td>\n          </tr>\n        </ng-template>\n      </tbody>\n    </table>\n  </form>\n</main>\n"],"sourceRoot":"webpack:///"}
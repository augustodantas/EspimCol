(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{f01X:function(t,i,e){"use strict";e.r(i),e.d(i,"ParticipantModule",(function(){return Y}));var a=e("ofXK"),r=e("j1ZV"),n=e("Awto"),o=e("tyNb"),c=e("mrSG"),s=e("3Pt+"),l=e("2WpN"),b=e("nWBu"),d=e("5dVO"),p=e("eGxY"),u=e("P9qh"),f=e("fXoL"),h=e("qT8p"),m=e("z1GS"),v=e("o8Qb"),g=e("n8HC"),R=["formElement"];function Q(t,i){1&t&&(f.Rb(0,"h1",20),f.Dc(1,"private.participants.add.title"),f.Qb())}function y(t,i){1&t&&(f.Rb(0,"h1",20),f.Dc(1,"private.participants.add.titleEdit"),f.Qb())}function S(t,i){if(1&t&&(f.Mb(0,"input-validations",21),f.dc(1,"translate")),2&t){var e=f.cc();f.ic("errors",e.form.controls.alias.errors)("label",f.ec(1,2,"private.participants.add.alias"))}}function w(t,i){if(1&t&&f.Mb(0,"input-validations",22),2&t){var e=f.cc();f.ic("errors",e.form.controls.email.errors)}}var I=function(){function t(t,i,e,a,r,n){this._daoService=t,this._toastr=i,this._formBuilder=e,this._loaderService=a,this.route=r,this.activeRoute=n,this.urlParticipants=b.l,this.editing=!1,this.loading=!0,this.id=""}return t.prototype.ngOnInit=function(){this.id=this.activeRoute.snapshot.params.id,this.form=this._formBuilder.group({email:this._formBuilder.control({value:"",disabled:!!this.id},[s.v.required,s.v.email]),alias:this._formBuilder.control("",[s.v.required])}),this.id?this.fetchData(this.id):this.loading=!1},t.prototype.fetchData=function(t){var i=this;this._loaderService.show(),this._daoService.getObject(this.urlParticipants,t).pipe(Object(l.a)((function(){return i._loaderService.hide()}))).subscribe((function(t){i.form.patchValue(Object(c.a)({},t.data))}))},t.prototype.save=function(t){var i=this;this.form.markAllAsTouched(),this.form.valid&&(this._loaderService.show(),this.sendRequest().pipe(Object(l.a)((function(){return i._loaderService.hide()}))).subscribe((function(t){t.error?p.a.setErrorsBackend(i.form,t):(i._toastr.success(t.message),i.route.navigate(["/private/participants/list"]))}),(function(t){return p.a.setErrorsBackend(i.form,t.data)})))},t.prototype.sendRequest=function(){var t=Object(c.a)({},this.form.value);return this.id?this._daoService.putObject(this.urlParticipants+this.id,t):this._daoService.postObject(this.urlParticipants,t)},t.\u0275fac=function(i){return new(i||t)(f.Lb(u.a),f.Lb(h.b),f.Lb(s.d),f.Lb(d.a),f.Lb(o.c),f.Lb(o.a))},t.\u0275cmp=f.Fb({type:t,selectors:[["esm-participants-add"]],viewQuery:function(t,i){var e;1&t&&f.Jc(R,!0),2&t&&f.qc(e=f.Zb())&&(i.formElement=e.first)},decls:33,vars:13,consts:[[1,"mx-auto","mt-4","card","card-lg","w-main","container-fluid"],[1,"row"],[1,"p-0","mx-auto","bg-white","rounded","col-12","p-xl-2"],[1,"container-fluid"],[1,"col-12"],["class","h4","translate","",4,"ngIf"],["focusInvalidInput","",1,"mt-4",3,"formGroup","ngSubmit"],["formElement",""],[1,"col-12","form-group"],[1,"form-label-group"],["id","alias","name","alias","type","text","formControlName","alias",1,"form-control","border-bottom",3,"placeholder","readonly"],["for","text","translate",""],[3,"errors","label",4,"ngIf"],["id","email","name","email","type","email","formControlName","email",1,"form-control","border-bottom",3,"placeholder","readonly"],["for","email","translate",""],["label","E-mail",3,"errors",4,"ngIf"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/private/participants/list",1,"btn","btn-success","btn-lg","btn-shadow"],["type","submit","name","saveButton","translate","",1,"btn","btn-primary","btn-lg","btn-shadow","min-100"],["translate","",1,"h4"],[3,"errors","label"],["label","E-mail",3,"errors"]],template:function(t,i){1&t&&(f.Rb(0,"div",0),f.Rb(1,"div",1),f.Rb(2,"section",2),f.Rb(3,"div",3),f.Rb(4,"div",1),f.Rb(5,"div",4),f.Bc(6,Q,2,0,"h1",5),f.Bc(7,y,2,0,"h1",5),f.Qb(),f.Qb(),f.Rb(8,"form",6,7),f.Yb("ngSubmit",(function(t){return i.save(t)})),f.Rb(10,"div",1),f.Rb(11,"div",8),f.Rb(12,"div",9),f.Mb(13,"input",10),f.dc(14,"translate"),f.Rb(15,"label",11),f.Dc(16,"private.participants.add.alias"),f.Qb(),f.Qb(),f.Bc(17,S,2,4,"input-validations",12),f.Qb(),f.Qb(),f.Rb(18,"div",1),f.Rb(19,"div",8),f.Rb(20,"div",9),f.Mb(21,"input",13),f.dc(22,"translate"),f.Rb(23,"label",14),f.Dc(24,"private.participants.add.email"),f.Qb(),f.Qb(),f.Bc(25,w,1,1,"input-validations",15),f.Qb(),f.Qb(),f.Rb(26,"div",16),f.Rb(27,"div",17),f.Rb(28,"a",18),f.Dc(29,"VOLTAR"),f.Qb(),f.Qb(),f.Rb(30,"div",17),f.Rb(31,"button",19),f.Dc(32,"SALVAR"),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb()),2&t&&(f.zb(6),f.ic("ngIf",!i.id),f.zb(1),f.ic("ngIf",i.id),f.zb(1),f.ic("formGroup",i.form),f.zb(5),f.ic("placeholder",f.ec(14,9,"private.participants.add.alias"))("readonly",i.editing),f.zb(4),f.ic("ngIf",i.form.controls.alias.invalid&&i.form.controls.alias.touched),f.zb(4),f.jc("placeholder",f.ec(22,11,"private.participants.add.email")),f.ic("readonly",i.editing),f.zb(4),f.ic("ngIf",i.form.controls.email.invalid&&i.form.controls.email.touched))},directives:[a.l,s.x,s.l,m.a,s.f,s.b,s.k,s.e,v.b,o.e,g.a],pipes:[v.e],encapsulation:2}),t}(),_=e("tk/3"),k=e("CbkN"),O=e("K9Ia"),j=e("Gi3i"),B=e("ad02"),L=e("15JJ"),z=e("y9qN"),M=e("ZJS2"),P=e("kGPy"),x=e("+1jO");function C(t,i){1&t&&(f.Rb(0,"div",13),f.Dc(1,"Nenhum participante encontrado"),f.Qb())}var D=function(t){return["/private/participants/edit",t]};function T(t,i){if(1&t){var e=f.Sb();f.Rb(0,"tr"),f.Rb(1,"td",14),f.Rb(2,"a",15),f.Dc(3),f.Qb(),f.Qb(),f.Rb(4,"td",16),f.Rb(5,"div",17),f.Rb(6,"a",15),f.Mb(7,"i",18),f.Qb(),f.Rb(8,"a",19),f.Rb(9,"i",20),f.Yb("click",(function(){f.tc(e);var t=i.$implicit;return f.cc().deleteParticipant(t)})),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb()}if(2&t){var a=i.$implicit;f.zb(2),f.ic("routerLink",f.lc(4,D,a.id)),f.zb(1),f.Gc(" ",a.alias," - ",a.user.email," "),f.zb(3),f.ic("routerLink",f.lc(6,D,a.id))}}function q(t,i){1&t&&(f.Rb(0,"tr",22),f.Rb(1,"td"),f.Mb(2,"div",23),f.Qb(),f.Rb(3,"td",16),f.Mb(4,"div",23),f.Qb(),f.Qb())}var E=function(){return[1,2,3,4,5,6,7,8,9,10]};function F(t,i){1&t&&f.Bc(0,q,5,0,"tr",21),2&t&&f.ic("ngForOf",f.kc(1,E))}function G(t,i){if(1&t){var e=f.Sb();f.Rb(0,"pagination",24),f.Yb("ngModelChange",(function(t){return f.tc(e),f.cc().page=t}))("pageChanged",(function(t){return f.tc(e),f.cc().handleChange(t)})),f.Qb()}if(2&t){var a=f.cc();f.ic("totalItems",a.total)("ngModel",a.page)("disabled",!a.total)}}function J(t,i){1&t&&(f.Rb(0,"div"),f.Mb(1,"div",25),f.Mb(2,"div",25),f.Mb(3,"div",25),f.Qb())}var N=function(){return["/private/participants/add"]},A=[{path:"list",component:function(){function t(t,i,e,a,r){var n=this;this.daoService=t,this._modalService=i,this._loaderService=e,this._toastr=a,this._swalService=r,this.urlParticipants=b.l,this.loading=!0,this.page=1,this.search=new O.a,this.searchTerm="",this.search.pipe(Object(j.a)(300),Object(B.a)(),Object(L.a)((function(){return n.getParticipants()}))).subscribe((function(t){n.loading=!1,n.setParticipants(t)}))}return t.prototype.handleChange=function(t,i){void 0===i&&(i=!1),i&&(this.total=null,this.searchTerm=t,this.page=1),this.participants=[],this.loading=!0,this.search.next(t)},t.prototype.ngOnInit=function(){this.search.next("")},t.prototype.getParticipants=function(){var t,i=(new _.f).set("search",this.searchTerm).set("page",null===(t=this.page)||void 0===t?void 0:t.toString()).set("orderBy","created_at").set("sortedBy","desc");return this.daoService.getObjects(this.urlParticipants,i)},t.prototype.setParticipants=function(t){this.total=t.meta.pagination.total,this.pageSize=t.meta.pagination.per_page,this.participants=t.data},t.prototype.deleteParticipant=function(t){var i=this;this._swalService.confirmDelete(t.alias+" - "+t.user.email,"Participante").then((function(e){e.isConfirmed&&(i._loaderService.show(),i.daoService.deleteObject(i.urlParticipants,t.id.toString()).pipe(Object(l.a)((function(){return i._loaderService.hide()}))).subscribe((function(t){i.handleChange(t),i._toastr.success(t.message)})))}))},t.\u0275fac=function(i){return new(i||t)(f.Lb(u.a),f.Lb(k.b),f.Lb(d.a),f.Lb(h.b),f.Lb(z.a))},t.\u0275cmp=f.Fb({type:t,selectors:[["esm-particpants-list"]],features:[f.yb([a.e])],decls:19,vars:14,consts:[[1,"px-5","mx-auto","mt-4","mb-5","card","card-lg","w-main"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["translate","",1,"h4"],["translate","",1,"btn","btn-link","align-self-end",3,"routerLink"],[3,"doSearch"],[3,"title","subtitle","total"],["class","alert alert-info",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"p-2"],["name","page",3,"totalItems","ngModel","disabled","ngModelChange","pageChanged",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info"],["scope","row"],[3,"routerLink"],["width","100"],[1,"mx-3","d-flex","align-items-center"],[1,"mr-3","fas","fa-edit","fa-lg","text-primary"],["href","javascript:"],[1,"fas","fa-trash-alt","fa-lg","text-primary",3,"click"],["class","loading",4,"ngFor","ngForOf"],[1,"loading"],[1,"loader-bg"],["name","page",3,"totalItems","ngModel","disabled","ngModelChange","pageChanged"],[1,"loader-bg","w-25"]],template:function(t,i){1&t&&(f.Rb(0,"main",0),f.Rb(1,"div",1),f.Rb(2,"h1",2),f.Dc(3,"private.participants.list.pageTitle"),f.Qb(),f.Rb(4,"a",3),f.Dc(5,"private.participants.list.addButton"),f.Qb(),f.Qb(),f.Rb(6,"esm-search",4),f.Yb("doSearch",(function(t){return i.handleChange(t,!0)})),f.Qb(),f.Rb(7,"form"),f.Mb(8,"esm-list-header",5),f.dc(9,"translate"),f.dc(10,"translate"),f.Bc(11,C,2,0,"div",6),f.Rb(12,"table",7),f.Rb(13,"tbody"),f.Bc(14,T,10,8,"tr",8),f.Bc(15,F,1,2,"ng-template",9),f.Qb(),f.Qb(),f.Rb(16,"div",10),f.Bc(17,G,1,3,"pagination",11),f.Bc(18,J,4,0,"div",12),f.Qb(),f.Qb(),f.Qb()),2&t&&(f.zb(4),f.ic("routerLink",f.kc(13,N)),f.zb(4),f.ic("title",f.ec(9,9,"private.participants.list.listTitle"))("subtitle",f.ec(10,11,"private.participants.list.totalNumber"))("total",i.total),f.zb(3),f.ic("ngIf",!i.loading&&0==i.participants.length),f.zb(3),f.ic("ngForOf",i.participants),f.zb(1),f.ic("ngIf",i.loading),f.zb(2),f.ic("ngIf",i.total),f.zb(1),f.ic("ngIf",null==i.total))},directives:[v.b,o.e,M.a,s.x,s.l,s.m,P.a,a.l,a.k,x.a,s.k,s.n],pipes:[v.e],encapsulation:2}),t}()},{path:"add",component:I},{path:"edit/:id",component:I},{path:"**",redirectTo:"/private",pathMatch:"full"}],V=function(){function t(){}return t.\u0275mod=f.Jb({type:t}),t.\u0275inj=f.Ib({factory:function(i){return new(i||t)},imports:[[o.f.forChild(A)],o.f]}),t}(),Y=function(){function t(){}return t.\u0275mod=f.Jb({type:t}),t.\u0275inj=f.Ib({factory:function(i){return new(i||t)},imports:[[n.a,r.a,V,a.c],n.a]}),t}()}}]);
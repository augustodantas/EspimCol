(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+6XX":function(t,e,i){var n=i("y1pI");t.exports=function(t){return n(this.__data__,t)>-1}},"+K+b":function(t,e,i){var n=i("JHRd");t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},"+iFO":function(t,e,i){var n=i("dTAl"),o=i("LcsW"),r=i("6sVZ");t.exports=function(t){return"function"!=typeof t.constructor||r(t)?{}:n(o(t))}},"/9aa":function(t,e,i){var n=i("NykK"),o=i("ExA7");t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},"03A+":function(t,e,i){var n=i("JTzB"),o=i("ExA7"),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},"0Cz8":function(t,e,i){var n=i("Xi7e"),o=i("ebwN"),r=i("e4Nc");t.exports=function(t,e){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(t,e),this.size=i.size,this}},"0ycA":function(t,e){t.exports=function(){return[]}},"1+5i":function(t,e,i){var n=i("w/wX"),o=i("sEf8"),r=i("mdPL"),s=r&&r.isSet,a=s?o(s):n;t.exports=a},"2gN3":function(t,e,i){var n=i("Kz5y");t.exports=n["__core-js_shared__"]},"3Fdi":function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},"4kuk":function(t,e,i){var n=i("SfRM"),o=i("Hvzi"),r=i("u8Dt"),s=i("ekgI"),a=i("JSQU");function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},"5Tg0":function(t,e,i){(function(t){var n=i("Kz5y"),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=a?a(i):new t.constructor(i);return t.copy(n),n}}).call(this,i("YuTi")(t))},"6sVZ":function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},"77Zs":function(t,e,i){var n=i("Xi7e");t.exports=function(){this.__data__=new n,this.size=0}},"7GkX":function(t,e,i){var n=i("b80T"),o=i("A90E"),r=i("MMmD");t.exports=function(t){return r(t)?n(t):o(t)}},"7Ix3":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}},A90E:function(t,e,i){var n=i("6sVZ"),o=i("V6Ve"),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}},AP2z:function(t,e,i){var n=i("nmnc"),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(c){}var o=s.call(t);return n&&(e?t[a]=i:delete t[a]),o}},B8du:function(t,e){t.exports=function(){return!1}},BkRI:function(t,e,i){var n=i("OBhP");t.exports=function(t){return n(t,5)}},CH3K:function(t,e){t.exports=function(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}},Cwc5:function(t,e,i){var n=i("NKxu"),o=i("Npjl");t.exports=function(t,e){var i=o(t,e);return n(i)?i:void 0}},DSRE:function(t,e,i){(function(t){var n=i("Kz5y"),o=i("B8du"),r=e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?n.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||o}).call(this,i("YuTi")(t))},"Dw+G":function(t,e,i){var n=i("juv8"),o=i("mTTR");t.exports=function(t,e){return t&&n(e,o(e),t)}},E2jh:function(t,e,i){var n,o=i("2gN3"),r=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!r&&r in t}},EEGq:function(t,e,i){var n=i("juv8"),o=i("oCl/");t.exports=function(t,e){return n(t,o(t),e)}},EpBk:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},ExA7:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},G6z8:function(t,e,i){var n=i("fR/l"),o=i("oCl/"),r=i("mTTR");t.exports=function(t){return n(t,r,o)}},Gi0A:function(t,e,i){var n=i("QqLw"),o=i("ExA7");t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},GoyQ:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},H8j4:function(t,e,i){var n=i("QkVE");t.exports=function(t,e){var i=n(this,t),o=i.size;return i.set(t,e),this.size+=i.size==o?0:1,this}},HOxn:function(t,e,i){var n=i("Cwc5")(i("Kz5y"),"Promise");t.exports=n},Hvzi:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},JHRd:function(t,e,i){var n=i("Kz5y");t.exports=n.Uint8Array},JHgL:function(t,e,i){var n=i("QkVE");t.exports=function(t){return n(this,t).get(t)}},JSQU:function(t,e,i){var n=i("YESw");t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},JTzB:function(t,e,i){var n=i("NykK"),o=i("ExA7");t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},KMkd:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},KfNM:function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},Kz5y:function(t,e,i){var n=i("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();t.exports=r},L8xA:function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},LXxW:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,o=0,r=[];++i<n;){var s=t[i];e(s,i,t)&&(r[o++]=s)}return r}},LcsW:function(t,e,i){var n=i("kekF")(Object.getPrototypeOf,Object);t.exports=n},MMmD:function(t,e,i){var n=i("lSCD"),o=i("shjB");t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},MrPd:function(t,e,i){var n=i("hypo"),o=i("ljhN"),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){var s=t[e];r.call(t,e)&&o(s,i)&&(void 0!==i||e in t)||n(t,e,i)}},MvSz:function(t,e,i){var n=i("LXxW"),o=i("0ycA"),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;t.exports=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return r.call(t,e)})))}:o},NKxu:function(t,e,i){var n=i("lSCD"),o=i("E2jh"),r=i("GoyQ"),s=i("3Fdi"),a=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||o(t))&&(n(t)?c:a).test(s(t))}},Npjl:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},NykK:function(t,e,i){var n=i("nmnc"),o=i("AP2z"),r=i("KfNM"),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):r(t)}},O0oS:function(t,e,i){var n=i("Cwc5"),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},OBhP:function(t,e,i){var n=i("fmRc"),o=i("gFfm"),r=i("MrPd"),s=i("WwFo"),a=i("Dw+G"),c=i("5Tg0"),l=i("Q1l4"),d=i("VOtZ"),u=i("EEGq"),p=i("qZTm"),h=i("G6z8"),b=i("QqLw"),f=i("yHx3"),m=i("wrZu"),v=i("+iFO"),g=i("Z0cm"),y=i("DSRE"),_=i("zEVN"),x=i("GoyQ"),R=i("1+5i"),w=i("7GkX"),I=i("mTTR"),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,i,D,Q,C,O){var k,E=1&i,M=2&i,z=4&i;if(D&&(k=C?D(e,Q,C,O):D(e)),void 0!==k)return k;if(!x(e))return e;var P=g(e);if(P){if(k=f(e),!E)return l(e,k)}else{var j=b(e),T="[object Function]"==j||"[object GeneratorFunction]"==j;if(y(e))return c(e,E);if("[object Object]"==j||"[object Arguments]"==j||T&&!C){if(k=M||T?{}:v(e),!E)return M?u(e,a(k,e)):d(e,s(k,e))}else{if(!S[j])return C?e:{};k=m(e,j,E)}}O||(O=new n);var F=O.get(e);if(F)return F;O.set(e,k),R(e)?e.forEach((function(n){k.add(t(n,i,D,n,e,O))})):_(e)&&e.forEach((function(n,o){k.set(o,t(n,i,D,o,e,O))}));var A=P?void 0:(z?M?h:p:M?I:w)(e);return o(A||e,(function(n,o){A&&(n=e[o=n]),r(k,o,t(n,i,D,o,e,O))})),k}},"Of+w":function(t,e,i){var n=i("Cwc5")(i("Kz5y"),"WeakMap");t.exports=n},Q1l4:function(t,e){t.exports=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}},QIyF:function(t,e,i){var n=i("Kz5y");t.exports=function(){return n.Date.now()}},QcOe:function(t,e,i){var n=i("GoyQ"),o=i("6sVZ"),r=i("7Ix3"),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return r(t);var e=o(t),i=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&i.push(a);return i}},QkVE:function(t,e,i){var n=i("EpBk");t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},QqLw:function(t,e,i){var n=i("tadb"),o=i("ebwN"),r=i("HOxn"),s=i("yGk4"),a=i("Of+w"),c=i("NykK"),l=i("3Fdi"),d=l(n),u=l(o),p=l(r),h=l(s),b=l(a),f=c;(n&&"[object DataView]"!=f(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=f(new o)||r&&"[object Promise]"!=f(r.resolve())||s&&"[object Set]"!=f(new s)||a&&"[object WeakMap]"!=f(new a))&&(f=function(t){var e=c(t),i="[object Object]"==e?t.constructor:void 0,n=i?l(i):"";if(n)switch(n){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case b:return"[object WeakMap]"}return e}),t.exports=f},SfRM:function(t,e,i){var n=i("YESw");t.exports=function(){this.__data__=n?n(null):{},this.size=0}},TO8r:function(t,e){var i=/\s/;t.exports=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},"UNi/":function(t,e){t.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},V6Ve:function(t,e,i){var n=i("kekF")(Object.keys,Object);t.exports=n},VOtZ:function(t,e,i){var n=i("juv8"),o=i("MvSz");t.exports=function(t,e){return n(t,o(t),e)}},VaNO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},WFqU:function(t,e){var i="object"==typeof global&&global&&global.Object===Object&&global;t.exports=i},WwFo:function(t,e,i){var n=i("juv8"),o=i("7GkX");t.exports=function(t,e){return t&&n(e,o(e),t)}},XYm9:function(t,e,i){var n=i("+K+b");t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}},Xi7e:function(t,e,i){var n=i("KMkd"),o=i("adU4"),r=i("tMB7"),s=i("+6XX"),a=i("Z8oC");function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},YESw:function(t,e,i){var n=i("Cwc5")(Object,"create");t.exports=n},Z0cm:function(t,e){t.exports=Array.isArray},Z8oC:function(t,e,i){var n=i("y1pI");t.exports=function(t,e){var i=this.__data__,o=n(i,t);return o<0?(++this.size,i.push([t,e])):i[o][1]=e,this}},adU4:function(t,e,i){var n=i("y1pI"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0||(i==e.length-1?e.pop():o.call(e,i,1),--this.size,0))}},b2z7:function(t,e){var i=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,i.exec(t));return e.lastIndex=t.lastIndex,e}},b80T:function(t,e,i){var n=i("UNi/"),o=i("03A+"),r=i("Z0cm"),s=i("DSRE"),a=i("wJg7"),c=i("c6wG"),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=r(t),d=!i&&o(t),u=!i&&!d&&s(t),p=!i&&!d&&!u&&c(t),h=i||d||u||p,b=h?n(t.length,String):[],f=b.length;for(var m in t)!e&&!l.call(t,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,f))||b.push(m);return b}},c6wG:function(t,e,i){var n=i("dD9F"),o=i("sEf8"),r=i("mdPL"),s=r&&r.isTypedArray,a=s?o(s):n;t.exports=a},dD9F:function(t,e,i){var n=i("NykK"),o=i("shjB"),r=i("ExA7"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&o(t.length)&&!!s[n(t)]}},dTAl:function(t,e,i){var n=i("GoyQ"),o=Object.create,r=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=r},e4Nc:function(t,e,i){var n=i("fGT3"),o=i("k+1r"),r=i("JHgL"),s=i("pSRY"),a=i("H8j4");function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,t.exports=c},ebwN:function(t,e,i){var n=i("Cwc5")(i("Kz5y"),"Map");t.exports=n},ekgI:function(t,e,i){var n=i("YESw"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},fGT3:function(t,e,i){var n=i("4kuk"),o=i("Xi7e"),r=i("ebwN");t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},"fR/l":function(t,e,i){var n=i("CH3K"),o=i("Z0cm");t.exports=function(t,e,i){var r=e(t);return o(t)?r:n(r,i(t))}},fmRc:function(t,e,i){var n=i("Xi7e"),o=i("77Zs"),r=i("L8xA"),s=i("gCq4"),a=i("VaNO"),c=i("0Cz8");function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,t.exports=l},gCq4:function(t,e){t.exports=function(t){return this.__data__.get(t)}},gFfm:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}},hypo:function(t,e,i){var n=i("O0oS");t.exports=function(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},jXQH:function(t,e,i){var n=i("TO8r"),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},juv8:function(t,e,i){var n=i("MrPd"),o=i("hypo");t.exports=function(t,e,i,r){var s=!i;i||(i={});for(var a=-1,c=e.length;++a<c;){var l=e[a],d=r?r(i[l],t[l],l,i,t):void 0;void 0===d&&(d=t[l]),s?o(i,l,d):n(i,l,d)}return i}},"k+1r":function(t,e,i){var n=i("QkVE");t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},kekF:function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},lSCD:function(t,e,i){var n=i("NykK"),o=i("GoyQ");t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},ljhN:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},mTTR:function(t,e,i){var n=i("b80T"),o=i("QcOe"),r=i("MMmD");t.exports=function(t){return r(t)?n(t,!0):o(t)}},mdPL:function(t,e,i){(function(t){var n=i("WFqU"),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o&&n.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,i("YuTi")(t))},nmnc:function(t,e,i){var n=i("Kz5y");t.exports=n.Symbol},"oCl/":function(t,e,i){var n=i("CH3K"),o=i("LcsW"),r=i("MvSz"),s=i("0ycA");t.exports=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,r(t)),t=o(t);return e}:s},"otv/":function(t,e,i){var n=i("nmnc"),o=n?n.prototype:void 0,r=o?o.valueOf:void 0;t.exports=function(t){return r?Object(r.call(t)):{}}},pSRY:function(t,e,i){var n=i("QkVE");t.exports=function(t){return n(this,t).has(t)}},qZTm:function(t,e,i){var n=i("fR/l"),o=i("MvSz"),r=i("7GkX");t.exports=function(t){return n(t,r,o)}},sEf8:function(t,e){t.exports=function(t){return function(e){return t(e)}}},sEfC:function(t,e,i){var n=i("GoyQ"),o=i("QIyF"),r=i("tLB3"),s=Math.max,a=Math.min;t.exports=function(t,e,i){var c,l,d,u,p,h,b=0,f=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var i=c,n=l;return c=l=void 0,b=e,u=t.apply(n,i)}function y(t){return b=t,p=setTimeout(x,e),f?g(t):u}function _(t){var i=t-h;return void 0===h||i>=e||i<0||m&&t-b>=d}function x(){var t=o();if(_(t))return R(t);p=setTimeout(x,function(t){var i=e-(t-h);return m?a(i,d-(t-b)):i}(t))}function R(t){return p=void 0,v&&c?g(t):(c=l=void 0,u)}function w(){var t=o(),i=_(t);if(c=arguments,l=this,h=t,i){if(void 0===p)return y(h);if(m)return clearTimeout(p),p=setTimeout(x,e),g(h)}return void 0===p&&(p=setTimeout(x,e)),u}return e=r(e)||0,n(i)&&(f=!!i.leading,d=(m="maxWait"in i)?s(r(i.maxWait)||0,e):d,v="trailing"in i?!!i.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),b=0,c=h=l=p=void 0},w.flush=function(){return void 0===p?u:R(o())},w}},shjB:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},tLB3:function(t,e,i){var n=i("jXQH"),o=i("GoyQ"),r=i("/9aa"),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=a.test(t);return i||c.test(t)?l(t.slice(2),i?2:8):s.test(t)?NaN:+t}},tMB7:function(t,e,i){var n=i("y1pI");t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},tadb:function(t,e,i){var n=i("Cwc5")(i("Kz5y"),"DataView");t.exports=n},u8Dt:function(t,e,i){var n=i("YESw"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(e,t)?e[t]:void 0}},"w/wX":function(t,e,i){var n=i("QqLw"),o=i("ExA7");t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},wJg7:function(t,e){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},wrZu:function(t,e,i){var n=i("+K+b"),o=i("XYm9"),r=i("b2z7"),s=i("otv/"),a=i("yP5f");t.exports=function(t,e,i){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,i);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return r(t);case"[object Set]":return new c;case"[object Symbol]":return s(t)}}},y1pI:function(t,e,i){var n=i("ljhN");t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},y49O:function(t,e,i){"use strict";i.r(e),i.d(e,"ProgramsModule",(function(){return ns}));var n=i("fXoL"),o=i("ofXK");let r=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)}}),t})();var s=i("j1ZV"),a=i("Awto");function c(t){return null!=t&&""+t!="false"}function l(t){return t instanceof n.l?t.nativeElement:t}var d=i("K9Ia"),u=i("F/XL"),p=i("6blF"),h=(i("bne5"),i("tHPV")),b=i("4HpG");i("h9Dq");var f=i("pugT"),m=(i("zrt+"),i("ad02")),v=i("T1DM"),g=i("z4bA"),y=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.durationSelector))},t}(),_=function(t){function e(e,i){var n=t.call(this,e)||this;return n.durationSelector=i,n.hasValue=!1,n}return b.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(n){return this.destination.error(n)}var i=Object(g.c)(e,new g.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,i=this.throttled;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(g.b),x=i("gI3B");i("VnD/");var R=i("ny24"),w=i("p0Sj");i("FFOo");var I=i("15JJ");let S;i("klSw");try{S="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(os){S=!1}let D,Q,C=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(o.u)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(n.B))},t.\u0275prov=Object(n.Hb)({factory:function(){return new t(Object(n.Vb)(n.B))},token:t,providedIn:"root"}),t})();function O(t){return function(){if(null==D&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D=!0}))}finally{D=D||!1}return D}()?t:!!t.capture}const k=new n.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(n.T)(o.d)}});let E=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new n.n,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(k,8))},t.\u0275prov=Object(n.Hb)({factory:function(){return new t(Object(n.Vb)(k,8))},token:t,providedIn:"root"}),t})(),M=(()=>{class t{constructor(t,e,i){this._platform=t,this._change=new d.a,this._changeListener=t=>{this._change.next(t)},this._document=i,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),i=t.documentElement,n=i.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe((e=t,void 0===i&&(i=v.a),n=function(){return Object(x.a)(e,i)},function(t){return t.lift(new y(n))})):this._change;var e,i,n}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(C),n.Vb(n.z),n.Vb(o.d,8))},t.\u0275prov=Object(n.Hb)({factory:function(){return new t(Object(n.Vb)(C),Object(n.Vb)(n.z),Object(n.Vb)(o.d,8))},token:t,providedIn:"root"}),t})(),z=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)}}),t})();var P=i("/21U");function j(t){var e=t.subscriber,i=t.counter,n=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var T=i("p0ib"),F=i("67Y/"),A=i("t9fZ"),B=i("xMyE");function L(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function N(t,e){const i=e?"":"none";L(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function V(t,e){const i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function Y(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function U(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function G(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function q(t,e,i){const{top:n,bottom:o,left:r,right:s}=t;return i>=n&&i<=o&&e>=r&&e<=s}function $(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function H(t,e,i,n){const{top:o,right:r,bottom:s,left:a,width:c,height:l}=t,d=c*e,u=l*e;return n>o-u&&n<s+u&&i>a-d&&i<r+d}class W{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:G(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const n=e===this._document?e.documentElement:e,o=i.scrollPosition;let r,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();r=t.top,s=t.left}else r=e.scrollTop,s=e.scrollLeft;const a=o.top-r,c=o.left-s;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&n.contains(i)&&$(t.clientRect,a,c)}),o.top=r,o.left=s,{top:a,left:c}}}function Z(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<i.length;o++)i[o].removeAttribute("id");return"canvas"===n?tt(t,e):"input"!==n&&"select"!==n&&"textarea"!==n||X(t,e),K("canvas",t,e,tt),K("input, textarea, select",t,e,X),e}function K(t,e,i,n){const o=e.querySelectorAll(t);if(o.length){const e=i.querySelectorAll(t);for(let t=0;t<o.length;t++)n(o[t],e[t])}}let J=0;function X(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${J++}`)}function tt(t,e){const i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(os){}}const et=O({passive:!0}),it=O({passive:!1});class nt{constructor(t,e,i,n,o,r){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new d.a,this._pointerMoveSubscription=f.a.EMPTY,this._pointerUpSubscription=f.a.EMPTY,this._scrollSubscription=f.a.EMPTY,this._resizeSubscription=f.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new d.a,this.started=new d.a,this.released=new d.a,this.ended=new d.a,this.entered=new d.a,this.exited=new d.a,this.dropped=new d.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),i=this._dropContainer;if(!e)return void this._endDragSequence(t);i&&(i.isDragging()||i.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new W(i,o),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=c(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>l(t)),this._handles.forEach(t=>N(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=l(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,it),e.addEventListener("touchstart",this._pointerDown,et)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?l(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&st(this._rootElement),st(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&st(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&st(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){at(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,o=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(s,t),V(t,!1),this._document.body.appendChild(n.replaceChild(r,t)),(i=this._document,i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body).appendChild(o),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var i;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const i=this.isDragging(),n=at(e),o=!n&&0!==e.button,r=this._rootElement,s=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||s)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=G(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){V(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),o=this._getDragDistance(this._getPointerPositionOnPage(t)),r=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:o}),e.drop(this,i,this._initialContainer,r,o,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=ot(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let n;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),n=ct(o,this._document),this._previewRef=o,t.matchSize?lt(n,e):n.style.transform=ot(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;n=Z(t),lt(n,t.getBoundingClientRect())}return L(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),N(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>n.classList.add(t)):n.classList.add(e)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ot(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=U(e,"transition-property"),n=i.find(t=>"transform"===t||"all"===t);if(!n)return 0;const o=i.indexOf(n),r=U(e,"transition-duration"),s=U(e,"transition-delay");return Y(r[o])+Y(s[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(n))},n=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=ct(this._placeholderRef,this._document)):i=Z(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,o=n?n.getBoundingClientRect():i,r=at(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:o.left-i.left+(r.pageX-o.left-s.left),y:o.top-i.top+(r.pageY-o.top-s.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=at(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=n,e.y=o,e.matrixTransform(t.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?n=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,o=this._boundaryRect,r=this._previewRect,s=o.top+e,a=o.bottom-(r.height-e);i=rt(i,o.left+t,o.right-(r.width-t)),n=rt(n,s,a)}return{x:i,y:n}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-o.x),s=Math.abs(i-o.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(n.y=i>o.y?1:-1,o.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,N(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,it),t.removeEventListener("touchstart",this._pointerDown,et)}_applyRootElementTransform(t,e){const i=ot(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const o=i.left-n.left,r=n.right-i.right,s=i.top-n.top,a=n.bottom-i.bottom;i.width>n.width?(o>0&&(t+=o),r>0&&(t-=r)):t=0,i.height>n.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:at(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&$(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function ot(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function rt(t,e,i){return Math.max(e,Math.min(i,t))}function st(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function at(t){return"t"===t.type[0]}function ct(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const n=e.createElement("div");return i.forEach(t=>n.appendChild(t)),n}function lt(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=ot(e.left,e.top)}function dt(t,e){return Math.max(0,Math.min(e,t))}class ut{constructor(t,e,i,n,o){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new d.a,this.entered=new d.a,this.exited=new d.a,this.dropped=new d.a,this.sorted=new d.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=f.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new d.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{var t,e;this._stopScrolling(),(t=0,e=h.a,void 0===t&&(t=0),void 0===e&&(e=v.a),(!Object(P.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=v.a),new p.a((function(i){return i.add(e.schedule(j,t,{subscriber:i,counter:0,period:t})),i}))).pipe(Object(R.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?ht(t,-2):2===this._verticalScrollDirection&&ht(t,2),1===this._horizontalScrollDirection?bt(t,-2):2===this._horizontalScrollDirection&&bt(t,2)})},this.element=l(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new W(i,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=l(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,i,n){let o;this.start(),null==n?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,i))):o=n;const r=this._activeDraggables,s=r.indexOf(t),a=t.getPlaceholderElement();let c=r[o];if(c===t&&(c=r[o+1]),s>-1&&r.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),r.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const e=r[0].getRootElement();e.parentNode.insertBefore(a,e),r.unshift(t)}else l(this.element).appendChild(a),r.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,o,r){this._reset(),null==r&&(r=i.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:n,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=l(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?pt("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!H(this._clientRect,.05,e,i))return;const o=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===r&&o.length>0)return;const s="horizontal"===this._orientation,a=pt(o,e=>e.drag===t),c=o[r],l=c.clientRect,d=a>r?1:-1,u=this._getItemOffsetPx(o[a].clientRect,l,d),p=this._getSiblingOffsetPx(a,o,d),h=o.slice();!function(t,e,i){const n=dt(e,t.length-1),o=dt(i,t.length-1);if(n===o)return;const r=t[n],s=o<n?-1:1;for(let a=n;a!==o;a+=s)t[a]=t[a+s];t[o]=r}(o,a,r),this.sorted.next({previousIndex:a,currentIndex:r,container:this,item:t}),o.forEach((e,i)=>{if(h[i]===e)return;const n=e.drag===t,o=n?u:p,r=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,s?(r.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,$(e.clientRect,0,o)):(r.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,$(e.clientRect,o,0))}),this._previousSwap.overlaps=q(l,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?n.x:n.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=0,o=0;if(this._parentPositions.positions.forEach((r,s)=>{s!==this._document&&r.clientRect&&!i&&H(r.clientRect,.05,t,e)&&([n,o]=function(t,e,i,n){const o=ft(e,n),r=mt(e,i);let s=0,a=0;if(o){const e=t.scrollTop;1===o?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(r){const e=t.scrollLeft;1===r?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,r.clientRect,t,e),(n||o)&&(i=s))}),!n&&!o){const{width:r,height:s}=this._viewportRuler.getViewportSize(),a={width:r,height:s,top:0,right:r,bottom:s,left:0};n=ft(a,e),o=mt(a,t),i=window}!i||n===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=i,(n||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=l(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:G(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=l(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const n="horizontal"===this._orientation,o=e[t].clientRect,r=e[t+-1*i];let s=o[n?"width":"height"]*i;if(r){const t=n?"left":"top",e=n?"right":"bottom";-1===i?s-=r.clientRect[t]-o[e]:s+=o[t]-r.clientRect[e]}return s}_getItemOffsetPx(t,e,i){const n="horizontal"===this._orientation;let o=n?e.left-t.left:e.top-t.top;return-1===i&&(o+=n?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return n?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return n?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,n){const o="horizontal"===this._orientation;return pt(this._itemPositions,({drag:r,clientRect:s},a,c)=>{if(r===t)return c.length<2;if(n){const t=o?n.x:n.y;if(r===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return o?e>=Math.floor(s.left)&&e<Math.floor(s.right):i>=Math.floor(s.top)&&i<Math.floor(s.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return q(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!q(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;const o=l(this.element);return n===o||o.contains(n)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{$(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=function(t){if(function(){if(null==Q){const t="undefined"!=typeof document?document.head:null;Q=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Q}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(l(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function pt(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function ht(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function bt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function ft(t,e){const{top:i,bottom:n,height:o}=t,r=.05*o;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}function mt(t,e){const{left:i,right:n,width:o}=t,r=.05*o;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}const vt=O({passive:!1,capture:!0});let gt=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new d.a,this.pointerUp=new d.a,this.scroll=new d.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,vt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,vt)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:vt}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:vt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(n.z),n.Vb(o.d))},t.\u0275prov=Object(n.Hb)({factory:function(){return new t(Object(n.Vb)(n.z),Object(n.Vb)(o.d))},token:t,providedIn:"root"}),t})();const yt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let _t=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=yt){return new nt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new ut(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(o.d),n.Vb(n.z),n.Vb(M),n.Vb(gt))},t.\u0275prov=Object(n.Hb)({factory:function(){return new t(Object(n.Vb)(o.d),Object(n.Vb)(n.z),Object(n.Vb)(M),Object(n.Vb)(gt))},token:t,providedIn:"root"}),t})();const xt=new n.q("CDK_DRAG_PARENT"),Rt=new n.q("CDK_DRAG_CONFIG"),wt=new n.q("CdkDropList"),It=new n.q("CdkDragHandle");let St=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new d.a,this._disabled=!1,this._parentDrag=e}get disabled(){return this._disabled}set disabled(t){this._disabled=c(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(n.l),n.Lb(xt,12))},t.\u0275dir=n.Gb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[n.yb([{provide:It,useExisting:t}])]}),t})();const Dt=new n.q("CdkDragPlaceholder"),Qt=new n.q("CdkDragPreview");let Ct=(()=>{class t{constructor(t,e,i,o,r,s,a,c,l,u){this.element=t,this.dropContainer=e,this._document=i,this._ngZone=o,this._viewContainerRef=r,this._dir=a,this._changeDetectorRef=l,this._selfHandle=u,this._destroyed=new d.a,this.started=new n.n,this.released=new n.n,this.ended=new n.n,this.entered=new n.n,this.exited=new n.n,this.dropped=new n.n,this.moved=new p.a(t=>{const e=this._dragRef.moved.pipe(Object(F.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=c(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(A.a)(1),Object(R.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(w.a)(this._handles),Object(B.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(I.a)(t=>Object(T.a)(...t.map(t=>t._stateChanges.pipe(Object(w.a)(t))))),Object(R.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Ot(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?Ot(this.element.nativeElement,t):l(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(o),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:i,constrainPosition:n,previewClass:o,boundaryElement:r,draggingDisabled:s,rootElementSelector:a}=t;this.disabled=null!=s&&s,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),o&&(this.previewClass=o),r&&(this.boundaryElement=r),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(n.l),n.Lb(wt,12),n.Lb(o.d),n.Lb(n.z),n.Lb(n.O),n.Lb(Rt,8),n.Lb(E,8),n.Lb(_t),n.Lb(n.h),n.Lb(It,10))},t.\u0275dir=n.Gb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var o;1&t&&(n.Eb(i,Qt,!0),n.Eb(i,Dt,!0),n.Eb(i,It,!0)),2&t&&(n.qc(o=n.Zb())&&(e._previewTemplate=o.first),n.qc(o=n.Zb())&&(e._placeholderTemplate=o.first),n.qc(o=n.Zb())&&(e._handles=o))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&n.Db("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n.yb([{provide:xt,useExisting:t}]),n.xb]}),t})();function Ot(t,e){let i=t.parentElement;for(;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}let kt=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},providers:[_t],imports:[z]}),t})();var Et,Mt=function(){function t(){}return t.prototype.transform=function(t,e){return void 0===e&&(e=1),Array.isArray(t)?[].concat.apply([],t.map((function(i,n){return n%e?[]:[t.slice(n,n+e)]}))):t},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Kb({name:"chunk",type:t,pure:!0}),t}(),zt=function(){function t(){}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)}}),t}(),Pt=function(){function t(){}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[o.c,kt,a.a,s.a,zt]]}),t}(),jt=i("tyNb"),Tt=i("mrSG"),Ft=i("tk/3"),At=i("BkRI"),Bt=i.n(At),Lt=i("26FU"),Nt=i("2WpN"),Vt=i("5dVO"),Yt=i("nWBu"),Ut=i("e43+"),Gt=i("P9qh"),qt=function(){return function(t){void 0===t&&(t={}),this.id=-1,this.title="",this.description="",this.starts="",this.ends="",this.updateDate="",this.hasPhases=!1,this.isPublic=!1,this.beingEdited=!1,this.beingDuplicated=!1,this.observers=[],this.passiveEvents=[],this.activeEvents=[],this.users=[],this.chatMessages=[],this.comments=[],this.historic=[]}}(),$t=i("JADm"),Ht=function(){function t(t){var e,i;void 0===t&&(t={}),this.statement="",this.obrigatory=!1,this.id=t.id,this.statement=null!==(e=t.statement)&&void 0!==e?e:"",this.order_position=t.order_position,this.graph_index=t.graph_index,this.first=!Object($t.c)(t.first)&&t.first,this.next=t.next,this.obrigatory=!0,this.medias=null!==(i=t.medias)&&void 0!==i?i:[],this.x=t.x,this.y=t.y,this.type="empty"}return t.prototype.getTypeDescription=function(){return"Mensagem"},t.prototype.getOrderDescription=function(){return this.order_position<0?Object($t.f)(-1*this.order_position):this.order_position+1},t.prototype.getDescription=function(){return this.statement?this.statement:"Sem descri\xe7\xe3o"},t}(),Wt=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.media_type="",i.media_type=e.media_type?e.media_type:"",i.type="media",i.obrigatory=!Object($t.c)(e.obrigatory)&&e.obrigatory,i}return Object(Tt.d)(e,t),e.prototype.getTypeDescription=function(){return"Solicitar M\xeddia"},e}(Ht),Zt=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.type="calendar",i.obrigatory=!Object($t.c)(e.obrigatory)&&e.obrigatory,i}return Object(Tt.d)(e,t),e.prototype.getTypeDescription=function(){return"Abrir calend\xe1rio"},e}(Ht),Kt=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return 1!==e.question_type&&(i.obrigatory=!Object($t.c)(e.obrigatory)&&e.obrigatory),i.question_type=e.question_type,i.conditions=Object($t.c)(e.conditions)||0==e.conditions.length?{}:e.conditions,i.options=e.options||[],i.scales=(null==e?void 0:e.scales)||[],i.type="question",i}return Object(Tt.d)(e,t),e.prototype.getTypeDescription=function(){return 0===this.question_type?"Quest\xe3o aberta":1===this.question_type?"Escolha \xfanica":2===this.question_type?"M\xfaltipla escolha":3===this.question_type?"Likert":4===this.question_type?"Diferencial sem\xe2ntico":31===this.question_type?"Likert personalizado":"Mensagem"},e}(Ht),Jt=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.app_package="",i.parameters={},i.obrigatory=!Object($t.c)(e.obrigatory)&&e.obrigatory,i.app_package=e.app_package?e.app_package:"",i.parameters=e.parameters?e.parameters:{},i.start_from_notification=e.start_from_notification,i.type="task",i}return Object(Tt.d)(e,t),e}(Ht),Xt=i("oP0P"),te=i("0xJi"),ee=i("y9qN"),ie=new Uint8Array(16);function ne(){if(!Et&&!(Et="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Et(ie)}for(var oe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,re=function(t){return"string"==typeof t&&oe.test(t)},se=[],ae=0;ae<256;++ae)se.push((ae+256).toString(16).substr(1));var ce=function(t,e,i){var n=(t=t||{}).random||(t.rng||ne)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var o=0;o<16;++o)e[i+o]=n[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(se[t[e+0]]+se[t[e+1]]+se[t[e+2]]+se[t[e+3]]+"-"+se[t[e+4]]+se[t[e+5]]+"-"+se[t[e+6]]+se[t[e+7]]+"-"+se[t[e+8]]+se[t[e+9]]+"-"+se[t[e+10]]+se[t[e+11]]+se[t[e+12]]+se[t[e+13]]+se[t[e+14]]+se[t[e+15]]).toLowerCase();if(!re(i))throw TypeError("Stringified UUID is invalid");return i}(n)},le=function(){function t(t,e,i){this._localStorageService=t,this._swalService=e,this.channel=i,this.interventionElementsGraph=[],this.graphElements=[],this.clearBoard$=new d.a,this.redrawGraph$=new d.a,this.removeIntervention$=new d.a,this.hasMultiplePaths=!1,this.programId=-1,this.eventId=-1,this.newInterventions$=new d.a,this.firstInterventionChange$=new d.a,this.states=[],this.currentState=-1}return Object.defineProperty(t.prototype,"firstIntervention",{get:function(){return this.graphElements.findIndex((function(t){return 1==t.intervention.first}))},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,i){var n=this;this.states=[],this.currentState=-1,this.loadState(t),this.programId=e,this.eventId=i,this.saveState(),this.channel.echo.private("program."+this.programId).listenForWhisper("interventionService"+this.programId+"ae"+this.eventId,(function(t){console.log("Eventos",t),n.channelUpdate(t)}))},t.prototype.fixOrderAndNextForOldSPIMInterventions=function(t){t.sort((function(t,e){return t.graph_index<e.graph_index?-1:t.graph_index>e.graph_index?1:0}));var e={};return t.forEach((function(t,i){e[t.graph_index]=i})),t.map((function(t,i){if(t.graph_index=i,"question"===t.type&&1==t.question_type){var n=t;Object.keys(n.conditions).map((function(t){n.conditions[t]=Object($t.c)(e[n.conditions[t]])?null:e[n.conditions[t]]}))}t.next=Object($t.c)(e[t.next])?null:e[t.next]})),t},t.prototype.nextState=function(){if(this.currentState<this.states.length-1){this.saveCurrentState();var t=this.states[++this.currentState];this.loadState(t)}},t.prototype.previousState=function(){if(this.currentState>0){this.saveCurrentState();var t=this.states[--this.currentState];this.loadState(t)}},t.prototype.saveState=function(){var t=Bt()(this.getCurrentState());this.currentState!=this.states.length-1&&this.states.splice(this.currentState+1),50==this.states.length&&this.states.shift(),this.states.push(t),this.currentState=this.states.length-1,JSON.stringify(t)},t.prototype.saveCurrentState=function(){var t=Bt()(this.getCurrentState());this.states[this.currentState]=t},t.prototype.loadState=function(t){var e=Bt()(t);this.clearBoard$.next(),this.graphElements=[],this.interventionElementsGraph=[],this.lastInteractedIntervention=null,this.loadInterventions(e)},t.prototype.getCurrentState=function(){var t=this;return this.graphElements.forEach((function(e,i){1!==e.intervention.question_type&&(e.intervention.next=t.interventionElementsGraph[i][0])})),this.graphElements.map((function(t){return t.intervention}))},t.prototype.loadInterventions=function(t){var e=this;t.map((function(t){return e.transformToClass(t)})).forEach((function(t,i){if(1!==t.intervention.question_type)e.interventionElementsGraph.push([t.intervention.next]);else{var n=Object.values(t.intervention.conditions).filter((function(t,e,i){return i.indexOf(t)==e}));e.interventionElementsGraph.push(n)}e.graphElements.push(t),e.newInterventions$.next({graphIndex:i,intervention:t})})),this.redrawGraph$.next()},t.prototype.transformToClass=function(t){return new de(this.getInterventionClass(t))},t.prototype.getInterventionClass=function(t){var e;return"empty"===t.type?e=new Ht(t):"media"===t.type?e=new Wt(t):"question"===t.type?e=new Kt(t):"task"===t.type?e=new Jt(t):"calendar"===t.type&&(e=new Zt(t)),e},t.prototype.addIntervention=function(t){this.saveCurrentState(),Object($t.c)(this.lastInteractedIntervention)||(this.graphElement(this.lastInteractedIntervention).intervention instanceof Kt&&1==this.graphElement(this.lastInteractedIntervention).intervention.question_type?this.interventionElementsGraph[this.lastInteractedIntervention].push(this.interventionElementsGraph.length):Object($t.c)(this.interventionElementsGraph[this.lastInteractedIntervention])||(this.interventionElementsGraph[this.lastInteractedIntervention]=[this.interventionElementsGraph.length])),0==this.graphElements.length&&(t.first=!0),this.interventionElementsGraph.push([null]),this.graphElements.push(t),this.newInterventions$.next({graphIndex:this.graphElements.length-1,intervention:t}),this.redrawGraph$.next(),this.saveState()},t.prototype.removeIntervention=function(t,e){void 0===e&&(e=!0),this.saveCurrentState(),this.interventionElementsGraph.splice(t,1),this.graphElements.splice(t,1);for(var i=0,n=this.interventionElementsGraph;i<n.length;i++)for(var o=n[i],r=0;r<o.length;)o[r]==t?o[r]=null:o[r]>t?(o[r]--,r++):r++;if(0==this.interventionElementsGraph.length&&(this.lastInteractedIntervention=null),this.removeIntervention$.next(t),this.redrawGraph$.next(),this.saveState(),e){var s={acao:"r"};s.index=t,this.sendUpdate(s)}},t.prototype.graphElement=function(t){return this.graphElements[t]},t.prototype.setNextFromTo=function(t,e){this.hasArrow(t,e)||(this.interventionElementsGraph[t].push(e),this.redrawGraph$.next())},t.prototype.hasArrow=function(t,e){for(var i=0,n=this.interventionElementsGraph[t];i<n.length;i++)if(n[i]===e)return!0;return!1},t.prototype.removeEdges=function(t,e){void 0===e&&(e=!0),this.interventionElementsGraph[t]=[],e&&this.redrawGraph$.next()},t.prototype.warnCycle=function(t){},t.prototype.setFirst=function(t){this.firstInterventionChange$.next(t),this.redrawGraph$.next()},t.prototype.channelUpdate=function(t){console.log("Chegou Intervention Service"),(t.acao="r")&&this.removeIntervention(t.index,!1)},t.prototype.sendUpdate=function(t){t.id=this.programId,console.log(t),console.log("mandou"),this.channel.chanelSend(this.programId,"interventionService"+this.programId+"ae"+this.eventId,t)},t.\u0275fac=function(e){return new(e||t)(n.Vb(Xt.a),n.Vb(ee.a),n.Vb(te.a))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),de=function(){function t(t,e,i,n,o){this.intervention=t,this._x=e,this._y=i,this._width=n,this._height=o,this.uuid=ce(),this.onChange$=new d.a}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this._x&&(this._x=t,this.onChange$.next(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this._y&&(this._y=t,this.onChange$.next(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width?this._width:300},set:function(t){t!==this._width&&(this._width=t,this.onChange$.next(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.onChange$.next(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question_type",{get:function(){if(this.intervention instanceof Kt)return this.intervention.question_type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statement",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.statement},set:function(t){this.intervention.statement=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"order_position",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.order_position},set:function(t){this.intervention.order_position=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orderDescription",{get:function(){return this.intervention.getOrderDescription()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeDescription",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.getTypeDescription()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.first},set:function(t){this.intervention.first=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"obrigatory",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.obrigatory},set:function(t){this.intervention.obrigatory=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x,y:this.y-this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.x-this.width/2,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.x+this.width/2,y:this.y}},enumerable:!1,configurable:!0}),t}(),ue=i("qT8p"),pe=function(){function t(t,e,i,n,o,r){this._daoService=t,this.loginService=e,this._loaderService=i,this.route=n,this._toastr=o,this.interventionService=r,this.urlPrograms=Yt.o,this._currentProgramSubject=new Lt.a(new qt),this.program=this._currentProgramSubject.asObservable()}return t.prototype.fetchData=function(t){var e=this;this._loaderService.show();var i=(new Ft.f).append("include[]","passiveEvents").append("include[]","passiveEvents.sensors").append("include[]","passiveEvents.triggers").append("include[]","activeEvents").append("include[]","activeEvents.interventions").append("include[]","activeEvents.triggers").append("include[]","users").append("include[]","observers.user");this._daoService.getObject(this.urlPrograms,t,i).pipe(Object(Nt.a)((function(){return e._loaderService.hide()}))).subscribe((function(t){t.data.activeEvents.map((function(t){return t.interventions=t.interventions.map((function(t){return e.interventionService.getInterventionClass(t)})),t.interventions=e.interventionService.fixOrderAndNextForOldSPIMInterventions(t.interventions),t})),e._currentProgramSubject.next(t.data)}))},t.prototype.clearData=function(){var t=new qt;t.observers=[this.loginService.userObserver],this._currentProgramSubject.next(t)},t.prototype.criarProgram=function(){var t=this,e=new qt;e.id=0,e.observers=[this.loginService.userObserver],e.observer=this.loginService.userObserver,e.title="Sem t\xedtulo",e.description="Sem descri\xe7\xe3o",this._daoService.postObject(Yt.o,e).subscribe((function(i){e.id=i.id,t._currentProgramSubject.next(e)}))},t.prototype.saveStep=function(t){var e=this,i=this.programValue.id;return i?(this._loaderService.show(),this._daoService.patchObject(Yt.o,Object(Tt.a)(Object(Tt.a)({},t),{id:i})).pipe(Object(Nt.a)((function(){return e._loaderService.hide()})))):Object(u.a)(!1)},t.prototype.saveLocalStep=function(t){var e=Object(Tt.a)(Object(Tt.a)({},this.programValue),t);this._currentProgramSubject.next(e)},t.prototype.saveProgram=function(){var t=this,e=this.programValue.id,i=Bt()(this.programValue);i.observers=i.observers.map((function(t){return t.id})),i.users=i.users.map((function(t){return t.id})),i.activeEvents.map((function(e){return e.triggers.map((function(t){return t.condition=t.condition.toString(),t})),e.interventions=t.fixInterventionsToSave(e.interventions),e.gamificationConditions&&(e.gamificationConditions.badges=e.gamificationConditions.badges.map((function(e){return t.fixGamificationBadgeToSave(e)}))),e})),i.passiveEvents.map((function(t){return t.triggers.map((function(t){return t.condition=t.condition.toString(),t})),t})),this._loaderService.show(),e?this._daoService.putObject(Yt.o+e,i).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t.route.navigate(["/private/programs/list"]),t._toastr.success(e.message)})):this._daoService.postObject(Yt.o,i).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t.route.navigate(["/private/programs/list"]),t._toastr.success(e.message)}))},t.prototype.fixInterventionsToSave=function(t){return t.map((function(t){t.medias=t.medias.map((function(t){return t.id}))})),t},t.prototype.fixGamificationBadgeToSave=function(t){return{name:t.name,media_id:t.media.id}},Object.defineProperty(t.prototype,"programValue",{get:function(){return this._currentProgramSubject.value},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(n.Vb(Gt.a),n.Vb(Ut.a),n.Vb(Vt.a),n.Vb(jt.c),n.Vb(ue.b),n.Vb(le))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function he(t,e){1&t&&n.Mb(0,"i",11)}function be(t,e){1&t&&n.Mb(0,"i",11)}function fe(t,e){1&t&&n.Mb(0,"i",11)}function me(t,e){1&t&&n.Mb(0,"i",11)}var ve=function(t,e){return{"pointer-events":t,cursor:e}},ge=function(){return["rounded-tab-active"]},ye=function(){return["first/"]},_e=function(){return["second/"]},xe=function(){return["third/"]},Re=function(){return["fourth/"]};function we(t,e){if(1&t&&(n.Rb(0,"div",1),n.Rb(1,"div",2),n.Rb(2,"div",3),n.Rb(3,"div",4),n.Rb(4,"a",5),n.Dc(5,"1"),n.Qb(),n.Bc(6,he,1,0,"i",6),n.Qb(),n.Rb(7,"div",7),n.Rb(8,"small",8),n.Dc(9,"Informa\xe7\xf5es"),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"div",3),n.Rb(11,"div",4),n.Rb(12,"a",5),n.Dc(13,"2"),n.Qb(),n.Bc(14,be,1,0,"i",6),n.Qb(),n.Rb(15,"div",7),n.Rb(16,"small",8),n.Dc(17,"Observadores"),n.Qb(),n.Qb(),n.Qb(),n.Rb(18,"div",3),n.Rb(19,"div",4),n.Rb(20,"a",5),n.Dc(21,"3"),n.Qb(),n.Bc(22,fe,1,0,"i",6),n.Qb(),n.Rb(23,"div",7),n.Rb(24,"small",8),n.Dc(25,"Participantes"),n.Qb(),n.Qb(),n.Qb(),n.Rb(26,"div",3),n.Rb(27,"div",4),n.Rb(28,"a",5),n.Dc(29,"4"),n.Qb(),n.Bc(30,me,1,0,"i",6),n.Qb(),n.Rb(31,"div",9),n.Rb(32,"small",10),n.Dc(33,"Eventos"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t){var i=e.ngIf,o=n.cc();n.zb(4),n.yc(n.mc(28,ve,o.biggerStepOpened>=1?"auto":"none",o.biggerStepOpened>=1?"auto":"default")),n.Db("rounded-tab-done",o.biggerStepOpened>=1),n.ic("routerLinkActive",n.kc(31,ge))("routerLink",n.kc(32,ye)),n.zb(2),n.ic("ngIf",o.biggerStepOpened>1&&""==i.title),n.zb(6),n.yc(n.mc(33,ve,o.biggerStepOpened>=2?"auto":"none",o.biggerStepOpened>=2?"auto":"default")),n.Db("rounded-tab-done",o.biggerStepOpened>=2),n.ic("routerLinkActive",n.kc(36,ge))("routerLink",n.kc(37,_e)),n.zb(2),n.ic("ngIf",o.biggerStepOpened>2&&0==i.observers.length),n.zb(6),n.yc(n.mc(38,ve,o.biggerStepOpened>=3?"auto":"none",o.biggerStepOpened>=3?"auto":"default")),n.Db("rounded-tab-done",o.biggerStepOpened>=3),n.ic("routerLinkActive",n.kc(41,ge))("routerLink",n.kc(42,xe)),n.zb(2),n.ic("ngIf",o.biggerStepOpened>3&&0==i.users.length),n.zb(6),n.yc(n.mc(43,ve,o.biggerStepOpened>=4?"auto":"none",o.biggerStepOpened>=4?"auto":"default")),n.Db("rounded-tab-done",o.biggerStepOpened>=4),n.ic("routerLinkActive",n.kc(46,ge))("routerLink",n.kc(47,Re)),n.zb(2),n.ic("ngIf",4==o.biggerStepOpened&&o.currentStep<4&&0==i.activeEvents.length&&0==i.passiveEvents.length)}}var Ie=function(){function t(t,e,i){this.programAddService=t,this.activeRoute=e,this.router=i,this.currentStep=1,this.biggerStepOpened=1}return t.prototype.ngOnInit=function(){var t=this;this.program=this.programAddService.program,this.activeRoute.snapshot.params.id&&(this.biggerStepOpened=4,this.updateStep(this.router.url)),this.router.events.subscribe((function(e){t.activeRoute.snapshot.queryParamMap.get("reset")?t.currentStep=1:t.updateStep(e.urlAfterRedirects)}))},t.prototype.updateStep=function(t){if(t){var e,i=t.split("/").pop();i.startsWith("first")?e=1:i.startsWith("second")?e=2:i.startsWith("third")?e=3:i.startsWith("fourth")&&(e=4),this.currentStep=e,e>this.biggerStepOpened&&(this.biggerStepOpened=e)}},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(jt.a),n.Lb(jt.c))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-step-panel"]],decls:2,vars:3,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row","my-3","holder-steps"],[1,"col-3","step"],[1,"row","justify-content-center","text-center"],[1,"rounded-tab","text-white",3,"routerLinkActive","routerLink"],["class","fas fa-exclamation-circle text-warning",4,"ngIf"],[1,"row","align-items-center","justify-content-center","mt-3"],[1,"medium","font-weight-bold"],[1,"row","justify-content-center","mt-3"],[1,"font-weight-bold","medium"],[1,"fas","fa-exclamation-circle","text-warning"]],template:function(t,e){1&t&&(n.Bc(0,we,34,48,"div",0),n.dc(1,"async")),2&t&&n.ic("ngIf",n.ec(1,1,e.program))},directives:[o.l,jt.e,jt.d],pipes:[o.b],styles:['.holder-steps[_ngcontent-%COMP%]{position:relative;overflow:hidden;z-index:0}.step[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#e0e0e0;position:absolute;left:-50%;top:19px;z-index:-1}.step[_ngcontent-%COMP%]:first-child:after{content:none}']}),t}(),Se=i("c2Rs"),De=i("3Pt+");function Qe(t,e){if(1&t&&(n.Rb(0,"p",9),n.Rb(1,"font",10),n.Dc(2),n.Mb(3,"br"),n.Qb(),n.Dc(4),n.Mb(5,"br"),n.Rb(6,"font",11),n.Dc(7),n.Qb(),n.Qb()),2&t){var i=n.cc().$implicit;n.zb(2),n.Fc(" ",i.user," "),n.zb(2),n.Fc(" ",i.message," "),n.zb(3),n.Gc("",i.date," - ",i.time,"")}}function Ce(t,e){if(1&t&&(n.Rb(0,"p",12),n.Rb(1,"font",10),n.Dc(2,"Voc\xea"),n.Mb(3,"br"),n.Qb(),n.Dc(4),n.Mb(5,"br"),n.Rb(6,"font",13),n.Dc(7),n.Qb(),n.Qb()),2&t){var i=n.cc().$implicit;n.zb(4),n.Fc(" ",i.message," "),n.zb(3),n.Gc("",i.date," - ",i.time,"")}}var Oe=function(t,e){return{"ml-1":t,"mr-1":e}};function ke(t,e){if(1&t&&(n.Rb(0,"div",6),n.Bc(1,Qe,8,4,"p",7),n.Bc(2,Ce,8,3,"p",8),n.Qb()),2&t){var i=e.$implicit;n.ic("ngClass",n.mc(3,Oe,"teste 1"!=i.user,"teste 1"==i.user)),n.zb(1),n.ic("ngIf","teste 1"!=i.user),n.zb(1),n.ic("ngIf","teste 1"==i.user)}}var Ee=function(){function t(t,e,i,n){var o=this;this.programAddService=t,this.channel=e,this._dao=i,this._login=n,this.messages=[],this.programId=1,this.user="",this.mensagem="",this.needSet=!0,this.user=n.userName(),this._subscription$=this.programAddService.program.subscribe((function(t){o.needSet&&t.id>0&&(o.programId=t.id,o._dao.getObjects(Yt.d+o.programId+"/").subscribe((function(t){o.messages=t})),console.log(t),o.needSet=!1,o.channel.echo.private("program."+o.programId).listenForWhisper("chat"+o.programId,(function(t){o.channelUpdate(t)})))}))}return t.prototype.ngOnInit=function(){},t.prototype.enviarChat=function(){var t=this,e={};e.id=this.programId,e.tela="chat";var i={date:"",time:"",message:this.mensagem,user:this.user};e.chatProgram=i,console.log(e),this._dao.postObject(Yt.d,e).subscribe((function(n){i.id=n.id,i.time=n.time,i.date=n.date,console.log(e),t.messages.push(i),t.channel.chanelSend(t.programId,"chat"+t.programId,i)})),this.mensagem=""},t.prototype.channelUpdate=function(t){this.messages.push(t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(te.a),n.Lb(Gt.a),n.Lb(Ut.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-chat"]],decls:7,vars:2,consts:[[1,"w-100","mt-2","border","border-primary",2,"height","280px","overflow-y","scroll"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"w-100","mt-2"],["row","4",1,"w-100",3,"ngModel","ngModelChange"],[1,"w-100"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[3,"ngClass"],["class","outro",4,"ngIf"],["class","eu",4,"ngIf"],[1,"outro"],[2,"font-weight","bold"],[2,"color","cyan","font-size","8"],[1,"eu"],[2,"color","gray","font-size","8"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Bc(1,ke,3,6,"div",1),n.Qb(),n.Rb(2,"div",2),n.Rb(3,"textarea",3),n.Yb("ngModelChange",(function(t){return e.mensagem=t})),n.Qb(),n.Qb(),n.Rb(4,"div",4),n.Rb(5,"button",5),n.Yb("click",(function(){return e.enviarChat()})),n.Dc(6,"Enviar"),n.Qb(),n.Qb()),2&t&&(n.zb(1),n.ic("ngForOf",e.messages),n.zb(2),n.ic("ngModel",e.mensagem))},directives:[o.k,De.b,De.k,De.n,o.j,o.l],styles:[".outro[_ngcontent-%COMP%]{color:#fff;background-color:#00f}.eu[_ngcontent-%COMP%], .outro[_ngcontent-%COMP%]{border-radius:5px;font-size:9px;line-height:9px}.eu[_ngcontent-%COMP%]{color:#000;background-color:#d3d3d3;font-style:italic}"]}),t}();function Me(t,e){if(1&t&&(n.Rb(0,"span",2),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.zb(1),n.Fc(" ",i," ")}}var ze=function(){function t(t,e,i,n){var o=this;this.programAddService=t,this.channel=e,this._dao=i,this._login=n,this.editores=[],this.programId=1,this.user="",this.needSet=!0,this.user=n.userName(),this._subscription$=this.programAddService.program.subscribe((function(t){o.needSet&&t.id&&(o.programId=t.id,o.needSet=!1,o.channel.echo.private("program."+o.programId).listenForWhisper("editores"+o.programId,(function(t){o.channelUpdate(t)})))}))}return t.prototype.ngOnDestroy=function(){var t={};t.id=this.programId,t.tela="editor",t.editor=this.user,t.action="d",this.channel.chanelSend(this.programId,"editores"+this.programId,t)},t.prototype.ngOnInit=function(){this.enviar("sim")},t.prototype.enviar=function(t){void 0===t&&(t="nao");var e={};e.id=this.programId,e.tela="editor",e.editor=this.user,e.action="a",e.return=t,console.log(e),this.channel.chanelSend(this.programId,"editores"+this.programId,e)},t.prototype.channelUpdate=function(t){console.log(t),"a"==t.action?(this.adicionaEditor(t.editor),"sim"==t.return&&this.enviar()):this.removeEditor(t.editor)},t.prototype.adicionaEditor=function(t){for(var e=!0,i=0;i<this.editores.length;i++)if(this.editores[i]==t){e=!1;break}e&&this.editores.push(t)},t.prototype.removeEditor=function(t){for(var e=-1,i=0;i<this.editores.length;i++)if(this.editores[i]==t){e=i;break}e>-1&&this.editores.splice(e,1)},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(te.a),n.Lb(Gt.a),n.Lb(Ut.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-editores"]],decls:8,vars:1,consts:[[1,"w-100","d-flex","justify-content-between","p-1"],[1,"text-primary"],[1,"ml-2","bg-success","text-white"],["class","ml-2 bg-success text-white",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div"),n.Rb(2,"span",1),n.Rb(3,"b"),n.Dc(4,"Editores Ativos:"),n.Qb(),n.Qb(),n.Rb(5,"span",2),n.Dc(6," Voc\xea "),n.Qb(),n.Bc(7,Me,2,1,"span",3),n.Qb(),n.Qb()),2&t&&(n.zb(7),n.ic("ngForOf",e.editores))},directives:[o.k],styles:[""]}),t}(),Pe=i("CbkN");function je(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",14),n.Rb(1,"div",15),n.Rb(2,"p",16),n.Rb(3,"font",17),n.Dc(4),n.Qb(),n.Rb(5,"font",18),n.Dc(6),n.Qb(),n.Dc(7),n.Rb(8,"i",19),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().apagar(t.id)})),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit;n.zb(4),n.Gc("[",o.date," - ",o.time,"]"),n.zb(2),n.Fc(" ",o.user," "),n.zb(1),n.Fc(": ",o.message," ")}}var Te=function(){function t(t,e,i,n,o){var r=this;this.bsModalRef=t,this.programAddService=e,this.channel=i,this._dao=n,this._login=o,this.mensagem="",this.programId=1,this.user="",this.needSet=!0,this.messages=[],this.user=o.userName(),this._subscription$=this.programAddService.program.subscribe((function(t){r.needSet&&t.id>0&&(console.log(t),r.programId=t.id,r._dao.getObjects(Yt.e+r.programId+"/").subscribe((function(t){r.messages=t})),r.needSet=!1,r.channel.echo.private("program."+r.programId).listenForWhisper("comment"+r.programId,(function(t){r.channelUpdate(t)})))}))}return t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.bsModalRef.hide()},t.prototype.adicionarComentario=function(){var t=this,e={};e.id=this.programId,e.tela="comment",e.acao="a";var i={date:"",time:"",message:this.mensagem,user:this.user};e.comment=i,console.log(e),this._dao.postObject(Yt.e,e).subscribe((function(n){i.id=n.id,i.time=n.time,i.date=n.date,e.comment=i,console.log(e),t.messages.push(i),t.channel.chanelSend(t.programId,"comment"+t.programId,i)})),this.mensagem=""},t.prototype.apagar=function(t){var e=this,i={};i.id=this.programId,i.tela="comment",i.acao="d",i.comment=this.messages[t],console.log(i),this._dao.deleteObject(Yt.e,i).subscribe((function(i){for(var n=-1,o=0;o<e.messages.length;o++)if(e.messages[o].id==t){n=o;break}e.messages.splice(n,1)}))},t.prototype.channelUpdate=function(t){if("a"==t.acao)this.messages.push(t.comment);else{for(var e=-1,i=0;i<this.messages.length;i++)if(this.messages[i].id==t.comment.id){e=i;break}this.messages.splice(e,1)}},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(pe),n.Lb(te.a),n.Lb(Gt.a),n.Lb(Ut.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-add-coments"]],decls:18,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"w-100","mt-2","border","border-primary",2,"height","200px","overflow-y","scroll"],["class","row p-2",4,"ngFor","ngForOf"],[1,"w-100","mt-2"],["row","4",1,"w-100",3,"ngModel","ngModelChange"],[1,"w-100"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"modal-footer"],[1,"row","justify-content-end"],[1,"btn","btn-white","btn-shadow","mr-4",3,"click"],[1,"row","p-2"],[1,"col"],[1,"eu"],[2,"color","gray","font-size","8"],[2,"font-weight","bold"],[1,"far","fa-check-circle","text-success","fa-2x",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"h4",1),n.Dc(2,"Coment\xe1rios"),n.Qb(),n.Rb(3,"button",2),n.Yb("click",(function(){return e.close()})),n.Rb(4,"span",3),n.Dc(5,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",4),n.Rb(7,"div",5),n.Bc(8,je,9,4,"div",6),n.Qb(),n.Rb(9,"div",7),n.Rb(10,"textarea",8),n.Yb("ngModelChange",(function(t){return e.mensagem=t})),n.Qb(),n.Qb(),n.Rb(11,"div",9),n.Rb(12,"button",10),n.Yb("click",(function(){return e.adicionarComentario()})),n.Dc(13,"Adicionar Coment\xe1rio"),n.Qb(),n.Qb(),n.Qb(),n.Rb(14,"div",11),n.Rb(15,"div",12),n.Rb(16,"button",13),n.Yb("click",(function(){return e.close()})),n.Dc(17,"Fechar"),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(8),n.ic("ngForOf",e.messages),n.zb(2),n.ic("ngModel",e.mensagem))},directives:[o.k,De.b,De.k,De.n],styles:[".eu[_ngcontent-%COMP%]{color:#000;font-size:12px;line-height:12px}"]}),t}(),Fe=function(){function t(t){this._modalService=t}return t.prototype.ngOnInit=function(){},t.prototype.openModalComents=function(){this._modalRef=this._modalService.show(Te,{ignoreBackdropClick:!0,initialState:{}})},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.b))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-coments"]],decls:2,vars:0,consts:[["data-toggle","tooltip","data-placement","top","title","Coment\xe1rios",1,"btn","btn-link",3,"click"],[1,"fas","fa-comment-dots","text-success","fa-3x"]],template:function(t,e){1&t&&(n.Rb(0,"button",0),n.Yb("click",(function(){return e.openModalComents()})),n.Mb(1,"i",1),n.Qb())},styles:[""]}),t}();function Ae(t,e){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"p",2),n.Dc(2),n.Qb(),n.Qb()),2&t){var i=e.$implicit;n.zb(2),n.Ic("",i.order,": ",i.user," ",i.action," dia ",i.date," \xe0s ",i.time,"")}}var Be=function(){function t(t,e,i,n){var o=this;this.programAddService=t,this.channel=e,this._dao=i,this._login=n,this.historic=[],this.programId=1,this.user="",this.needSet=!0,this.user=n.userName(),this._subscription$=this.programAddService.program.subscribe((function(t){o.needSet&&t.id>0&&(o.programId=t.id,o._dao.getObjects(Yt.h+o.programId+"/").subscribe((function(t){o.historic=t})),console.log(t),o.needSet=!1,o.channel.echo.private("program."+o.programId).listenForWhisper("historic"+o.programId,(function(t){o.historic.push(t)})))}))}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(te.a),n.Lb(Gt.a),n.Lb(Ut.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-historico"]],decls:2,vars:1,consts:[[1,"w-100","mt-2","border","border-primary",2,"height","380px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[1,"eu"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Bc(1,Ae,3,5,"div",1),n.Qb()),2&t&&(n.zb(1),n.ic("ngForOf",e.historic))},directives:[o.k],styles:[".eu[_ngcontent-%COMP%]{color:#000;font-size:9px;line-height:9px}"]}),t}();function Le(t,e){1&t&&n.Mb(0,"i",13)}function Ne(t,e){1&t&&n.Mb(0,"i",14)}function Ve(t,e){1&t&&n.Mb(0,"i",15)}function Ye(t,e){1&t&&n.Mb(0,"i",16)}var Ue=function(t,e){return{"col-1":t,"col-2":e}},Ge=function(t,e,i){return{"col-10":t,"col-9":e,"col-8":i}},qe=function(){function t(t,e,i,n){this.router=t,this.activeRoute=e,this.programsAddService=i,this._dao=n,this.chatOn=!1,this.historicOn=!1}return t.prototype.tamanho=function(){return this.chatOn||this.historicOn?this.chatOn&&this.historicOn?2:1:0},t.prototype.ngOnInit=function(){var t=this.activeRoute.snapshot.params.id;this.programsAddService.clearData(),t?this.programsAddService.fetchData(t):(this.programsAddService.criarProgram(),this.router.navigate(["./first"],{relativeTo:this.activeRoute,queryParams:{reset:!0}}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(jt.c),n.Lb(jt.a),n.Lb(pe),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-programs-add"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Ie,!0),2&t&&n.qc(i=n.Zb())&&(e.stepPanel=i.first)},decls:21,vars:19,consts:[[1,"container"],[1,"row"],[1,"my-4",3,"ngClass"],["type","button","data-toggle","tooltip","data-placement","top","title","Chat",1,"btn","btn-link","rounded","w-100",3,"click"],["class","fas fa-comments text-success fa-3x",4,"ngIf"],["class","fas fa-comment-slash text-warning fa-3x",4,"ngIf"],[3,"collapse"],[3,"ngClass"],["id","container",1,"card","card-lg","mx-auto","my-2","mb-2"],[1,"w-100","d-flex","justify-content-between","p-1"],["type","button","data-toggle","tooltip","data-placement","top","title","Hist\xf3rico",1,"btn","btn-link","rounded","w-100",3,"click"],["class","fas fa-book-open text-success fa-3x",4,"ngIf"],["class","fas fa-book text-warning fa-3x",4,"ngIf"],[1,"fas","fa-comments","text-success","fa-3x"],[1,"fas","fa-comment-slash","text-warning","fa-3x"],[1,"fas","fa-book-open","text-success","fa-3x"],[1,"fas","fa-book","text-warning","fa-3x"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"button",3),n.Yb("click",(function(){return e.chatOn=!e.chatOn})),n.Bc(4,Le,1,0,"i",4),n.Bc(5,Ne,1,0,"i",5),n.Qb(),n.Rb(6,"div",6),n.Mb(7,"esm-chat"),n.Qb(),n.Qb(),n.Rb(8,"div",7),n.Rb(9,"main",8),n.Rb(10,"div",9),n.Mb(11,"esm-editores"),n.Mb(12,"esm-modal-coments"),n.Qb(),n.Mb(13,"esm-step-panel"),n.Mb(14,"router-outlet"),n.Qb(),n.Qb(),n.Rb(15,"div",2),n.Rb(16,"button",10),n.Yb("click",(function(){return e.historicOn=!e.historicOn})),n.Bc(17,Ve,1,0,"i",11),n.Bc(18,Ye,1,0,"i",12),n.Qb(),n.Rb(19,"div",6),n.Mb(20,"esm-historico"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(2),n.ic("ngClass",n.mc(9,Ue,!e.chatOn,e.chatOn)),n.zb(2),n.ic("ngIf",!e.chatOn),n.zb(1),n.ic("ngIf",e.chatOn),n.zb(1),n.ic("collapse",!e.chatOn),n.zb(2),n.ic("ngClass",n.nc(12,Ge,0===e.tamanho(),1===e.tamanho(),2===e.tamanho())),n.zb(7),n.ic("ngClass",n.mc(16,Ue,!e.historicOn,e.historicOn)),n.zb(2),n.ic("ngIf",!e.historicOn),n.zb(1),n.ic("ngIf",e.historicOn),n.zb(1),n.ic("collapse",!e.historicOn))},directives:[o.j,o.l,Se.a,Ee,ze,Fe,Ie,jt.g,Be],encapsulation:2}),t}(),$e=i("wd/R"),He=i("z1GS"),We=i("89/Q"),Ze=i("usx+"),Ke=i("o8Qb"),Je=i("n8HC");function Xe(t,e){if(1&t&&n.Mb(0,"input-validations",33),2&t){var i=n.cc();n.ic("errors",i.form.controls.title.errors)}}function ti(t,e){if(1&t&&n.Mb(0,"input-validations",34),2&t){var i=n.cc();n.ic("errors",i.form.controls.description.errors)}}function ei(t,e){if(1&t&&n.Mb(0,"input-validations",35),2&t){var i=n.cc();n.ic("errors",i.form.controls.beginDate.errors)}}function ii(t,e){if(1&t&&n.Mb(0,"input-validations",36),2&t){var i=n.cc();n.ic("errors",i.form.controls.beginTime.errors)}}function ni(t,e){if(1&t&&n.Mb(0,"input-validations",35),2&t){var i=n.cc();n.ic("errors",i.form.controls.endDate.errors)}}function oi(t,e){if(1&t&&n.Mb(0,"input-validations",37),2&t){var i=n.cc();n.ic("errors",i.form.controls.endTime.errors)}}var ri=function(){function t(t,e,i,n,o,r){var s=this;this.programAddService=t,this.formBuilder=e,this.router=i,this._route=n,this.channel=o,this._dao=r,this.bsConfig={dateInputFormat:"DD/MM/YYYY"},this.needSet=!0,this.programId=-1,this.auxDate="",this.whatDate="",this.auxHour="",this.whatHour="",this.form=this.formBuilder.group({title:["",De.v.required],description:[""],isPublic:[!1],beginDate:[""],beginTime:[""],endDate:[""],endTime:[""]}),this.program=this.programAddService.program,this._subscription$=this.programAddService.program.subscribe((function(t){s.setProgram(t)}))}return t.prototype.ngOnDestroy=function(){this._subscription$.unsubscribe()},t.prototype.setProgram=function(t){var e=this;this.form.reset(),this.needSet&&t.id>0&&(console.log(t),this.channel.echo.private("program."+t.id).listenForWhisper("step1"+t.id,(function(t){console.log("evento 1",t),e.channelUpdate(t)})),this.needSet=!1,this.programId=t.id),t.starts&&(t.beginDate=$e(t.starts).format("DD/MM/YYYY"),t.beginTime=t.starts),t.ends&&(t.endDate=$e(t.ends).format("DD/MM/YYYY"),t.endTime=t.ends),this.form.patchValue(Object(Tt.a)({},t))},t.prototype.toDate=function(t,e){if(!t||!$e(t).isValid())return null;var i=$e(t).format("YYYY-MM-DD");return e?i+" "+$e(e).format("HH:mm:ss"):i},t.prototype.submit=function(){this.form.markAllAsTouched();var t=Object(Tt.a)({},this.form.value);t.starts=this.toDate(t.beginDate,t.beginTime),t.ends=this.toDate(t.endDate,t.endTime),this.form.valid&&(this.programAddService.saveStep(t).subscribe((function(){})),this.programAddService.saveLocalStep(t),this.router.navigate(["./second"],{relativeTo:this._route.parent}))},t.prototype.channelUpdate=function(t){for(var e in t)"id"!=e&&("beginDate"==e||"endDate"==e?this.form.get(e).setValue($e(t[e]).format("DD/MM/YYYY")):"beginTime"==e||"endTime"==e?(console.log("Mudou hora.."),this.form.get(e).setValue(t[e])):(this.form.get(e).setValue(t[e]),this.form.get(e)))},t.prototype.sendUpdate=function(t){var e=this;console.log(t);var i={};i.id=this.programId,i[t]=this.form.get(t).value,"title"!=t&&(i.title=this.form.get("title").value),i.tela="step1",console.log(i),this.needSet||(console.log("Enviou!!!"),this._dao.patchObject(Yt.o,i).subscribe((function(t){console.log("Voltou"),e.channel.chanelSend(e.programId,"step1"+e.programId,i)})))},t.prototype.horaOn=function(t){this.whatHour=t,this.auxHour=$e(this.form.get(t).value).format("HH:mm:ss")},t.prototype.horaOut=function(t){var e=$e(this.form.get(t).value).format("HH:mm:ss");console.log(t),console.log(this.whatHour),console.log(this.auxHour),console.log(e),t==this.whatHour&&this.auxHour!=e?this.sendUpdate(t):console.log("N\xe3o Mudou"),console.log("Saiu")},t.prototype.saveDate=function(t){this.whatDate=t,this.auxDate=$e(this.form.get(t).value).format("DD/MM/YYYY")},t.prototype.sendDate=function(t){var e=this;setTimeout((function(){var i=$e(e.form.get(t).value).format("DD/MM/YYYY");console.log(t),t==e.whatDate&&e.auxDate!=i?e.sendUpdate(t):console.log("N\xe3o Mudou")}),500)},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(De.d),n.Lb(jt.c),n.Lb(jt.a),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-step1"]],decls:59,vars:9,consts:[["focusInvalidInput","",1,"form",3,"formGroup","submit"],[1,"h4","mb-3"],[1,"row"],[1,"col-12","form-group"],["type","checkbox","name","program-checkbox","id","program-checkbox","formControlName","isPublic"],["for","program-checkbox"],[1,"col-6","form-group"],[1,"form-label-group"],["id","title","name","title","type","text","placeholder","Nome do programa","formControlName","title",1,"form-control","border-bottom",3,"change"],["for","title"],[1,"text-danger"],["label","Nome do programa",3,"errors",4,"ngIf"],["name","program-description","id","program-description","rows","2","placeholder","Descri\xe7\xe3o do programa","formControlName","description",1,"form-control","border-bottom","w-100",3,"change"],["for","program-description"],["label","Descri\xe7\xe3o",3,"errors",4,"ngIf"],[1,"col-7","form-group"],["for","beginDate"],[1,"form-row","form-group","input-group"],[1,"col","form-inline"],[1,"form-label-group","mt-3","w-100"],["type","text","placeholder","Data de in\xedcio","name","beginDate","autocomplete","off","formControlName","beginDate","bsDatepicker","",1,"form-control","border-bottom","w-100",3,"bsConfig","focus","blur"],["label","Data de in\xedcio",3,"errors",4,"ngIf"],[1,"col"],["formControlName","beginTime",3,"mouseenter","mouseleave"],["label","Hora de in\xedcio",3,"errors",4,"ngIf"],["type","text","placeholder","Data de fim","formControlName","endDate","autocomplete","off","bsDatepicker","",1,"form-control","border-bottom","w-100",3,"bsConfig","focus","blur"],["for","endDate"],["formControlName","endTime",3,"mouseenter","mouseleave"],["label","Hora de fim",3,"errors",4,"ngIf"],[1,"row","justify-content-end"],[1,"col-auto"],["routerLink","/private/programs/list",1,"btn","btn-success","btn-lg","btn-shadow"],["type","submit","name","saveButton","translate","",1,"btn","btn-primary","btn-lg","btn-shadow","min-100"],["label","Nome do programa",3,"errors"],["label","Descri\xe7\xe3o",3,"errors"],["label","Data de in\xedcio",3,"errors"],["label","Hora de in\xedcio",3,"errors"],["label","Hora de fim",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"form",0),n.Yb("submit",(function(){return e.submit()})),n.Rb(1,"h1",1),n.Dc(2,"Informa\xe7\xf5es do Programa"),n.Qb(),n.Rb(3,"div",2),n.Rb(4,"div",3),n.Mb(5,"input",4),n.Rb(6,"label",5),n.Dc(7,"Programa p\xfablico"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",2),n.Rb(9,"div",6),n.Rb(10,"div",7),n.Rb(11,"input",8),n.Yb("change",(function(){return e.sendUpdate("title")})),n.Qb(),n.Rb(12,"label",9),n.Dc(13," Nome do programa "),n.Rb(14,"b",10),n.Dc(15,"*"),n.Qb(),n.Qb(),n.Qb(),n.Bc(16,Xe,1,1,"input-validations",11),n.Qb(),n.Qb(),n.Rb(17,"div",2),n.Rb(18,"div",3),n.Rb(19,"div",7),n.Rb(20,"textarea",12),n.Yb("change",(function(){return e.sendUpdate("description")})),n.Qb(),n.Rb(21,"label",13),n.Dc(22," Descri\xe7\xe3o do programa "),n.Qb(),n.Qb(),n.Bc(23,ti,1,1,"input-validations",14),n.Qb(),n.Qb(),n.Rb(24,"div",2),n.Rb(25,"div",15),n.Rb(26,"label",16),n.Dc(27,"Data e hora de in\xedcio:"),n.Qb(),n.Rb(28,"div",17),n.Rb(29,"div",18),n.Rb(30,"div",19),n.Rb(31,"input",20),n.Yb("focus",(function(){return e.saveDate("beginDate")}))("blur",(function(){return e.sendDate("beginDate")})),n.Qb(),n.Rb(32,"label",16),n.Dc(33,"Data de in\xedcio"),n.Qb(),n.Qb(),n.Bc(34,ei,1,1,"input-validations",21),n.Qb(),n.Rb(35,"div",22),n.Rb(36,"timepicker",23),n.Yb("mouseenter",(function(){return e.horaOn("beginTime")}))("mouseleave",(function(){return e.horaOut("beginTime")})),n.Qb(),n.Bc(37,ii,1,1,"input-validations",24),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(38,"div",2),n.Rb(39,"div",15),n.Rb(40,"label",16),n.Dc(41,"Data e hora de fim:"),n.Qb(),n.Rb(42,"div",17),n.Rb(43,"div",18),n.Rb(44,"div",19),n.Rb(45,"input",25),n.Yb("focus",(function(){return e.saveDate("endDate")}))("blur",(function(){return e.sendDate("endDate")})),n.Qb(),n.Rb(46,"label",26),n.Dc(47,"Data de fim"),n.Qb(),n.Qb(),n.Bc(48,ni,1,1,"input-validations",21),n.Qb(),n.Rb(49,"div",22),n.Rb(50,"timepicker",27),n.Yb("mouseenter",(function(){return e.horaOn("endTime")}))("mouseleave",(function(){return e.horaOut("endTime")})),n.Qb(),n.Bc(51,oi,1,1,"input-validations",28),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(52,"div",29),n.Rb(53,"div",30),n.Rb(54,"a",31),n.Dc(55,"VOLTAR"),n.Qb(),n.Qb(),n.Rb(56,"div",30),n.Rb(57,"button",32),n.Dc(58,"PROSSEGUIR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(16),n.ic("ngIf",e.form.controls.title.invalid&&e.form.controls.title.touched),n.zb(7),n.ic("ngIf",e.form.controls.description.invalid&&e.form.controls.description.touched),n.zb(8),n.ic("bsConfig",e.bsConfig),n.zb(3),n.ic("ngIf",e.form.controls.beginDate.invalid&&e.form.controls.beginDate.touched),n.zb(3),n.ic("ngIf",e.form.controls.beginTime.invalid&&e.form.controls.beginTime.touched),n.zb(8),n.ic("bsConfig",e.bsConfig),n.zb(3),n.ic("ngIf",e.form.controls.endDate.invalid&&e.form.controls.endDate.touched),n.zb(3),n.ic("ngIf",e.form.controls.endTime.invalid&&e.form.controls.endTime.touched))},directives:[De.x,De.l,He.a,De.f,De.a,De.k,De.e,De.b,o.l,We.b,We.a,Ze.a,jt.e,Ke.b,Je.a],encapsulation:2}),t}(),si=i("Gi3i"),ai=i("ZJS2"),ci=["*","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","Y","Z"],li=[{alias:"activity",name:"Atividades",value:null},{alias:"location",name:"Localiza\xe7\xe3o",value:null},{alias:"measure_use",name:"Utiliza\xe7\xe3o do dispositivo",value:null}],di=[{alias:"smartphone",name:"Smartphone"},{alias:"smartwatch",name:"Smartwatch"}],ui=[{alias:"NC",name:"Notifica\xe7\xe3o curta"},{alias:"NL",name:"Notifica\xe7\xe3o longa"},{alias:"AL",name:"Alarme"}],pi=[{alias:"sunday",cronName:"1",name:"Domingo",hours:[]},{alias:"monday",cronName:"2",name:"Segunda",hours:[]},{alias:"tuesday",cronName:"3",name:"Ter\xe7a-feira",hours:[]},{alias:"wednesday",cronName:"4",name:"Quarta-feira",hours:[]},{alias:"thursday",cronName:"5",name:"Quinta-feira",hours:[]},{alias:"friday",cronName:"6",name:"Sexta-feira",hours:[]},{alias:"saturday",cronName:"7",name:"S\xe1bado",hours:[]}],hi=[{text:"Caso um participante N\xc3O RESPONDA ao disparo deste evento",complexConditions:[{text:"Enviar aviso por e-mail aos [observadores]",condition:"MISSED GREATER_THAN 0",action:"SEND_WARNING_EMAIL [Este participante n\xe3o respondeu ao evento] OBSERVERS",value:!1},{text:"Programar [1] novo disparo em [60] minutos",condition:"MISSED GREATER_THAN 0 AND MISSED LESS_THAN 2",action:"POSTPONE_EVENT MINUTES 60",value:!1}]},{text:"Caso um participante RESPONDA ao disparo deste evento",complexConditions:[{text:"Enviar aviso por e-mail aos [observadores]",condition:"COMPLETED GREATER_THAN 0",action:"SEND_WARNING_EMAIL [O participante respondeu ao evento] OBSERVERS",value:!1},{text:"Marcar o evento como realizado no aplicativo",condition:"COMPLETED GREATER_THAN 0",action:"MARK_EVENT_COMPLETED",value:!1},{text:"Enviar o resultado das interven\xe7\xf5es por e-mail aos observadores",condition:"SEND_EMAIL_WITH_RESULTS [O participante respondeu ao evento] OBSERVERS",action:"COMPLETED GREATER_THAN 0",value:!1}]}],bi=i("eGxY"),fi=["formElement"];function mi(t,e){if(1&t&&n.Mb(0,"input-validations",23),2&t){var i=n.cc();n.ic("errors",i.form.controls.email.errors)}}function vi(t,e){if(1&t&&n.Mb(0,"input-validations",24),2&t){var i=n.cc();n.ic("errors",i.form.controls.name.errors)}}function gi(t,e){if(1&t&&n.Mb(0,"input-validations",25),2&t){var i=n.cc();n.ic("errors",i.form.controls.role.errors)}}var yi=function(){function t(t,e,i,o,r){this.bsModalRef=t,this.formBuilder=e,this._toastr=i,this._loaderService=o,this._daoService=r,this.response=new n.n,this.urlObservers=Yt.k,this.form=this.formBuilder.group({name:this.formBuilder.control("",[De.v.required]),email:this.formBuilder.control("",[De.v.required]),role:this.formBuilder.control("",[De.v.required])})}return t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.bsModalRef.hide()},t.prototype.save=function(){var t=this;if(this.form.markAllAsTouched(),this.form.valid){var e=Object(Tt.a)({},this.form.value);this._loaderService.show(),this._daoService.postObject(this.urlObservers+"?include=user",e).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t._toastr.success(e.message),t.response.emit(e.data),t.bsModalRef.hide()}),(function(e){return bi.a.setErrorsBackend(t.form,e.data,t.formElement)}))}},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(De.d),n.Lb(ue.b),n.Lb(Vt.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-add-observer"]],viewQuery:function(t,e){var i;1&t&&n.Jc(fi,!0),2&t&&n.qc(i=n.Zb())&&(e.formElement=i.first)},outputs:{response:"response"},decls:40,vars:4,consts:[["autocomplete","off","focusInvalidInput","",3,"formGroup","ngSubmit"],["formElement",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-label-group"],["autocomplete","off","name","email","id","email","formControlName","email","type","email","placeholder","Qual o seu e-mail?",1,"form-control"],["for","email"],[1,"text-danger"],["label","E-mail",3,"errors",4,"ngIf"],["autocomplete","off","name","name","id","name","formControlName","name","type","text","placeholder","Nome completo",1,"form-control"],["for","name"],["label","Nome",3,"errors",4,"ngIf"],["name","role","id","role","autocomplete","off","formControlName","role","type","text","placeholder","Insira aqui o seu papel. Ex: Psic\xf3loga",1,"form-control"],["label","Papel",3,"errors",4,"ngIf"],[1,"modal-footer"],[1,"row","justify-content-end"],[1,"btn","btn-white","btn-shadow","mr-4",3,"click"],["type","submit","name","saveButton","translate","",1,"btn","btn-success","btn-shadow","min-100"],["label","E-mail",3,"errors"],["label","Nome",3,"errors"],["label","Papel",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"form",0,1),n.Yb("ngSubmit",(function(){return e.save()})),n.Rb(2,"div",2),n.Rb(3,"h4",3),n.Dc(4,"Adicionar observador"),n.Qb(),n.Rb(5,"button",4),n.Yb("click",(function(){return e.close()})),n.Rb(6,"span",5),n.Dc(7,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",6),n.Rb(9,"div",7),n.Rb(10,"div",8),n.Rb(11,"div",9),n.Mb(12,"input",10),n.Rb(13,"label",11),n.Dc(14,"E-mail "),n.Rb(15,"b",12),n.Dc(16,"*"),n.Qb(),n.Qb(),n.Qb(),n.Bc(17,mi,1,1,"input-validations",13),n.Qb(),n.Rb(18,"div",8),n.Rb(19,"div",9),n.Mb(20,"input",14),n.Rb(21,"label",15),n.Dc(22,"Nome "),n.Rb(23,"b",12),n.Dc(24,"*"),n.Qb(),n.Qb(),n.Qb(),n.Bc(25,vi,1,1,"input-validations",16),n.Qb(),n.Rb(26,"div",8),n.Rb(27,"div",9),n.Mb(28,"input",17),n.Rb(29,"label",15),n.Dc(30,"Papel "),n.Rb(31,"b",12),n.Dc(32,"*"),n.Qb(),n.Qb(),n.Qb(),n.Bc(33,gi,1,1,"input-validations",18),n.Qb(),n.Qb(),n.Qb(),n.Rb(34,"div",19),n.Rb(35,"div",20),n.Rb(36,"a",21),n.Yb("click",(function(){return e.close()})),n.Dc(37,"CANCELAR"),n.Qb(),n.Rb(38,"button",22),n.Dc(39,"SALVAR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(17),n.ic("ngIf",e.form.controls.email.invalid&&e.form.controls.email.touched),n.zb(8),n.ic("ngIf",e.form.controls.name.invalid&&e.form.controls.name.touched),n.zb(8),n.ic("ngIf",e.form.controls.role.invalid&&e.form.controls.role.touched))},directives:[De.x,De.l,He.a,De.f,De.b,De.k,De.e,o.l,Ke.b,Je.a],styles:[""]}),t}(),_i=function(){function t(){this.uid=ce(),this.removeUser=new n.n,this.addUser=new n.n}return t.prototype.ngOnInit=function(){},t.prototype.checkboxHandler=function(t){t?this.addUser.emit(this.user):this.removeUser.emit(this.user)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-user-checkbox"]],inputs:{user:"user",label:"label",checked:"checked",disabled:"disabled"},outputs:{removeUser:"removeUser",addUser:"addUser"},decls:3,vars:5,consts:[["type","checkbox",3,"id","checked","disabled","click"],[1,"m-0",3,"for"]],template:function(t,e){1&t&&(n.Rb(0,"input",0),n.Yb("click",(function(t){return e.checkboxHandler(t.target.checked)})),n.Qb(),n.Rb(1,"label",1),n.Dc(2),n.Qb()),2&t&&(n.ic("id",e.uid)("checked",e.checked)("disabled",e.disabled),n.zb(1),n.ic("for",e.uid),n.zb(1),n.Ec(e.label))},encapsulation:2}),t}(),xi=["search"],Ri=function(t){return{"btn-default-active":t}};function wi(t,e){if(1&t){var i=n.Sb();n.Rb(0,"button",13),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().filter_by(t)})),n.Dc(1),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc();n.ic("ngClass",n.lc(2,Ri,o===r.filterQuery)),n.zb(1),n.Fc(" ",o," ")}}function Ii(t,e){1&t&&(n.Rb(0,"div"),n.Dc(1,"Voc\xea n\xe3o selecionou nenhum observador."),n.Qb())}function Si(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",17),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc(2).removeProgramObserver(t)})),n.Dc(1),n.Mb(2,"i",18),n.Qb()}if(2&t){var o=e.$implicit;n.zb(1),n.Fc(" ",o.user.name," ")}}function Di(t,e){if(1&t&&(n.Rb(0,"div",14),n.Rb(1,"span",15),n.Dc(2,"Voc\xea adicionou:"),n.Qb(),n.Bc(3,Si,3,1,"a",16),n.Qb()),2&t){var i=n.cc();n.zb(3),n.ic("ngForOf",i.sort(i.programObservers))}}function Qi(t,e){1&t&&(n.Rb(0,"div",28),n.Dc(1,"O filtro selecionado resultou em nada, tente troca-lo."),n.Qb())}function Ci(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",29),n.Rb(1,"esm-user-checkbox",30),n.Yb("addUser",(function(t){return n.tc(i),n.cc(2).addProgramObserver(t)}))("removeUser",(function(t){return n.tc(i),n.cc(2).removeProgramObserver(t)})),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc(2);n.zb(1),n.ic("user",o)("label",o.user.name)("checked",r.isChecked(o))("disabled",r.isDisabled(o))}}var Oi=function(){return["../first"]};function ki(t,e){if(1&t){var i=n.Sb();n.Rb(0,"form",19),n.Yb("submit",(function(){return n.tc(i),n.cc().submit()})),n.Rb(1,"div",7),n.Rb(2,"div",8),n.Rb(3,"div",20),n.Bc(4,Qi,2,0,"div",21),n.Bc(5,Ci,2,4,"div",22),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",23),n.Rb(7,"div",24),n.Rb(8,"a",25),n.Yb("click",(function(){return n.tc(i),n.cc().openModalObserver()})),n.Dc(9,"ADICIONAR OBSERVADOR"),n.Qb(),n.Qb(),n.Rb(10,"div",24),n.Rb(11,"a",26),n.Dc(12,"VOLTAR"),n.Qb(),n.Rb(13,"button",27),n.Dc(14,"PROSSEGUIR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=n.cc();n.zb(4),n.ic("ngIf",!(null!=o.observers&&o.observers.length)),n.zb(1),n.ic("ngForOf",o.sort(o.observers)),n.zb(6),n.ic("routerLink",n.kc(3,Oi))}}function Ei(t,e){1&t&&(n.Rb(0,"div"),n.Mb(1,"div",31),n.Mb(2,"div",31),n.Mb(3,"div",31),n.Mb(4,"div",32),n.Mb(5,"div",31),n.Mb(6,"div",31),n.Mb(7,"div",31),n.Qb())}var Mi=function(){function t(t,e,i,n,o,r,s){var a=this;this.daoService=t,this.programAddService=e,this.router=i,this._route=n,this.loginService=o,this._modalService=r,this.channel=s,this.loading=!0,this.search=new d.a,this.filterQuery="*",this.programObservers=[],this.urlObservers=Yt.k,this.letters=ci,this.programId=-1,this.needSet=!0,this.program=this.programAddService.program,this.search.pipe(Object(si.a)(300),Object(m.a)(),Object(I.a)((function(){return a.getObservers()}))).subscribe((function(t){a.loading=!1,a.observers=t.data}))}return t.prototype.isChecked=function(t){return!!(this.programObservers?this.programObservers.find((function(e){return e.id===t.id})):void 0)},t.prototype.isDisabled=function(t){return t.id===this.loginService.userValue.id},t.prototype.ngOnInit=function(){var t=this;this.search.next(""),this._subscription$=this.programAddService.program.subscribe((function(e){t.programObservers=e.observers,t.needSet&&(t.channel.echo.private("program."+e.id).listenForWhisper("step2"+e.id,(function(e){console.log("Observer",e),t.channelUpdate(e)})),t.needSet=!1,t.programId=e.id)}))},t.prototype.ngOnDestroy=function(){this._subscription$.unsubscribe(),this.programAddService.saveLocalStep({observers:this.programObservers})},t.prototype.addProgramObserver=function(t){this.programObservers.push(t),this.sendUpdate("a",t)},t.prototype.removeProgramObserver=function(t){this.programObservers.splice(this.programObservers.findIndex((function(e){return e.id===t.id})),1),this.sendUpdate("r",t)},t.prototype.filter_by=function(t){t!==this.filterQuery&&(this.filterQuery=t,this.searchElement.form.get("query").setValue(""),this.handleChange(t))},t.prototype.handleChange=function(t,e){void 0===e&&(e=!1),this.observers=[],this.loading=!0,this.search.next(t)},t.prototype.getObservers=function(){var t=this.searchElement.form.get("query").value,e=(new Ft.f).set("search",t).set("letter",this.filterQuery).set("orderBy","users|name").set("include","user").set("sortedBy","asc");return this.daoService.getObjects(this.urlObservers,e)},t.prototype.sort=function(t){return t.sort((function(t,e){return t.user.name.toLowerCase()>e.user.name.toLowerCase()?1:-1}))},t.prototype.submit=function(){this.programAddService.saveStep({observers:this.programObservers.map((function(t){return t.id}))}).subscribe((function(){})),this.programAddService.saveLocalStep({observers:this.programObservers}),this.router.navigate(["./third"],{relativeTo:this._route.parent})},t.prototype.openModalObserver=function(){var t=this;this._modalRef=this._modalService.show(yi,{ignoreBackdropClick:!0,initialState:{}}),this._modalRef.content.response.pipe(Object(A.a)(1)).subscribe((function(e){t.handleChange(e),t.addProgramObserver(e)}))},t.prototype.channelUpdate=function(t){"r"==t.tipo?this.programObservers.splice(this.programObservers.findIndex((function(e){return e.id===t.observers.id})),1):(this.programObservers.push(t.observers),this.acha(t.observers,this.observers)||this.observers.push(t.observers))},t.prototype.acha=function(t,e){for(var i=0;i<e.length;i++)if(t.id==e[i].id)return!0;return!1},t.prototype.sendUpdate=function(t,e){var i=this;console.log(t);var n={};n.id=this.programId,n.tela="step2",console.log(n),n.tipo=t,n.observers=e,this.daoService.patchObject(Yt.o,n).subscribe((function(t){console.log("mandou"),i.channel.chanelSend(i.programId,"step2"+i.programId,n)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(Gt.a),n.Lb(pe),n.Lb(jt.c),n.Lb(jt.a),n.Lb(Ut.a),n.Lb(Pe.b),n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-step2"]],viewQuery:function(t,e){var i;1&t&&n.Jc(xi,!0),2&t&&n.qc(i=n.Zb())&&(e.searchElement=i.first)},decls:17,vars:5,consts:[[1,"h4"],[3,"doSearch"],["search",""],["aria-label","alphabet",1,"container-flex"],[1,"row","justify-content-center"],[1,"col-12","mb-2","d-flex","justify-content-between"],["type","button","class","col btn btn-lg btn-default text-primary font-weight-bold p-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[4,"ngIf"],["class","align-items-center",4,"ngIf"],[1,"h5","mt-4"],[3,"submit",4,"ngIf"],["type","button",1,"col","btn","btn-lg","btn-default","text-primary","font-weight-bold","p-1",3,"ngClass","click"],[1,"align-items-center"],[1,"mr-2"],["class","label label-primary label-sm mr-2 mb-2 d-inline-block","href","javascript:",3,"click",4,"ngFor","ngForOf"],["href","javascript:",1,"label","label-primary","label-sm","mr-2","mb-2","d-inline-block",3,"click"],[1,"fas","fa-times","pointer","ml-2"],[3,"submit"],[1,"row"],["class","col-12",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"row","justify-content-between","mt-3"],[1,"col-auto"],["name","buttonObserver","translate","",1,"btn","btn-white","btn-lg","btn-shadow",3,"click"],[1,"btn","btn-success","btn-lg","btn-shadow","mr-4",3,"routerLink"],["type","submit","name","saveButton","translate","",1,"btn","btn-primary","btn-lg","btn-shadow","min-100"],[1,"col-12"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","label","checked","disabled","addUser","removeUser"],[1,"loader-bg"],[1,"loader-bg","mb-1"]],template:function(t,e){1&t&&(n.Rb(0,"h1",0),n.Dc(1,"Adicionar observadores"),n.Qb(),n.Rb(2,"esm-search",1,2),n.Yb("doSearch",(function(t){return e.handleChange(t,!0)})),n.Qb(),n.Rb(4,"div",3),n.Mb(5,"div",4),n.Rb(6,"div",4),n.Rb(7,"div",5),n.Bc(8,wi,2,4,"button",6),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"form",7),n.Rb(10,"div",8),n.Bc(11,Ii,2,0,"div",9),n.Bc(12,Di,4,1,"div",10),n.Qb(),n.Qb(),n.Rb(13,"h2",11),n.Dc(14,"Selecionar observadores"),n.Qb(),n.Bc(15,ki,15,4,"form",12),n.Bc(16,Ei,8,0,"div",9)),2&t&&(n.zb(8),n.ic("ngForOf",e.letters),n.zb(3),n.ic("ngIf",!(null!=e.programObservers&&e.programObservers.length)),n.zb(1),n.ic("ngIf",e.programObservers.length>0),n.zb(3),n.ic("ngIf",!e.loading),n.zb(1),n.ic("ngIf",e.loading))},directives:[ai.a,o.k,De.x,De.l,De.m,o.l,o.j,Ke.b,jt.e,_i],encapsulation:2}),t}(),zi=["formElement"];function Pi(t,e){if(1&t&&(n.Mb(0,"input-validations",20),n.dc(1,"translate")),2&t){var i=n.cc();n.ic("errors",i.form.controls.alias.errors)("label",n.ec(1,2,"private.participants.add.alias"))}}function ji(t,e){if(1&t&&n.Mb(0,"input-validations",21),2&t){var i=n.cc();n.ic("errors",i.form.controls.email.errors)}}var Ti=function(){function t(t,e,i,o,r){this.bsModalRef=t,this.formBuilder=e,this._toastr=i,this._loaderService=o,this._daoService=r,this.response=new n.n,this.urlParticipants=Yt.l,this.form=this.formBuilder.group({email:this.formBuilder.control("",[De.v.required]),alias:this.formBuilder.control("",[De.v.required])})}return t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.bsModalRef.hide()},t.prototype.save=function(){var t=this;if(this.form.markAllAsTouched(),this.form.valid){var e=Object(Tt.a)({},this.form.value);this._loaderService.show(),this._daoService.postObject(this.urlParticipants,e).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t._toastr.success(e.message),t.response.emit(e.data),t.bsModalRef.hide()}),(function(e){return bi.a.setErrorsBackend(t.form,e.data,t.formElement)}))}},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(De.d),n.Lb(ue.b),n.Lb(Vt.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-add-participant"]],viewQuery:function(t,e){var i;1&t&&n.Jc(zi,!0),2&t&&n.qc(i=n.Zb())&&(e.formElement=i.first)},outputs:{response:"response"},decls:31,vars:9,consts:[["autocomplete","off","focusInvalidInput","",3,"formGroup","ngSubmit"],["formElement",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-12","form-group"],[1,"form-label-group"],["id","alias","name","alias","type","text","formControlName","alias",1,"form-control","border-bottom",3,"placeholder"],["for","text","translate",""],[3,"errors","label",4,"ngIf"],["id","email","name","email","type","email","formControlName","email",1,"form-control","border-bottom",3,"placeholder"],["for","email","translate",""],["label","E-mail",3,"errors",4,"ngIf"],[1,"modal-footer"],[1,"row","justify-content-end"],[1,"btn","btn-white","btn-shadow","mr-4",3,"click"],["type","submit","name","saveButton","translate","",1,"btn","btn-success","btn-shadow","min-100"],[3,"errors","label"],["label","E-mail",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"form",0,1),n.Yb("ngSubmit",(function(){return e.save()})),n.Rb(2,"div",2),n.Rb(3,"h4",3),n.Dc(4,"Adicionar participante"),n.Qb(),n.Rb(5,"button",4),n.Yb("click",(function(){return e.close()})),n.Rb(6,"span",5),n.Dc(7,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",6),n.Rb(9,"div",7),n.Rb(10,"div",8),n.Rb(11,"div",9),n.Mb(12,"input",10),n.dc(13,"translate"),n.Rb(14,"label",11),n.Dc(15,"private.participants.add.alias"),n.Qb(),n.Qb(),n.Bc(16,Pi,2,4,"input-validations",12),n.Qb(),n.Qb(),n.Rb(17,"div",7),n.Rb(18,"div",8),n.Rb(19,"div",9),n.Mb(20,"input",13),n.dc(21,"translate"),n.Rb(22,"label",14),n.Dc(23,"private.participants.add.email"),n.Qb(),n.Qb(),n.Bc(24,ji,1,1,"input-validations",15),n.Qb(),n.Qb(),n.Qb(),n.Rb(25,"div",16),n.Rb(26,"div",17),n.Rb(27,"a",18),n.Yb("click",(function(){return e.close()})),n.Dc(28,"CANCELAR"),n.Qb(),n.Rb(29,"button",19),n.Dc(30,"SALVAR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(12),n.ic("placeholder",n.ec(13,5,"private.participants.add.alias")),n.zb(4),n.ic("ngIf",e.form.controls.alias.invalid&&e.form.controls.alias.touched),n.zb(4),n.jc("placeholder",n.ec(21,7,"private.participants.add.email")),n.zb(4),n.ic("ngIf",e.form.controls.email.invalid&&e.form.controls.email.touched))},directives:[De.x,De.l,He.a,De.f,De.b,De.k,De.e,Ke.b,o.l,Je.a],pipes:[Ke.e],styles:[""]}),t}(),Fi=["search"],Ai=function(t){return{"btn-default-active":t}};function Bi(t,e){if(1&t){var i=n.Sb();n.Rb(0,"button",13),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc(2).filter_by(t)})),n.Dc(1),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc(2);n.ic("ngClass",n.lc(2,Ai,o===r.filterQuery)),n.zb(1),n.Fc(" ",o," ")}}function Li(t,e){1&t&&(n.Rb(0,"div"),n.Dc(1,"Voc\xea n\xe3o selecionou nenhum participante."),n.Qb())}function Ni(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",17),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc(3).removeProgramUser(t)})),n.Dc(1),n.Mb(2,"i",18),n.Qb()}if(2&t){var o=e.$implicit;n.zb(1),n.Fc(" ",o.name?o.name:o.email," ")}}function Vi(t,e){if(1&t&&(n.Rb(0,"div",14),n.Rb(1,"span",15),n.Dc(2,"Voc\xea adicionou:"),n.Qb(),n.Bc(3,Ni,3,1,"a",16),n.Qb()),2&t){var i=n.cc(2);n.zb(3),n.ic("ngForOf",i.sort(i.programUsers))}}function Yi(t,e){1&t&&(n.Rb(0,"div",28),n.Dc(1,"O filtro selecionado resultou em nada, tente troca-lo."),n.Qb())}function Ui(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",29),n.Rb(1,"esm-user-checkbox",30),n.Yb("addUser",(function(t){return n.tc(i),n.cc(3).addProgramUser(t)}))("removeUser",(function(t){return n.tc(i),n.cc(3).removeProgramUser(t)})),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc(3);n.zb(1),n.ic("user",o)("label",r.getName(o))("checked",r.isChecked(o))}}var Gi=function(){return["../second"]};function qi(t,e){if(1&t){var i=n.Sb();n.Rb(0,"form",19),n.Yb("submit",(function(){return n.tc(i),n.cc(2).submit()})),n.Rb(1,"div",8),n.Rb(2,"div",9),n.Rb(3,"div",20),n.Bc(4,Yi,2,0,"div",21),n.Bc(5,Ui,2,3,"div",22),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",23),n.Rb(7,"div",24),n.Rb(8,"a",25),n.Yb("click",(function(){return n.tc(i),n.cc(2).openModalParticipant()})),n.Dc(9,"ADICIONAR PARTICIPANTE"),n.Qb(),n.Qb(),n.Rb(10,"div",24),n.Rb(11,"a",26),n.Dc(12,"VOLTAR"),n.Qb(),n.Rb(13,"button",27),n.Dc(14,"PROSSEGUIR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=n.cc(2);n.zb(4),n.ic("ngIf",!(null!=o.users&&o.users.length)),n.zb(1),n.ic("ngForOf",o.users),n.zb(6),n.ic("routerLink",n.kc(3,Gi))}}function $i(t,e){1&t&&(n.Rb(0,"div"),n.Mb(1,"div",31),n.Mb(2,"div",31),n.Mb(3,"div",31),n.Mb(4,"div",32),n.Mb(5,"div",31),n.Mb(6,"div",31),n.Mb(7,"div",31),n.Qb())}function Hi(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div"),n.Rb(1,"h1",1),n.Dc(2,"Adicionar participantes"),n.Qb(),n.Rb(3,"esm-search",2,3),n.Yb("doSearch",(function(t){return n.tc(i),n.cc().handleChange(t,!0)})),n.Qb(),n.Rb(5,"div",4),n.Mb(6,"div",5),n.Rb(7,"div",5),n.Rb(8,"div",6),n.Bc(9,Bi,2,4,"button",7),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"form",8),n.Rb(11,"div",9),n.Bc(12,Li,2,0,"div",0),n.Bc(13,Vi,4,1,"div",10),n.Qb(),n.Qb(),n.Rb(14,"h2",11),n.Dc(15,"Selecionar participantes"),n.Qb(),n.Bc(16,qi,15,4,"form",12),n.Bc(17,$i,8,0,"div",0),n.Qb()}if(2&t){var o=n.cc();n.zb(9),n.ic("ngForOf",o.letters),n.zb(3),n.ic("ngIf",!(null!=o.programUsers&&o.programUsers.length)),n.zb(1),n.ic("ngIf",o.programUsers.length>0),n.zb(3),n.ic("ngIf",!o.loading),n.zb(1),n.ic("ngIf",o.loading)}}var Wi=function(){function t(t,e,i,n,o,r){var s=this;this.daoService=t,this.programAddService=e,this.router=i,this.activeRoute=n,this._modalService=o,this.channel=r,this.loading=!0,this.search=new d.a,this.filterQuery="*",this.programUsers=[],this.urlProgramUsers=Yt.n,this.letters=ci,this.programId=-1,this.needSet=!0,this.program=this.programAddService.program,this.search.pipe(Object(si.a)(300),Object(m.a)(),Object(I.a)((function(){return s.getUsers()}))).subscribe((function(t){s.loading=!1,s.users=t.data}))}return t.prototype.isChecked=function(t){return!!(this.programUsers?this.programUsers.find((function(e){return e.id===t.id})):void 0)},t.prototype.ngOnInit=function(){var t=this;this.search.next(""),this._subscription$=this.programAddService.program.subscribe((function(e){t.programUsers=e.users,console.log(t.programUsers),t.needSet&&(t.channel.echo.private("program."+e.id).listenForWhisper("step3"+e.id,(function(e){console.log("Usu\xe1rios",e),t.channelUpdate(e)})),t.needSet=!1,t.programId=e.id)}))},t.prototype.ngOnDestroy=function(){this._subscription$.unsubscribe(),this.programAddService.saveLocalStep({users:this.programUsers})},t.prototype.addProgramUser=function(t){this.programUsers.push(t),this.sendUpdate("a",t)},t.prototype.removeProgramUser=function(t){this.programUsers.splice(this.programUsers.findIndex((function(e){return e.id===t.id})),1),this.sendUpdate("r",t)},t.prototype.filter_by=function(t){t!==this.filterQuery&&(this.filterQuery=t,this.searchElement.form.get("query").setValue(""),this.handleChange(t))},t.prototype.handleChange=function(t,e){void 0===e&&(e=!1),this.users=[],this.loading=!0,this.search.next(t)},t.prototype.getUsers=function(){var t=this.activeRoute.parent.snapshot.params.id,e=this.searchElement.form.get("query").value,i=(new Ft.f).set("search",e).set("letter",this.filterQuery).set("include","user").set("orderBy","name").set("sortedBy","asc");return this.daoService.getObjects(this.urlProgramUsers+(t||""),i)},t.prototype.sort=function(t){return t.sort((function(t,e){return t.name>e.name?1:-1}))},t.prototype.getName=function(t){return(t.name?t.name:t.alias)+" "+(t.name&&t.alias?"("+t.alias+")":"("+t.email+")")},t.prototype.submit=function(){this.programAddService.saveStep({users:this.programUsers.map((function(t){return t.id}))}).subscribe((function(){})),this.programAddService.saveLocalStep({users:this.programUsers}),this.router.navigate(["./fourth"],{relativeTo:this.activeRoute.parent})},t.prototype.openModalParticipant=function(){var t=this;this._modalRef=this._modalService.show(Ti,{ignoreBackdropClick:!0,initialState:{}}),this._modalRef.content.response.pipe(Object(A.a)(1)).subscribe((function(e){t.handleChange(e),t.addProgramUser(e)}))},t.prototype.channelUpdate=function(t){"r"==t.tipo?this.programUsers.splice(this.programUsers.findIndex((function(e){return e.id===t.participant.id})),1):(this.acha(t.participant,this.users)||this.users.push(t.participant),this.acha(t.participant,this.programUsers)||this.programUsers.push(t.participant))},t.prototype.acha=function(t,e){for(var i=0;i<e.length;i++)if(t.id==e[i].id)return!0;return!1},t.prototype.sendUpdate=function(t,e){var i=this;console.log(t);var n={};n.id=this.programId,n.tela="step3",console.log(e),n.tipo=t,n.participant=e,this.daoService.patchObject(Yt.o,n).subscribe((function(t){console.log("mandou"),i.channel.chanelSend(i.programId,"step3"+i.programId,n)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(Gt.a),n.Lb(pe),n.Lb(jt.c),n.Lb(jt.a),n.Lb(Pe.b),n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-step3"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Fi,!0),2&t&&n.qc(i=n.Zb())&&(e.searchElement=i.first)},decls:2,vars:3,consts:[[4,"ngIf"],[1,"h4"],[3,"doSearch"],["search",""],["aria-label","alphabet",1,"container-flex"],[1,"row","justify-content-center"],[1,"col-12","mb-2","d-flex","justify-content-between"],["type","button","class","col btn btn-lg btn-default text-primary font-weight-bold p-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],["class","align-items-center",4,"ngIf"],[1,"mt-4"],[3,"submit",4,"ngIf"],["type","button",1,"col","btn","btn-lg","btn-default","text-primary","font-weight-bold","p-1",3,"ngClass","click"],[1,"align-items-center"],[1,"mr-2"],["class","label label-primary label-sm mr-2 mb-2 d-inline-block","href","javascript:",3,"click",4,"ngFor","ngForOf"],["href","javascript:",1,"label","label-primary","label-sm","mr-2","mb-2","d-inline-block",3,"click"],[1,"fas","fa-times","pointer","ml-2"],[3,"submit"],[1,"row"],["class","col-12",4,"ngIf"],["class","col-4 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"row","justify-content-between","mt-5"],[1,"col-auto"],["name","buttonObserver","translate","",1,"btn","btn-white","btn-lg","btn-shadow",3,"click"],[1,"btn","btn-success","btn-lg","btn-shadow","mr-4",3,"routerLink"],["type","submit","name","saveButton","translate","",1,"btn","btn-primary","btn-lg","btn-shadow","min-100"],[1,"col-12"],[1,"col-4","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","label","checked","addUser","removeUser"],[1,"loader-bg"],[1,"loader-bg","mb-1"]],template:function(t,e){1&t&&(n.Bc(0,Hi,18,5,"div",0),n.dc(1,"async")),2&t&&n.ic("ngIf",n.ec(1,1,e.program))},directives:[o.l,ai.a,o.k,De.x,De.l,De.m,o.j,Ke.b,jt.e,_i],pipes:[o.b],encapsulation:2}),t}(),Zi=function(){return function(t){void 0===t&&(t={}),this.name="",this.id=t.id,this.name=t.name,this.media=t.media}}(),Ki=function(){return function(t){var e,i,n,o;void 0===t&&(t={}),this.completion_points=null!==(e=t.completion_points)&&void 0!==e?e:0,this.completion_half_points=null!==(i=t.completion_half_points)&&void 0!==i?i:0,this.uncomplete_points=null!==(n=t.uncomplete_points)&&void 0!==n?n:0,this.badges=null!==(o=t.badges)&&void 0!==o?o:[]}}(),Ji=function(){return function(t){void 0===t&&(t={}),this.title="",this.description="",this.color="",this.type="passive",this.sensors=[],this.triggers=[]}}(),Xi=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.interventions=[],i.type="active",i.gamificationConditions=e.gamificationConditions,i}return Object(Tt.d)(e,t),e}(Ji);const tn=n.ab,en=Symbol("__destroy"),nn=Symbol("__decoratorApplied");function on(t){return"string"==typeof t?Symbol("__destroy__"+t):en}function rn(t,e){t[e]||(t[e]=new d.a)}function sn(t,e){t[e]&&(t[e].next(),t[e].complete(),t[e]=null)}function an(t){t&&"function"==typeof t.unsubscribe&&t.unsubscribe()}function cn(t,e){return function(){var i,n;if(t&&t.call(this),sn(this,on()),e.arrayName)return n=this[e.arrayName],void(Array.isArray(n)&&n.forEach(an));if(e.checkProperties)for(const t in this)(null===(i=e.blackList)||void 0===i?void 0:i.includes(t))||an(this[t])}}function ln(t={}){return e=>{e[tn]?function(t,e){const i=t.\u0275pipe;i.onDestroy=cn(i.onDestroy,e)}(e,t):function(t,e){t.prototype.ngOnDestroy=cn(t.prototype.ngOnDestroy,e)}(e,t),function(t){t.prototype[nn]=!0}(e)}}var dn=function(){function t(t){void 0===t&&(t="0 0 * * *"),t.replace(new RegExp("undefined","g"),"*");var e=t.split(" ");7==e.length&&e.shift(),this.minutes=e[0],this.hours=e[1],this.dom="?"===e[2]?"*":e[3],this.month=e[3],this.dow=e[4].split(","),"*"===this.dow[0]&&(this.dow=[])}return t.prototype.getMinute=function(){return this.minutes},t.prototype.setMinute=function(t){this.minutes=t},t.prototype.getHours=function(){return this.hours},t.prototype.setHour=function(t){this.hours=t},t.prototype.getDow=function(){return this.dow},t.prototype.isDayActive=function(t){return t?!!this.dow.find((function(e){return e===t})):7===this.dow.length},t.prototype.actOrDeactivateDay=function(t){if(t){var e=this.dow.findIndex((function(e){return e===t}));-1===e?(this.dow.push(t),this.dow.sort()):this.dow.splice(e,1)}else{var i=this.isDayActive();if(this.dow.splice(0,this.dow.length),!i)for(var n=1;n<=7;n++)this.dow.push(n.toString())}},t.prototype.activeDay=function(t){-1===this.dow.findIndex((function(e){return e===t.cronName}))&&(this.dow.push(t.cronName),this.dow.sort())},t.prototype.convertFromForm=function(t,e){var i=this;if(void 0===e&&(e=[]),!(t&&t instanceof Date))return"";this.setHour(t.getHours().toString()),this.setMinute(t.getMinutes().toString()),e.forEach((function(t){i.activeDay(t)}))},t.prototype.toString=function(){return this.minutes+" "+this.hours+" "+this.dom+" "+this.month+" "+(0==this.dow.length?"*":this.dow)},t}(),un=function(){function t(t){void 0===t&&(t={}),this.id=t.id||null,this.condition=t.condition instanceof dn?t.condition:new dn(t.condition),this.priority=t.priority,this.timeout=t.timeout}return t.prototype.getDescription=function(){var t,e=["domingos","segundas","ter\xe7as","quartas","quintas","sextas","s\xe1bados"],i=this.condition.getDow();if(0==i.length)t="Todos os dias ";else{t="1"===i[0]||"7"===i[0]?"Todos os ":"Todas as ";for(var n=0,o=i;n<o.length;n++){var r=o[n];if(t+=e[parseInt(r)-1],i[i.length-1]===r){t+=" ";break}t+=i.length>=3?r===i[i.length-2]?" e ":", ":2===i.length?" e ":" "}}return"NC"===this.priority?t+="uma notifica\xe7\xe3o curta ":"NL"===this.priority?t+="uma notifica\xe7\xe3o longa ":"AL"===this.priority&&(t+="um alarme "),t+"\xe0s "+this.getHour()+":"+this.getMinutes()},t.prototype.getId=function(){return this.id},t.prototype.getTriggerCondition=function(){return this.condition},t.prototype.getPriority=function(){return this.priority},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getTimeOut=function(){return this.timeout},t.prototype.getTimeOutInMinutes=function(){return this.timeout/6e4},t.prototype.setTimeOutInMinutes=function(t){"string"==typeof t&&(t=Number.parseInt(t)),this.timeout=6e4*t},t.prototype.isDayActive=function(t){return this.condition.isDayActive(t)},t.prototype.actOrDeactivateDay=function(t){this.condition.actOrDeactivateDay(t)},t.prototype.zeroPad=function(t,e){return String(t).padStart(e,"0")},t.prototype.getMinutes=function(){return this.zeroPad(Number.parseInt(this.condition.getMinute()),2)},t.prototype.getHour=function(){return this.zeroPad(Number.parseInt(this.condition.getHours()),2)},t}(),pn=i("sEfC"),hn=i.n(pn),bn=i("jhN1");function fn(t,e){if(1&t&&n.Mb(0,"video",18),2&t){var i=n.cc();n.ic("src",i.file.url,n.vc)}}function mn(t,e){if(1&t&&n.Mb(0,"audio",19),2&t){var i=n.cc();n.ic("src",i.file.url,n.vc)}}function vn(t,e){if(1&t&&n.Mb(0,"img",20),2&t){var i=n.cc();n.ic("src",i.file.url,n.vc)}}var gn=function(){function t(t,e,i,o){this.bsModalRef=t,this.sanitizer=e,this._daoService=i,this._loaderService=o,this.response=new n.n,this.urlUpload=Yt.j,this.file=null}return t.prototype.ngOnInit=function(){},t.prototype.selectFile=function(t){if(t.target.files.length>0){var e=t.target.files[0],i=e.type.split("/")[0];this.file={type:i,file:e,url:this.sanitize(URL.createObjectURL(e))}}else this.file=null},t.prototype.sanitize=function(t){return this.sanitizer.bypassSecurityTrustUrl(t)},t.prototype.close=function(){this.bsModalRef.hide()},t.prototype.uploadFile=function(){var t=this,e=new FormData;e.append("file",this.file.file),this._loaderService.show(),this._daoService.postObject(this.urlUpload,e).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t.response.emit(e.data),t.bsModalRef.hide()}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(bn.b),n.Lb(Gt.a),n.Lb(Vt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-midia"]],outputs:{response:"response"},decls:29,vars:3,consts:[[1,"modal-header"],[1,"modal-title","margin-0"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"fileSquare","mt-2"],[1,"row"],[1,"col-12","text-center"],[1,"btn","btn-primary","btn-lg"],["type","file","accept","video/mp4,audio/mp3,audio/wav,audio/ogg,image/png,image/gif,image/jpg,image/jpeg","capture","camera","id","fileSelector",3,"change"],[1,"row","d-flex","justify-content-center"],["id","uploadVideo","height","360","controls","",3,"src",4,"ngIf"],["id","uploadAudio","width","480","controls","",3,"src",4,"ngIf"],["id","uploadImage","class","img-thumbnail",3,"src",4,"ngIf"],[1,"help-block","text-muted"],[1,"col-12","justify-content-end","d-flex"],[1,"btn","btn-white","btn-shadow","mr-4",3,"click"],[1,"btn","btn-success","btn-shadow","min-100",3,"click","disabled"],["id","uploadVideo","height","360","controls","",3,"src"],["id","uploadAudio","width","480","controls","",3,"src"],["id","uploadImage",1,"img-thumbnail",3,"src"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"h4",1),n.Dc(2,"Anexar m\xeddia"),n.Qb(),n.Rb(3,"button",2),n.Yb("click",(function(){return e.close()})),n.Rb(4,"span",3),n.Dc(5,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",4),n.Rb(7,"div",5),n.Mb(8,"div",6),n.Rb(9,"div",6),n.Rb(10,"div",7),n.Rb(11,"p"),n.Dc(12,"Selecione um arquivo para enviar"),n.Qb(),n.Rb(13,"label",8),n.Dc(14," Selecionar arquivo "),n.Rb(15,"input",9),n.Yb("change",(function(t){return e.selectFile(t)})),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(16,"br"),n.Rb(17,"div",10),n.Bc(18,fn,1,1,"video",11),n.Bc(19,mn,1,1,"audio",12),n.Bc(20,vn,1,1,"img",13),n.Qb(),n.Qb(),n.Rb(21,"p",14),n.Dc(22," S\xe3o suportadas imagens nos formatos gif, jpg e png; v\xeddeos no formato mp4 e \xe1udios no formato mp3, wav e ogg. "),n.Qb(),n.Rb(23,"div",6),n.Rb(24,"div",15),n.Rb(25,"a",16),n.Yb("click",(function(){return e.close()})),n.Dc(26,"CANCELAR"),n.Qb(),n.Rb(27,"button",17),n.Yb("click",(function(){return e.uploadFile()}))("disabled",(function(){return!e.file})),n.Dc(28,"ENVIAR ARQUIVO"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(18),n.ic("ngIf","video"==(null==e.file?null:e.file.type)),n.zb(1),n.ic("ngIf","audio"==(null==e.file?null:e.file.type)),n.zb(1),n.ic("ngIf","image"==(null==e.file?null:e.file.type)))},directives:[o.l],styles:[""]}),t}();function yn(t,e){if(1&t&&(n.Rb(0,"option",13),n.Dc(1),n.Qb()),2&t){var i=e.$implicit,o=e.index,r=n.cc(2);n.ic("value",o)("disabled",o===r.graphIndex),n.zb(1),n.Gc(" ",i.orderDescription," - ",i.typeDescription," ")}}function _n(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",3),n.Rb(1,"div",4),n.Rb(2,"label",5),n.Dc(3),n.Qb(),n.Rb(4,"div",6),n.Rb(5,"textarea",7),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index,r=e.$implicit;return n.cc().onTextChange(o,r,t)})),n.Qb(),n.Rb(6,"select",8),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.$implicit;return n.cc().onNextChange(o,t)}))("change",(function(){return n.tc(i),n.cc().setNextTo()})),n.Rb(7,"option",9),n.Dc(8,"Pr\xf3xima interven\xe7\xe3o"),n.Qb(),n.Bc(9,yn,2,4,"option",10),n.Rb(10,"option",11),n.Dc(11,"Finalizar"),n.Qb(),n.Qb(),n.Qb(),n.Rb(12,"i",12),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removeChoice(t)})),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=e.index,s=n.cc();n.zb(2),n.ic("for",s.graphIndex+"alternative"+r),n.zb(1),n.Ec(r),n.zb(2),n.ic("ngModel",o)("id",s.graphIndex+"alternative"+r),n.zb(1),n.ic("ngModel",s.conditions[o]),n.zb(3),n.ic("ngForOf",s.interventionComponentsInstance),n.zb(1),n.ic("value",null)}}var xn=function(){function t(t){this.interventionService=t}return t.prototype.trackByFn=function(t,e){return t},Object.defineProperty(t.prototype,"alternatives",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.conditions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interventionComponentsInstance",{get:function(){return this.interventionService.graphElements.map((function(t){return t}))},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.interventionService.newInterventions$.subscribe((function(e){if(t.interventionService.lastInteractedIntervention===t.graphIndex){for(var i=!1,n=0,o=t.alternatives;n<o.length;n++){var r=o[n];Object($t.c)(t.conditions[r])&&(t.conditions[r]=e.graphIndex,i=!0)}i||t.addChoice(e.graphIndex)}})),this.interventionService.removeIntervention$.subscribe((function(e){for(var i=0,n=t.alternatives;i<n.length;i++){var o=n[i];t.conditions[o]==e&&(t.conditions[o]=null),t.conditions[o]>e&&t.conditions[o]--}}))},t.prototype.toChar=function(t){return String.fromCharCode(t)},t.prototype.addChoice=function(t){void 0===t&&(t=null);var e="Alternativa "+(this.alternatives.length+1);this.alternatives.push(e),this.conditions[e]=t},t.prototype.removeChoice=function(t){delete this.intervention.conditions[this.intervention.options[t]],this.alternatives.splice(t,1),this.updateEdges()},t.prototype.updateEdges=function(){this.interventionService.removeEdges(this.graphIndex);for(var t=0,e=this.alternatives;t<e.length;t++){var i=e[t];Object($t.c)(this.conditions[i])||this.interventionService.setNextFromTo(this.graphIndex,Number.parseInt(this.conditions[i]))}},t.prototype.setNextTo=function(){this.updateEdges()},t.prototype.onTextChange=function(t,e,i){this.conditions[i]=this.conditions[e],this.alternatives[t]=i,delete this.conditions[e]},t.prototype.onNextChange=function(t,e){this.conditions[t]=e},t.\u0275fac=function(e){return new(e||t)(n.Lb(le))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-unique-choice"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:5,vars:2,consts:[[1,"font-weight-bold","text-primary","mb-2"],["class","mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-success",3,"click"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],[1,"d-flex","flex-column","w-100"],["cols","1","placeholder","Digite o texto",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"w-100","mt-2",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"],[3,"value","disabled"]],template:function(t,e){1&t&&(n.Rb(0,"span",0),n.Dc(1,"Alternativas"),n.Qb(),n.Bc(2,_n,13,7,"div",1),n.Rb(3,"button",2),n.Yb("click",(function(){return e.addChoice()})),n.Dc(4,"Adicionar alternativa"),n.Qb()),2&t&&(n.zb(2),n.ic("ngForOf",e.alternatives)("ngForTrackBy",e.trackByFn))},directives:[o.k,De.b,De.k,De.n,De.t,De.o,De.w],encapsulation:2}),t}();function Rn(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",3),n.Rb(1,"label",4),n.Dc(2),n.Qb(),n.Rb(3,"textarea",5),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index;return n.cc().intervention.options[o]=t}))("change",(function(){n.tc(i);var t=e.index;return n.cc().sendUpdate({acao:"f",index:t})})),n.Qb(),n.Rb(4,"i",6),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removeChoice(t)})),n.Qb(),n.Qb()}if(2&t){var o=e.index,r=n.cc();n.zb(1),n.ic("for",r.graphIndex+"alternative"+o),n.zb(1),n.Ec(o+1),n.zb(1),n.ic("ngModel",r.intervention.options[o])("id",r.graphIndex+"alternative"+o)}}var wn=function(){function t(t,e,i){this.interventionService=t,this.channel=e,this.dao=i,this.programId=0}return t.prototype.trackByFn=function(t,e){return t},t.prototype.ngOnInit=function(){var t=this;0==this.intervention.options.length&&(this.addChoice(),this.addChoice()),console.log("multchoice"+this.programId+"int"+this.intervention.id),this.channel.echo.private("program."+this.programId).listenForWhisper("multchoice"+this.programId+"int"+this.intervention.id,(function(e){console.log("Multiply Choice",e),t.channelUpdate(e)}))},t.prototype.addChoice=function(){this.intervention.options.push(""),this.sendUpdate({acao:"a"})},t.prototype.removeChoice=function(t){this.intervention.options.splice(t,1),this.sendUpdate({acao:"r",index:t})},t.prototype.channelUpdate=function(t){console.log("Chegou Multiple Choice"),"f"==t.acao?this.intervention.options[t.index]=t.value:"a"==t.acao?this.intervention.options.push(""):"r"==t.acao&&this.intervention.options.splice(t.index,1)},t.prototype.sendUpdate=function(t){var e=this;t.id=this.programId,t.intervention=this.intervention,t.tela="multipleChoice","f"==t.acao&&(t.value=this.intervention.options[t.index]),this.dao.patchObject(Yt.o,t).subscribe((function(i){console.log(t),console.log("mandou"),console.log("multchoice"+e.programId+"int"+e.intervention.id),e.channel.chanelSend(e.programId,"multchoice"+e.programId+"int"+e.intervention.id,t)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(le),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-multiple-choice"]],inputs:{intervention:"intervention",graphIndex:"graphIndex",programId:"programId"},decls:5,vars:2,consts:[[1,"font-weight-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Op\xe7\xe3o",1,"w-100",3,"ngModel","id","ngModelChange","change"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"span",0),n.Dc(1,"Alternativas"),n.Qb(),n.Bc(2,Rn,5,4,"div",1),n.Rb(3,"button",2),n.Yb("click",(function(){return e.addChoice()})),n.Dc(4,"Adicionar alternativa"),n.Qb()),2&t&&(n.zb(2),n.ic("ngForOf",e.intervention.options)("ngForTrackBy",e.trackByFn))},directives:[o.k,De.b,De.k,De.n],encapsulation:2}),t}();function In(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",11),n.Rb(1,"label",12),n.Dc(2),n.Qb(),n.Rb(3,"textarea",13),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index;return n.cc().intervention.options[o]=t})),n.Qb(),n.Rb(4,"i",14),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removeChoice(t)})),n.Qb(),n.Qb()}if(2&t){var o=e.index,r=n.cc();n.zb(1),n.ic("for",r.graphIndex+"alternative"+o),n.zb(1),n.Ec(o+1),n.zb(1),n.ic("ngModel",r.intervention.options[o])("id",r.graphIndex+"alternative"+o)}}var Sn=function(){function t(t){this.interventionService=t}return t.prototype.trackByFn=function(t,e){return t},Object.defineProperty(t.prototype,"scale",{get:function(){return this.intervention.scales[0]},set:function(t){this.intervention.scales[0]=t},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.scale="5 AGREEMENT",0==this.intervention.options.length&&(this.addChoice(),this.addChoice())},t.prototype.addChoice=function(){this.intervention.options.push("")},t.prototype.removeChoice=function(t){this.intervention.options.splice(t,1)},t.\u0275fac=function(e){return new(e||t)(n.Lb(le))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-likert"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:20,vars:5,consts:[[1,"font-weight-bold","text-primary","mb-2",3,"for"],[1,"mb-2",3,"ngModel","id","ngModelChange"],["value","5 AGREEMENT"],["value","7 AGREEMENT"],["value","5 FREQUENCY"],["value","7 FREQUENCY"],["value","5 SATISFACTION"],["value","7 SATISFACTION"],[1,"font-weight-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Afirmativa",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"label",0),n.Dc(1,"Escola o tipo de escala Likert"),n.Qb(),n.Rb(2,"select",1),n.Yb("ngModelChange",(function(t){return e.scale=t})),n.Rb(3,"option",2),n.Dc(4,"Concord\xe2ncia (5 pontos)"),n.Qb(),n.Rb(5,"option",3),n.Dc(6,"Concord\xe2ncia (7 pontos)"),n.Qb(),n.Rb(7,"option",4),n.Dc(8,"Frequ\xeancia (5 pontos)"),n.Qb(),n.Rb(9,"option",5),n.Dc(10,"Frequ\xeancia (7 pontos)"),n.Qb(),n.Rb(11,"option",6),n.Dc(12,"Satisfa\xe7\xe3o (5 pontos)"),n.Qb(),n.Rb(13,"option",7),n.Dc(14,"Satisfa\xe7\xe3o (7 pontos)"),n.Qb(),n.Qb(),n.Rb(15,"span",8),n.Dc(16,"Afirmativas"),n.Qb(),n.Bc(17,In,5,4,"div",9),n.Rb(18,"button",10),n.Yb("click",(function(){return e.addChoice()})),n.Dc(19,"Adicionar alternativa"),n.Qb()),2&t&&(n.ic("for",e.graphIndex+"scale"),n.zb(2),n.ic("ngModel",e.scale)("id",e.graphIndex+"scale"),n.zb(15),n.ic("ngForOf",e.intervention.options)("ngForTrackBy",e.trackByFn))},directives:[De.t,De.k,De.n,De.o,De.w,o.k,De.b],encapsulation:2}),t}(),Dn=function(t){return{"link-disabled":t}};function Qn(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",8),n.Rb(1,"div",9),n.Rb(2,"label",10),n.Dc(3),n.Qb(),n.Rb(4,"textarea",11),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index;return n.cc().intervention.scales[2*o+1]=t})),n.Qb(),n.Qb(),n.Rb(5,"div",9),n.Rb(6,"label",10),n.Dc(7),n.Qb(),n.Rb(8,"textarea",12),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index;return n.cc().intervention.scales[2*o+2]=t})),n.Qb(),n.Rb(9,"a",13),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removeChoice(t+1)})),n.Mb(10,"i",14),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.index,r=n.cc();n.zb(2),n.ic("for",r.graphIndex+"scale"+o),n.zb(1),n.Fc("",o+1,"-"),n.zb(1),n.ic("ngModel",r.intervention.scales[2*o+1])("id",r.graphIndex+"scale"+o),n.zb(2),n.ic("for",r.graphIndex+"scale"+o),n.zb(1),n.Fc("",o+1,"+"),n.zb(1),n.ic("ngModel",r.intervention.scales[2*o+2])("id",r.graphIndex+"scale"+o),n.zb(1),n.ic("ngClass",n.lc(9,Dn,r.intervention.scales.length<=3))}}var Cn=function(){function t(t){this.interventionService=t}return t.prototype.trackByFn=function(t,e){return t},t.prototype.ngOnInit=function(){0==this.intervention.scales.length&&(this.intervention.scales.push("5"),this.addChoice()),1==this.intervention.scales.length&&this.addChoice(),(this.intervention.scales.length-1)%2!=0&&this.intervention.scales.push("")},t.prototype.addChoice=function(){this.intervention.scales.push(""),this.intervention.scales.push("")},t.prototype.removeChoice=function(t){this.intervention.scales.splice(t,2)},t.\u0275fac=function(e){return new(e||t)(n.Lb(le))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-differential-semantic"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:16,vars:11,consts:[[1,"text-primary",3,"for"],[1,"mb-4",3,"ngModel","id","ngModelChange"],["value","5"],["value","7"],["value","9"],[1,"font-weight-bold","text-primary","mb-2"],["class","mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"pr-2",3,"for"],["cols","1","placeholder","Valor do come\xe7o da escala",1,"w-100",3,"ngModel","id","ngModelChange"],["cols","1","placeholder","Valor do fim da escala",1,"w-100",3,"ngModel","id","ngModelChange"],["href","javascript:",3,"ngClass","click"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em"]],template:function(t,e){1&t&&(n.Rb(0,"label",0),n.Dc(1,"Escolha o tamanho da escala"),n.Qb(),n.Rb(2,"select",1),n.Yb("ngModelChange",(function(t){return e.intervention.scales[0]=t})),n.Rb(3,"option",2),n.Dc(4,"5 pontos"),n.Qb(),n.Rb(5,"option",3),n.Dc(6,"7 pontos"),n.Qb(),n.Rb(7,"option",4),n.Dc(8,"9 pontos"),n.Qb(),n.Qb(),n.Rb(9,"span",5),n.Dc(10,"Escalas"),n.Qb(),n.Bc(11,Qn,11,11,"div",6),n.dc(12,"chunk"),n.dc(13,"slice"),n.Rb(14,"button",7),n.Yb("click",(function(){return e.addChoice()})),n.Dc(15,"Aumentar a escala"),n.Qb()),2&t&&(n.ic("for",e.graphIndex+"scale"),n.zb(2),n.ic("ngModel",e.intervention.scales[0])("id",e.graphIndex+"scale"),n.zb(9),n.ic("ngForOf",n.fc(12,5,n.fc(13,8,e.intervention.scales,1),2))("ngForTrackBy",e.trackByFn))},directives:[De.t,De.k,De.n,De.o,De.w,o.k,De.b,o.j],pipes:[Mt,o.s],encapsulation:2}),t}(),On=function(t){return{"link-disabled":t}};function kn(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",3),n.Rb(1,"label",4),n.Dc(2),n.Qb(),n.Rb(3,"textarea",5),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.index;return n.cc().intervention.scales[o]=t})),n.Qb(),n.Rb(4,"a",6),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removeChoice(t)})),n.Mb(5,"i",7),n.Qb(),n.Qb()}if(2&t){var o=e.index,r=n.cc();n.zb(1),n.ic("for",r.graphIndex+"alternative"+o),n.zb(1),n.Ec(o),n.zb(1),n.ic("ngModel",r.intervention.scales[o])("id",r.graphIndex+"alternative"+o),n.zb(1),n.ic("ngClass",n.lc(5,On,r.intervention.scales.length<=3))}}var En=function(){function t(t){this.interventionService=t}return t.prototype.trackByFn=function(t,e){return t},t.prototype.ngOnInit=function(){0==this.intervention.scales.length&&(this.addChoice(),this.addChoice(),this.addChoice())},t.prototype.addChoice=function(){this.intervention.scales.push("")},t.prototype.removeChoice=function(t){this.intervention.scales.splice(t,1)},t.\u0275fac=function(e){return new(e||t)(n.Lb(le))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-likert-custom"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:5,vars:2,consts:[[1,"font-weight-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Valor",1,"w-100",3,"ngModel","id","ngModelChange"],["href","javascript:",3,"ngClass","click"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em"]],template:function(t,e){1&t&&(n.Rb(0,"span",0),n.Dc(1,"Valores da escala"),n.Qb(),n.Bc(2,kn,6,7,"div",1),n.Rb(3,"button",2),n.Yb("click",(function(){return e.addChoice()})),n.Dc(4,"Aumentar a escala"),n.Qb()),2&t&&(n.zb(2),n.ic("ngForOf",e.intervention.scales)("ngForTrackBy",e.trackByFn))},directives:[o.k,De.b,De.k,De.n,o.j],encapsulation:2}),t}();function Mn(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"esm-unique-choice",1),n.Qb()),2&t){var i=n.cc();n.zb(1),n.ic("intervention",i.intervention)("graphIndex",i.graphIndex)}}function zn(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"esm-multiple-choice",2),n.Qb()),2&t){var i=n.cc();n.zb(1),n.ic("intervention",i.intervention)("graphIndex",i.graphIndex)("programId",i.programId)}}function Pn(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"esm-likert",1),n.Qb()),2&t){var i=n.cc();n.zb(1),n.ic("intervention",i.intervention)("graphIndex",i.graphIndex)}}function jn(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"esm-differential-semantic",1),n.Qb()),2&t){var i=n.cc();n.zb(1),n.ic("intervention",i.intervention)("graphIndex",i.graphIndex)}}function Tn(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"esm-likert-custom",1),n.Qb()),2&t){var i=n.cc();n.zb(1),n.ic("intervention",i.intervention)("graphIndex",i.graphIndex)}}var Fn=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-question"]],inputs:{intervention:"intervention",graphIndex:"graphIndex",programId:"programId"},decls:5,vars:5,consts:[[4,"ngIf"],[1,"d-flex","flex-column","justify-content-center",3,"intervention","graphIndex"],[1,"d-flex","flex-column","justify-content-center",3,"intervention","graphIndex","programId"]],template:function(t,e){1&t&&(n.Bc(0,Mn,2,2,"div",0),n.Bc(1,zn,2,3,"div",0),n.Bc(2,Pn,2,2,"div",0),n.Bc(3,jn,2,2,"div",0),n.Bc(4,Tn,2,2,"div",0)),2&t&&(n.ic("ngIf",1===e.intervention.question_type),n.zb(1),n.ic("ngIf",2===e.intervention.question_type),n.zb(1),n.ic("ngIf",3===e.intervention.question_type),n.zb(1),n.ic("ngIf",4===e.intervention.question_type),n.zb(1),n.ic("ngIf",31===e.intervention.question_type))},directives:[o.l,xn,wn,Sn,Cn,En],encapsulation:2}),t}(),An=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-media"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:9,vars:1,consts:[[1,"form-control","selectMedia",3,"ngModel","ngModelChange"],["selected","","disabled","","value",""],["value","image"],["value","audio"],["value","video"]],template:function(t,e){1&t&&(n.Rb(0,"select",0),n.Yb("ngModelChange",(function(t){return e.intervention.media_type=t})),n.Rb(1,"option",1),n.Dc(2,"Selecione o tipo de m\xeddia"),n.Qb(),n.Rb(3,"option",2),n.Dc(4,"Imagem"),n.Qb(),n.Rb(5,"option",3),n.Dc(6,"\xc1udio"),n.Qb(),n.Rb(7,"option",4),n.Dc(8,"V\xeddeo"),n.Qb(),n.Qb()),2&t&&n.ic("ngModel",e.intervention.media_type)},directives:[De.t,De.k,De.n,De.o,De.w],styles:[""]}),t}();function Bn(t,e){if(1&t&&(n.Rb(0,"option",4),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.ic("ngValue",i.package),n.zb(1),n.Ec(i.name)}}function Ln(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",5),n.Rb(1,"label",6),n.Dc(2),n.Qb(),n.Rb(3,"textarea",7),n.Yb("ngModelChange",(function(t){n.tc(i);var o=e.$implicit;return n.cc().intervention.parameters[o.key]=t})),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc();n.zb(1),n.ic("for",r.graphIndex+"-package-"+o.key),n.zb(1),n.Ec(o.name),n.zb(1),n.ic("placeholder",o.name)("id",r.graphIndex+"-package-"+o.key)("ngModel",r.intervention.parameters[o.key])}}var Nn=function(){function t(t){this.daoService=t,this.urlExternalApplications=Yt.g,this.packages=[{name:"Youtube",package:"youtube",parameters:[{key:"youtube",name:"Digite a URL do Youtube"}]},{name:"Navegador",package:"navegador",parameters:[{key:"navegador",name:"Digite a URL da aplica\xe7\xe3o"}]},{name:"Personalizado",package:"personalizado",parameters:[{key:"personalizado",name:"Digite a URL da PlayStore"}]}]}return Object.defineProperty(t.prototype,"selectedPackage",{get:function(){var t,e=this;return null===(t=this.packages.find((function(t){return t.package==e.intervention.app_package})))||void 0===t?void 0:t.parameters},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.getExternalApplications().subscribe((function(e){e.data.forEach((function(e){t.packages.push(e)}))}))},t.prototype.packageChanged=function(){var t=this;this.selectedPackage.forEach((function(e){t.intervention.parameters[e.key]=e.default_value}))},t.prototype.getExternalApplications=function(){return this.daoService.getObjects(this.urlExternalApplications,{all:!0})},t.\u0275fac=function(e){return new(e||t)(n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-external-media"]],inputs:{intervention:"intervention",graphIndex:"graphIndex"},decls:5,vars:3,consts:[[1,"form-control","selectMedia",3,"ngModel","ngModelChange","change"],["selected","","disabled","","value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex flex-column mt-3",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"d-flex","flex-column","mt-3"],[3,"for"],["maxlength","800",3,"placeholder","id","ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.Rb(0,"select",0),n.Yb("ngModelChange",(function(t){return e.intervention.app_package=t}))("change",(function(){return e.packageChanged()})),n.Rb(1,"option",1),n.Dc(2,"Selecione uma op\xe7\xe3o"),n.Qb(),n.Bc(3,Bn,2,2,"option",2),n.Qb(),n.Bc(4,Ln,4,5,"div",3)),2&t&&(n.ic("ngModel",e.intervention.app_package),n.zb(3),n.ic("ngForOf",e.packages),n.zb(1),n.ic("ngForOf",e.selectedPackage))},directives:[De.t,De.k,De.n,De.o,De.w,o.k,De.b,De.h],styles:[""]}),t}(),Vn=["interventionDiv"];function Yn(t,e){if(1&t&&n.Mb(0,"img",24),2&t){var i=n.cc().$implicit;n.ic("src",i.url,n.vc)("alt",i.name)}}function Un(t,e){if(1&t&&n.Mb(0,"video",25),2&t){var i=n.cc().$implicit;n.ic("src",i.url,n.vc)}}function Gn(t,e){if(1&t&&(n.Rb(0,"div",26),n.Mb(1,"audio",27),n.Qb()),2&t){var i=n.cc().$implicit;n.zb(1),n.ic("src",i.url,n.vc)}}function qn(t,e){if(1&t){var i=n.Sb();n.Rb(0,"button",28),n.Yb("click",(function(){n.tc(i);var t=n.cc().index;return n.cc().removerMidia(t)})),n.Dc(1," Remover m\xeddia "),n.Mb(2,"i",29),n.Qb()}}function $n(t,e){if(1&t&&(n.Rb(0,"div",19),n.Bc(1,Yn,1,2,"img",20),n.Bc(2,Un,1,1,"video",21),n.Bc(3,Gn,2,1,"div",22),n.Bc(4,qn,3,0,"button",23),n.Qb()),2&t){var i=e.$implicit,o=n.cc();n.zb(1),n.ic("ngIf","image"==i.type),n.zb(1),n.ic("ngIf","video"==i.type),n.zb(1),n.ic("ngIf","audio"==i.type),n.zb(1),n.ic("ngIf",o.interventionCoordinate.intervention.medias.length>0)}}function Hn(t,e){if(1&t&&n.Mb(0,"esm-question",30),2&t){var i=n.cc();n.ic("intervention",i.interventionCoordinate.intervention)("graphIndex",i.graphIndex)("programId",i.programId)}}function Wn(t,e){if(1&t&&n.Mb(0,"esm-media",31),2&t){var i=n.cc();n.ic("intervention",i.interventionCoordinate.intervention)("graphIndex",i.graphIndex)}}function Zn(t,e){if(1&t&&n.Mb(0,"esm-external-media",31),2&t){var i=n.cc();n.ic("intervention",i.interventionCoordinate.intervention)("graphIndex",i.graphIndex)}}function Kn(t,e){if(1&t&&(n.Rb(0,"option",37),n.Dc(1),n.Qb()),2&t){var i=e.$implicit,o=e.index,r=n.cc(2);n.ic("value",o)("disabled",o===r.graphIndex),n.zb(1),n.Gc(" ",i.orderDescription," - ",i.typeDescription," ")}}function Jn(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div"),n.Mb(1,"hr",32),n.Rb(2,"select",33),n.Yb("ngModelChange",(function(t){return n.tc(i),n.cc().nextInterventionSelect=t}))("change",(function(){return n.tc(i),n.cc().setNextTo()})),n.Rb(3,"option",34),n.Dc(4,"Pr\xf3xima interven\xe7\xe3o"),n.Qb(),n.Bc(5,Kn,2,4,"option",35),n.Rb(6,"option",36),n.Dc(7,"Finalizar"),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=n.cc();n.zb(2),n.ic("ngModel",o.nextInterventionSelect),n.zb(3),n.ic("ngForOf",o.interventionHtmlElements),n.zb(1),n.ic("value",null)}}var Xn=function(){function t(t,e,i){this.interventionService=t,this._modalService=e,this.channel=i,this.offset={x:0,y:0},this.programId=0}return Object.defineProperty(t.prototype,"obrigatory",{get:function(){return"empty"===this.interventionCoordinate.type||"question"===this.interventionCoordinate.type&&1===this.interventionCoordinate.question_type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"graphIndex",{get:function(){return this.interventionCoordinate.intervention.graph_index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interventionHtmlElements",{get:function(){return this.interventionService.graphElements},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.interventionService.firstInterventionChange$.subscribe((function(e){t.interventionCoordinate.first=t.graphIndex===e})),console.log("inter"+this.programId+"int"+this.interventionCoordinate.intervention.id),this.channel.echo.private("program."+this.programId).listenForWhisper("inter"+this.programId+"int"+this.interventionCoordinate.intervention.id,(function(e){console.log("intervention",e),t.channelUpdate(e)}))},t.prototype.ngAfterContentInit=function(){var t=this;this.updateNextInterventions(),this.redrawGraphSubscription=this.interventionService.redrawGraph$.subscribe((function(e){return t.updateNextInterventions()}))},t.prototype.ngOnDestroy=function(){this.redrawGraphSubscription&&this.redrawGraphSubscription.unsubscribe()},t.prototype.updateNextInterventions=function(){var t;this.nextInterventionSelect=(null===(t=this.interventionService.interventionElementsGraph[this.graphIndex][0])||void 0===t?void 0:t.toString())||null},t.prototype.ngAfterViewInit=function(){this.interventionCoordinate.width=this.interventionDiv.nativeElement.clientWidth,this.interventionCoordinate.height=this.interventionDiv.nativeElement.clientHeight,this.interventionCoordinate.x=this.offset.x+this.interventionCoordinate.width/2,this.interventionCoordinate.y=this.offset.y+this.interventionCoordinate.height/2},t.prototype.interventionCurrentCoordinate=function(){var t=this.interventionDiv.nativeElement.style.transform.match(/-?\d+px/g).map((function(t){return Number.parseInt(t.substring(0,t.length-2))}));return{x:t[0],y:t[1]}},t.prototype.onDragStart=function(){this.previousPosition=this.interventionCurrentCoordinate()},t.prototype.moving=function(){var t=this.interventionCurrentCoordinate();t.y<0&&(this.interventionDiv.nativeElement.style.transform="translate3d("+t.x+"px, 0px, 0px) ",t.y=0);var e=t.y-this.previousPosition.y;this.interventionCoordinate.x=this.interventionCoordinate.x+(t.x-this.previousPosition.x),this.interventionCoordinate.y=this.interventionCoordinate.y+e,this.offset.y=t.y,this.offset.x=t.x,this.interventionCoordinate.intervention.y=t.y,this.interventionCoordinate.intervention.x=t.x,this.previousPosition=t,this.interventionService.redrawGraph$.next()},t.prototype.remove=function(){this.interventionService.removeIntervention(this.graphIndex)},t.prototype.setFirst=function(){this.interventionCoordinate.first||this.interventionService.setFirst(this.graphIndex)},t.prototype.removerMidia=function(t){this.interventionService.saveCurrentState(),this.interventionCoordinate.intervention.medias.splice(t,1),this.interventionService.saveState()},t.prototype.setNextTo=function(){var t=this.graphIndex;if(Object($t.c)(this.nextInterventionSelect))this.interventionService.removeEdges(t);else{var e=Number.parseInt(this.nextInterventionSelect);this.interventionService.removeEdges(t,!1),this.interventionService.setNextFromTo(t,e)}},t.prototype.openMediaUpload=function(){var t=this;this._modalMediaRef=this._modalService.show(gn,{class:"modal-lg modal-media",ignoreBackdropClick:!0,initialState:{}}),document.getElementsByClassName("modal-media")[0].parentElement.classList.add("holder-modal-media"),this._modalMediaRef.content.response.pipe(Object(A.a)(1)).subscribe((function(e){t.interventionCoordinate.intervention.medias.push(e)}))},t.prototype.channelUpdate=function(t){console.log("Chegou Intervention-item"),(t.acao="f")&&(this.interventionCoordinate[t.campo]=t.value)},t.prototype.sendUpdate=function(t){t.id=this.programId,(t.acao="f")&&(t.value=this.interventionCoordinate[t.campo]),console.log(t),console.log("mandou"),console.log("inter"+this.programId+"int"+this.interventionCoordinate.intervention.id),this.channel.chanelSend(this.programId,"inter"+this.programId+"int"+this.interventionCoordinate.intervention.id,t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(le),n.Lb(Pe.b),n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-intervention-item"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Vn,!0),2&t&&n.qc(i=n.Zb())&&(e.interventionDiv=i.first)},decls:28,vars:21,consts:[["cdkDrag","",1,"card","position-absolute",2,"top","0","width","300px",3,"cdkDragFreeDragPosition","cdkDragStarted","cdkDragMoved"],["interventionDiv",""],["cdkDragHandle","",1,"d-flex","align-items-center","justify-content-between","bg-primary","text-white","w-100","p-2"],[1,"font-weight-bold"],[1,"fas","fa-times","pointer",3,"click"],[1,"w-100","p-3"],[1,"w-100","mb-3"],["type","radio","name","first",3,"checked","id","click"],[3,"for"],["type","checkbox",3,"ngModel","id","checked","disabled","ngModelChange","change"],[1,"d-flex","flex-column"],["maxlength","800",3,"id","ngModel","ngModelChange","change"],[1,"holder-media","my-4"],["class","mb-2",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","w-100",3,"click"],[1,"fas","fa-paperclip"],[3,"intervention","graphIndex","programId",4,"ngIf"],[3,"intervention","graphIndex",4,"ngIf"],[4,"ngIf"],[1,"mb-2"],["class","img-thumbnail w-100 mb-1",3,"src","alt",4,"ngIf"],["class","img-thumbnail mb-1","controls","","height","120",3,"src",4,"ngIf"],["class","img-thumbnail mb-1",4,"ngIf"],["class","btn btn-danger w-100",3,"click",4,"ngIf"],[1,"img-thumbnail","w-100","mb-1",3,"src","alt"],["controls","","height","120",1,"img-thumbnail","mb-1",3,"src"],[1,"img-thumbnail","mb-1"],["height","70","controls","",1,"w-100",3,"src"],[1,"btn","btn-danger","w-100",3,"click"],[1,"far","fa-trash-alt"],[3,"intervention","graphIndex","programId"],[3,"intervention","graphIndex"],[2,"border-top","2px dashed #e8e8e8"],[1,"w-100",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[3,"value","disabled"]],template:function(t,e){1&t&&(n.Rb(0,"div",0,1),n.Yb("cdkDragStarted",(function(){return e.onDragStart()}))("cdkDragMoved",(function(){return e.moving()})),n.Rb(2,"div",2),n.Rb(3,"span",3),n.Dc(4),n.Qb(),n.Rb(5,"i",4),n.Yb("click",(function(){return e.remove()})),n.Qb(),n.Qb(),n.Rb(6,"div",5),n.Rb(7,"div",6),n.Rb(8,"input",7),n.Yb("click",(function(){return e.setFirst()})),n.Qb(),n.Rb(9,"label",8),n.Dc(10,"1\xaa Interven\xe7\xe3o"),n.Qb(),n.Qb(),n.Rb(11,"div",6),n.Rb(12,"input",9),n.Yb("ngModelChange",(function(t){return e.interventionCoordinate.obrigatory=t}))("change",(function(){return e.sendUpdate({acao:"f",campo:"obrigatory"})})),n.Qb(),n.Rb(13,"label",8),n.Dc(14,"Obrigat\xf3ria"),n.Qb(),n.Qb(),n.Rb(15,"div",10),n.Rb(16,"label",8),n.Dc(17),n.Qb(),n.Rb(18,"textarea",11),n.Yb("ngModelChange",(function(t){return e.interventionCoordinate.statement=t}))("change",(function(){return e.sendUpdate({acao:"f",campo:"statement"})})),n.Qb(),n.Qb(),n.Rb(19,"div",12),n.Bc(20,$n,5,4,"div",13),n.Rb(21,"button",14),n.Yb("click",(function(){return e.openMediaUpload()})),n.Dc(22,"Anexar m\xeddia "),n.Mb(23,"i",15),n.Qb(),n.Qb(),n.Bc(24,Hn,1,3,"esm-question",16),n.Bc(25,Wn,1,2,"esm-media",17),n.Bc(26,Zn,1,2,"esm-external-media",17),n.Bc(27,Jn,8,3,"div",18),n.Qb(),n.Qb()),2&t&&(n.ic("cdkDragFreeDragPosition",e.offset),n.zb(4),n.Gc("",e.interventionCoordinate.orderDescription," - ",e.interventionCoordinate.typeDescription,""),n.zb(4),n.ic("checked",e.interventionCoordinate.first)("id",e.graphIndex+"-first"),n.zb(1),n.ic("for",e.graphIndex+"-first"),n.zb(3),n.ic("ngModel",e.interventionCoordinate.obrigatory)("id",e.graphIndex+"-obrigatory")("checked",e.obrigatory)("disabled",e.obrigatory),n.zb(1),n.ic("for",e.graphIndex+"-obrigatory"),n.zb(3),n.ic("for",e.graphIndex+"-statement"),n.zb(1),n.Gc("Digite a ","question"===e.interventionCoordinate.type?"quest\xe3o":"mensagem"," (",e.interventionCoordinate.statement.length,"/800)"),n.zb(1),n.ic("id",e.graphIndex+"-statement")("ngModel",e.interventionCoordinate.statement),n.zb(2),n.ic("ngForOf",e.interventionCoordinate.intervention.medias),n.zb(4),n.ic("ngIf","question"===e.interventionCoordinate.type),n.zb(1),n.ic("ngIf","media"===e.interventionCoordinate.type),n.zb(1),n.ic("ngIf","task"===e.interventionCoordinate.type),n.zb(1),n.ic("ngIf","question"!==e.interventionCoordinate.type||1!==e.interventionCoordinate.question_type))},directives:[Ct,St,De.a,De.k,De.n,De.b,De.h,o.k,o.l,Fn,An,Nn,De.t,De.o,De.w],styles:["textarea[_ngcontent-%COMP%]{height:73px}"]}),t}(),to=[{icon:"fa fa-comment",text:"Mensagem",type:"empty",enabled:!0},{icon:"fa fa-align-left",text:"Quest\xe3o aberta",alias:"empty_question",type:"question",subtype:0,enabled:!0},{icon:"fas fa-dot-circle",text:"Escolha \xdanica",alias:"singlecheck",type:"question",subtype:1,enabled:!1},{icon:"fas fa-check-square",text:"Escolha M\xfaltipla",alias:"multiple_check",type:"question",subtype:2,enabled:!0},{icon:"fa fa-ruler-combined",text:"Likert",alias:"likert",type:"question",subtype:3,enabled:!1},{icon:"fa fa-pencil-ruler",text:"Likert Personalizada",alias:"custom_likert",type:"question",subtype:31,enabled:!1},{icon:"fas fa-balance-scale",text:"Diferencial Sem\xe2ntico",alias:"semantic",type:"question",subtype:4,enabled:!1},{icon:"fas fa-video",text:"Solicitar M\xeddia",alias:"midia",type:"media",enabled:!1},{icon:"fas fa-mobile",text:"Aplica\xe7\xe3o externa",alias:"external_app",type:"task",enabled:!1},{icon:"far fa-calendar-alt",text:"Abrir calend\xe1rio",alias:"calendar",type:"calendar",enabled:!1}];function eo(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",21),n.Yb("click",(function(){n.tc(i);var t=n.cc().$implicit;return n.cc().addIntervention(t.type,t.subtype)})),n.Mb(1,"i",22),n.Rb(2,"span"),n.Dc(3),n.Qb(),n.Qb()}if(2&t){var o=n.cc().$implicit;n.zb(1),n.Bb(o.icon),n.zb(2),n.Ec(o.text)}}function io(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",23),n.Yb("click",(function(){n.tc(i);var t=n.cc().$implicit;return n.cc().addIntervention(t.type,t.subtype)})),n.Mb(1,"i",22),n.Rb(2,"span"),n.Dc(3),n.Qb(),n.Qb()}if(2&t){var o=n.cc().$implicit;n.zb(1),n.Bb(o.icon),n.zb(2),n.Ec(o.text)}}function no(t,e){if(1&t&&(n.Rb(0,"li"),n.Bc(1,eo,4,3,"a",19),n.Bc(2,io,4,3,"a",20),n.Qb()),2&t){var i=e.$implicit;n.zb(1),n.ic("ngIf",i.enabled),n.zb(1),n.ic("ngIf",!i.enabled)}}var oo=function(t){return{disabled:t}},ro=function(){function t(t,e,i,o,r){this.bsModalRef=t,this.interventionService=e,this._swalService=i,this.channel=o,this.dao=r,this.addInterventionPopUp=!1,this.itensQuestion=to,this.zoom=1,this.updateZoom=new n.n,this.finishIntervention=new n.n,this.programId=-1,this.eventId=-1,this.texto="disabled"}return t.prototype.ngOnInit=function(){var t=this;console.log("navbar"+this.programId+"ae"+this.eventId),this.channel.echo.private("program."+this.programId).listenForWhisper("navbar"+this.programId+"ae"+this.eventId,(function(e){console.log("Eventos",e),t.channelUpdate(e)}))},t.prototype.addIntervention=function(t,e){var i,n=this;"empty"===t?i=new Ht:"media"===t?i=new Wt:"question"===t?i=new Kt({question_type:e}):"task"===t?i=new Jt:"calendar"===t&&(i=new Zt);var o={};o.id=this.programId,o.eventId=this.eventId,o.tela="navbar",o.intervention=i,this.dao.patchObject(Yt.o,o).subscribe((function(t){i.id=t.id;var e=new de(i);n.interventionService.addIntervention(e),o.uuid=e.uuid,n.sendUpdate(o)}))},t.prototype.nextStateEnabled=function(){return this.interventionService.states.length>0&&this.interventionService.currentState>0},t.prototype.previousStateEnabled=function(){return this.interventionService.currentState<this.interventionService.states.length-1},t.prototype.nextState=function(){this.interventionService.nextState()},t.prototype.previousState=function(){this.interventionService.previousState()},t.prototype.zoomIn=function(){this.zoom<1&&(this.zoom=+(this.zoom+.1).toFixed(1),this.updateZoom.emit(this.zoom))},t.prototype.zoomOut=function(){this.zoom>=.7&&(this.zoom=+(this.zoom-.1).toFixed(1),this.updateZoom.emit(this.zoom))},t.prototype.finish=function(){this.finishIntervention.emit(!0)},t.prototype.close=function(){var t=this;this._swalService.warning("Tem certeza que deseja sair do editor de interven\xe7\xf5es?","Sair do editor").then((function(e){e.isConfirmed&&t.bsModalRef.hide()}))},t.prototype.debug=function(){},t.prototype.channelUpdate=function(t){console.log("Chegou Navbar");var e=this.interventionService.transformToClass(t.intervention);e.uuid=t.uuid,this.interventionService.addIntervention(e)},t.prototype.sendUpdate=function(t){console.log("navbar"+this.programId+"ae"+this.eventId),t.id=this.programId,console.log(t),console.log("mandou"),this.channel.chanelSend(this.programId,"navbar"+this.programId+"ae"+this.eventId,t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(le),n.Lb(ee.a),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-navbar"]],inputs:{programId:"programId",eventId:"eventId"},outputs:{updateZoom:"updateZoom",finishIntervention:"finishIntervention"},decls:42,vars:17,consts:[[1,"d-flex","align-items-stretch","justify-content-around","bg-primary","w-100","position-fixed","px-2","text-white"],[1,"d-flex","align-items-center","justify-content-center",3,"click"],["src","assets/images/logo-espim-web.svg","alt","Logo do Espim",1,"pr-1"],[1,"text-large"],[1,"navbar","align-items-center","m-0","justify-content-center"],[1,"nav-item","dropdown"],["href","#","role","button","data-toggle","dropdown",1,"dropdown-toggle","text-white","nav-link"],[1,"fas","fa-plus-circle","pr-1"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"nav-item"],["href","javascript:",1,"nav-link","text-white",3,"click"],[1,"fas","fa-undo-alt","pr-1"],[1,"fas","fa-redo-alt","pr-1"],[1,"fas","fa-search-plus","pr-1"],[1,"fas","fa-search-minus","pr-1"],[1,"fas","fa-check-circle","pr-1"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-times","pr-1"],["class","dropdown-item","href","javascript:",3,"click",4,"ngIf"],["class","dropdown-item disabled","href","javascript:",3,"click",4,"ngIf"],["href","javascript:",1,"dropdown-item",3,"click"],[1,"pr-1"],["href","javascript:",1,"dropdown-item","disabled",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"nav",0),n.Rb(1,"div",1),n.Yb("click",(function(){return e.debug()})),n.Mb(2,"img",2),n.Rb(3,"span",3),n.Dc(4,"ESPIM"),n.Qb(),n.Qb(),n.Rb(5,"ul",4),n.Rb(6,"li",5),n.Rb(7,"a",6),n.Mb(8,"i",7),n.Dc(9,"Adicionar"),n.Qb(),n.Rb(10,"ul",8),n.Bc(11,no,3,2,"li",9),n.Qb(),n.Qb(),n.Rb(12,"li",10),n.Rb(13,"a",11),n.Yb("click",(function(){return e.previousState()})),n.Mb(14,"i",12),n.Rb(15,"span"),n.Dc(16,"Desfazer"),n.Qb(),n.Qb(),n.Qb(),n.Rb(17,"li",10),n.Rb(18,"a",11),n.Yb("click",(function(){return e.nextState()})),n.Mb(19,"i",13),n.Rb(20,"span"),n.Dc(21,"Refazer"),n.Qb(),n.Qb(),n.Qb(),n.Rb(22,"li",10),n.Rb(23,"a",11),n.Yb("click",(function(){return e.zoomIn()})),n.Mb(24,"i",14),n.Rb(25,"span"),n.Dc(26,"Mais zoom"),n.Qb(),n.Qb(),n.Qb(),n.Rb(27,"li",10),n.Rb(28,"a",11),n.Yb("click",(function(){return e.zoomOut()})),n.Mb(29,"i",15),n.Rb(30,"span"),n.Dc(31,"Menos zoom"),n.Qb(),n.Qb(),n.Qb(),n.Rb(32,"li",10),n.Rb(33,"a",11),n.Yb("click",(function(){return e.finish()})),n.Mb(34,"i",16),n.Rb(35,"span"),n.Dc(36,"Concluir"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(37,"div",17),n.Rb(38,"a",11),n.Yb("click",(function(){return e.close()})),n.Mb(39,"i",18),n.Rb(40,"span"),n.Dc(41,"Fechar"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(11),n.ic("ngForOf",e.itensQuestion),n.zb(2),n.Bb(n.lc(9,oo,!e.nextStateEnabled())),n.zb(5),n.Bb(n.lc(11,oo,!e.previousStateEnabled())),n.zb(5),n.Bb(n.lc(13,oo,1==e.zoom)),n.zb(5),n.Bb(n.lc(15,oo,.6==e.zoom)))},directives:[o.k,o.l],styles:["nav[_ngcontent-%COMP%]{height:62px;z-index:10}"]}),t}(),so=["canvas"],ao=function(){function t(t){this.interventionService=t}return t.prototype.ngOnInit=function(){var t=this;this.interventionService.redrawGraph$.subscribe((function(e){return t.drawAllArrows()}))},t.prototype.ngAfterViewInit=function(){this.canvas=this.canvasRef.nativeElement,this.resizeCanvas()},t.prototype.resizeCanvas=function(){var t=document.getElementsByClassName("tiled-background")[0],e=t.scrollHeight-7,i=t.scrollWidth;this.canvasRef.nativeElement.width!==i&&(this.canvasRef.nativeElement.width=i),this.canvasRef.nativeElement.height!==e&&(this.canvasRef.nativeElement.height=e),this.clearCanvas()},t.prototype.clearCanvas=function(){var t=this.canvas.getContext("2d");t.beginPath(),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.stroke()},t.prototype.drawAllArrows=function(){this.resizeCanvas();var t=new Array(this.interventionService.graphElements.length),e=[];for(e.push({intervention:this.interventionService.firstIntervention,order_position:0});e.length>0;){var i=e[0],n=i.intervention,o=i.order_position;if(e.splice(0,1),!Object($t.c)(n)&&-1!==n)if(t[n])this.interventionService.warnCycle(o);else{this.interventionService.graphElement(n).order_position=o,t[n]=!0;for(var r=0,s=this.interventionService.interventionElementsGraph[n];r<s.length;r++)e.push({intervention:u=s[r],order_position:o+1}),this.drawArrow(this.interventionService.graphElement(n),this.interventionService.graphElement(u),!0);this.interventionService.lastInteractedIntervention=n}}this.interventionService.hasMultiplePaths=!1;for(var a="a".charCodeAt(0),c=0;c<t.length;c++)if(!t[c]){this.interventionService.hasMultiplePaths=!0,this.interventionService.graphElement(c).order_position=-1*a;for(var l=0,d=this.interventionService.interventionElementsGraph[c];l<d.length;l++){var u=d[l];this.drawArrow(this.interventionService.graphElement(c),this.interventionService.graphElement(u),!1)}a++}},t.prototype.drawArrow=function(t,e,i){if(void 0===i&&(i=!0),t&&e){var n,o,r=e.x-t.x,s=e.y-t.y;if(Math.abs(r)>Math.abs(s))n=r>=0?t.right:t.left,o=r>=0?e.left:e.right;else{if(!(Math.abs(r)<Math.abs(s)))return;n=s>=0?t.bottom:t.top,o=s>=0?e.top:e.bottom}var a=this.canvas.getContext("2d"),c=Math.atan2(s,r);a.beginPath(),i?(a.strokeStyle="#0a467f",a.lineWidth=2):(a.strokeStyle="#000000",a.lineWidth=1),a.moveTo(n.x,n.y),a.lineTo(o.x,o.y),a.lineTo(o.x-10*Math.cos(c-Math.PI/6),o.y-10*Math.sin(c-Math.PI/6)),a.moveTo(o.x,o.y),a.lineTo(o.x-10*Math.cos(c+Math.PI/6),o.y-10*Math.sin(c+Math.PI/6)),a.stroke()}},t.\u0275fac=function(e){return new(e||t)(n.Lb(le))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-canvas"]],viewQuery:function(t,e){var i;1&t&&n.Jc(so,!0),2&t&&n.qc(i=n.Zb())&&(e.canvasRef=i.first)},decls:2,vars:0,consts:[["canvas",""]],template:function(t,e){1&t&&n.Mb(0,"canvas",null,0)},encapsulation:2}),t}(),co=["container"],lo=["main_div"],uo=function(t){return{zoom:t}},po=function(){function t(t,e,i,o,r){this.bsModalRef=t,this.interventionService=e,this.programAddService=i,this._swalService=o,this.componentFactoryResolver=r,this.previousPosition={},this.offset={x:0,y:0},this.interventionComponents=[],this.zoomSize=1,this.response=new n.n,this.interventionsToInit=[],this.scrollTo=hn()((function(t){this.mainDiv.nativeElement.scrollTo({top:0,left:t,behavior:"smooth"})}),50)}return t.prototype.ngAfterViewInit=function(){var t=this;this.interventionService.clearBoard$.subscribe((function(e){return t.clearBoard()})),this.interventionService.newInterventions$.subscribe((function(e){t.createIntervention(e.intervention),t.updateGraphIndexes()})),this.interventionService.removeIntervention$.subscribe((function(e){t.interventionComponents[e].destroy(),t.interventionComponents.splice(e,1),t.updateGraphIndexes()})),this.interventionService.init(this.interventionsToInit,this.programId,this.activeEvent.id),console.log(this.programId),console.log(this.activeEvent)},t.prototype.clearBoard=function(){this.interventionComponents.forEach((function(t){t.destroy()})),this.interventionComponents=[]},t.prototype.updateGraphIndexes=function(){this.interventionComponents.forEach((function(t,e){t.instance.interventionCoordinate.intervention.graph_index=e}))},t.prototype.createIntervention=function(t){var e=this,i=this.interventionsContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(Xn)),n=50,o=50;this.interventionComponents.forEach((function(t){var e=t.instance.offset.x+t.instance.interventionCoordinate.width+50;e>n&&(n=e)})),t.intervention.x&&(n=t.intervention.x),t.intervention.y&&(o=t.intervention.y),i.instance.offset={x:n,y:o},i.instance.interventionCoordinate=t,i.instance.programId=this.programId,this.interventionComponents.push(i),setTimeout((function(){i.instance.interventionCoordinate.intervention.x=n,i.instance.interventionCoordinate.intervention.y=o,e.interventionService.redrawGraph$.next();var t=n-window.innerWidth/2+i.instance.interventionCoordinate.width/2;t<0&&(t=0),e.scrollTo(t)}))},t.prototype.onMiddleClickDown=function(t){4===t.buttons&&(this.previousPosition={x:t.clientX,y:t.clientY})},t.prototype.onMiddleClickUp=function(t){4===t.buttons&&(this.previousPosition={})},t.prototype.MiddleClickScroll=function(t){if(void 0!==this.previousPosition.x&&void 0!==this.previousPosition.y&&4===t.buttons){var e={x:t.clientX,y:t.clientY},i={x:e.x-this.previousPosition.x,y:e.y-this.previousPosition.y};this.offset.x+=i.x,this.offset.y+=i.y,this.mainDiv.nativeElement.scrollBy({left:-1*i.x,top:-1*i.y}),this.previousPosition=e}},t.prototype.finish=function(){var t=this,e=Bt()(this.interventionService.getCurrentState()),i=!1;if(this.interventionService.hasMultiplePaths)return this._swalService.error("Encontramos interven\xe7\xf5es que n\xe3o est\xe3o ligadas \xe0 primeira. Por favor, \xe9 necess\xe1rio deleta-las ou liga-las ao caminho principal","H\xe1 interven\xe7\xf5es desconectadas"),void(i=!0);e.forEach((function(e){if(""==e.statement||Object($t.c)(e.statement))return t._swalService.error("Interven\xe7\xe3o "+e.getOrderDescription()+" n\xe3o possui uma descri\xe7\xe3o. Por favor, \xe9 necess\xe1rio digitar uma descri\xe7\xe3o.","H\xe1 interven\xe7\xf5es sem descri\xe7\xe3o"),void(i=!0)})),i||this._swalService.warning("Deseja concluir o planejamento das interven\xe7\xf5es?","Concluindo o Planejamento").then((function(i){if(i.isConfirmed)if(t.activeEvent.id){var n=t.programAddService.fixInterventionsToSave(Bt()(e));t.programAddService.saveStep({activeEvent:{id:t.activeEvent.id,interventions:n}}).subscribe((function(){t.response.emit(e),t.bsModalRef.hide()}))}else t.response.emit(e),t.bsModalRef.hide()}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(le),n.Lb(pe),n.Lb(ee.a),n.Lb(n.j))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-intervention"]],viewQuery:function(t,e){var i;1&t&&(n.Jc(co,!0,n.O),n.Jc(lo,!0)),2&t&&(n.qc(i=n.Zb())&&(e.interventionsContainer=i.first),n.qc(i=n.Zb())&&(e.mainDiv=i.first))},inputs:{interventionsToInit:"interventionsToInit",activeEvent:"activeEvent",programId:"programId"},outputs:{response:"response"},decls:6,vars:6,consts:[[3,"programId","eventId","updateZoom","finishIntervention"],[1,"holder-tiled-background"],[1,"tiled-background",3,"mousedown","mouseup","mousemove"],["main_div",""],["container",""]],template:function(t,e){1&t&&(n.Rb(0,"esm-navbar",0),n.Yb("updateZoom",(function(t){return e.zoomSize=t}))("finishIntervention",(function(){return e.finish()})),n.Qb(),n.Rb(1,"div",1),n.Rb(2,"div",2,3),n.Yb("mousedown",(function(t){return e.onMiddleClickDown(t)}))("mouseup",(function(t){return e.onMiddleClickUp(t)}))("mousemove",(function(t){return e.MiddleClickScroll(t)})),n.Mb(4,"esm-canvas",null,4),n.Qb(),n.Qb()),2&t&&(n.ic("programId",e.programId)("eventId",e.activeEvent.id),n.zb(2),n.yc(n.lc(4,uo,e.zoomSize)))},directives:[ro,ao],styles:[".holder-tiled-background[_ngcontent-%COMP%]{padding-top:60px}.tiled-background[_ngcontent-%COMP%]{background-size:45px 45px;background-image:linear-gradient(90deg,#eee 1px,transparent 0),linear-gradient(180deg,#eee 1px,transparent 0)}"]}),t}(),ho=i("k3B4"),bo=function(){function t(){this.response=new n.n}return t.prototype.ngOnInit=function(){},t.prototype.choose=function(t){this.response.emit(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-choose-color"]],outputs:{response:"response"},decls:10,vars:0,consts:[[1,"font-weight-bold"],[1,"btn-group"],["href","javascript:",1,"btn","bg-primary","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-danger","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-info","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-success","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-warning","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-dark","box-color","m-0","my-1",3,"click"],["href","javascript:",1,"btn","bg-secondary","box-color","m-0","my-1",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"p",0),n.Dc(1,"Cor do evento:"),n.Qb(),n.Rb(2,"div",1),n.Rb(3,"a",2),n.Yb("click",(function(){return e.choose("#0a467f")})),n.Qb(),n.Rb(4,"a",3),n.Yb("click",(function(){return e.choose("#dc3545")})),n.Qb(),n.Rb(5,"a",4),n.Yb("click",(function(){return e.choose("#17a2b8")})),n.Qb(),n.Rb(6,"a",5),n.Yb("click",(function(){return e.choose("#28a745")})),n.Qb(),n.Rb(7,"a",6),n.Yb("click",(function(){return e.choose("#ffc107")})),n.Qb(),n.Rb(8,"a",7),n.Yb("click",(function(){return e.choose("#343a40")})),n.Qb(),n.Rb(9,"a",8),n.Yb("click",(function(){return e.choose("#6c757d")})),n.Qb(),n.Qb())},styles:[".box-color[_ngcontent-%COMP%]{width:25px;height:25px;padding:0}"]}),t}();function fo(t,e){if(1&t&&n.Mb(0,"input-validations",17),2&t){var i=n.cc();n.ic("errors",i.form.controls.time.errors)}}function mo(t,e){if(1&t&&(n.Rb(0,"option",18),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.ic("value",i.alias),n.zb(1),n.Ec(i.name)}}function vo(t,e){if(1&t&&n.Mb(0,"input-validations",19),2&t){var i=n.cc();n.ic("errors",i.form.controls.notificationType.errors)}}function go(t,e){if(1&t&&n.Mb(0,"input-validations",20),2&t){var i=n.cc();n.ic("errors",i.form.controls.timeout.errors)}}var yo=function(){function t(t){this.formBuilder=t,this.response=new n.n,this.form=this.formBuilder.group({time:["",De.v.required],notificationType:["",De.v.required],timeout:["",De.v.required]}),this.notificationTypes=ui}return t.prototype.ngOnInit=function(){},t.prototype.submit=function(){if(this.form.markAllAsTouched(),this.form.valid){var t=new dn;t.convertFromForm(this.form.get("time").value),console.log(t.toString());var e=new un({condition:t.toString(),priority:this.form.get("notificationType").value,timeout:this.form.get("timeout").value});this.response.emit(e),this.form.reset()}},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-trigger-daily"]],outputs:{response:"response"},decls:23,vars:5,consts:[[1,"col",3,"formGroup"],[1,"form-group"],["for","time"],["formControlName","time"],["label","Hor\xe1rio",3,"errors",4,"ngIf"],[1,"row"],[1,"col-4"],["formControlName","notificationType",1,"w-100"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["label","Tipo de som",3,"errors",4,"ngIf"],["for","timeout"],["type","number","placeholder","Valor em minutos","name","timeout","formControlName","timeout",1,"form-control-plaintext","border-bottom","w-100"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors",4,"ngIf"],[1,"row","justify-content-end","mt-5"],[1,"col-auto"],["href","javascript:","name","saveButton",1,"btn","btn-primary","min-100",3,"click"],["label","Hor\xe1rio",3,"errors"],[3,"value"],["label","Tipo de som",3,"errors"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"label",2),n.Dc(3,"Hor\xe1rio:"),n.Qb(),n.Mb(4,"timepicker",3),n.Bc(5,fo,1,1,"input-validations",4),n.Qb(),n.Rb(6,"div",5),n.Rb(7,"div",6),n.Rb(8,"div",1),n.Rb(9,"select",7),n.Rb(10,"option",8),n.Dc(11,"Selecione o tipo do som"),n.Qb(),n.Bc(12,mo,2,2,"option",9),n.Qb(),n.Bc(13,vo,1,1,"input-validations",10),n.Qb(),n.Rb(14,"div",1),n.Rb(15,"label",11),n.Dc(16,"Tempo de exibi\xe7\xe3o do alerta:"),n.Qb(),n.Mb(17,"input",12),n.Bc(18,go,1,1,"input-validations",13),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(19,"div",14),n.Rb(20,"div",15),n.Rb(21,"a",16),n.Yb("click",(function(){return e.submit()})),n.Dc(22,"ADICIONAR DISPARO"),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(5),n.ic("ngIf",e.form.controls.time.invalid&&e.form.controls.time.touched),n.zb(7),n.ic("ngForOf",e.notificationTypes),n.zb(1),n.ic("ngIf",e.form.controls.notificationType.invalid&&e.form.controls.notificationType.touched),n.zb(5),n.ic("ngIf",e.form.controls.timeout.invalid&&e.form.controls.timeout.touched))},directives:[De.l,De.f,Ze.a,De.k,De.e,o.l,De.t,De.o,De.w,o.k,De.p,De.b,Je.a],styles:[""]}),t}();function _o(t,e){if(1&t&&(n.Rb(0,"div",20),n.Mb(1,"input",21),n.Rb(2,"label",22),n.Dc(3),n.Qb(),n.Qb()),2&t){var i=e.$implicit,o=e.index;n.zb(1),n.ic("formControlName",o)("id",i.alias)("name",i.alias),n.zb(1),n.ic("for",i.alias),n.zb(1),n.Ec(i.name)}}function xo(t,e){if(1&t&&n.Mb(0,"input-validations",23),2&t){var i=n.cc();n.ic("errors",i.form.controls.days.errors)}}function Ro(t,e){if(1&t&&n.Mb(0,"input-validations",24),2&t){var i=n.cc();n.ic("errors",i.form.controls.time.errors)}}function wo(t,e){if(1&t&&(n.Rb(0,"option",25),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.ic("value",i.alias),n.zb(1),n.Ec(i.name)}}function Io(t,e){if(1&t&&n.Mb(0,"input-validations",26),2&t){var i=n.cc();n.ic("errors",i.form.controls.notificationType.errors)}}function So(t,e){if(1&t&&n.Mb(0,"input-validations",27),2&t){var i=n.cc();n.ic("errors",i.form.controls.timeout.errors)}}var Do=function(){function t(t){var e=this;this.formBuilder=t,this.response=new n.n,this.form=this.formBuilder.group({time:["",De.v.required],notificationType:["",De.v.required],timeout:["",De.v.required],days:this.formBuilder.array([],Object($t.e)(1))}),this.weeklyDays=pi,this.notificationTypes=ui,this.weeklyDays.forEach((function(){e.form.get("days").push(e.formBuilder.control(!1))}))}return t.prototype.submit=function(){var t=this;if(this.form.markAllAsTouched(),this.form.valid){var e=this.weeklyDays.filter((function(e,i){return t.form.controls.days.value[i]})),i=new dn;i.convertFromForm(this.form.get("time").value,e);var n=new un({condition:i.toString(),priority:this.form.get("notificationType").value,timeout:this.form.get("timeout").value});this.response.emit(n),this.form.reset()}},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-trigger-weekly"]],outputs:{response:"response"},decls:26,vars:7,consts:[[1,"col",3,"formGroup"],["formArrayName","days",1,"form-group"],["class","form-check mb-2",4,"ngFor","ngForOf"],["label","Dia da semana",3,"errors",4,"ngIf"],[1,"form-group"],["for","time"],["formControlName","time"],["label","Hor\xe1rio",3,"errors",4,"ngIf"],[1,"row"],[1,"col-4"],["formControlName","notificationType",1,"w-100"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["label","Tipo de som",3,"errors",4,"ngIf"],["for","timeout"],["type","number","placeholder","Valor em minutos","name","timeout","formControlName","timeout",1,"form-control-plaintext","border-bottom","w-100"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors",4,"ngIf"],[1,"row","justify-content-end","mt-5"],[1,"col-auto"],["href","javascript:","name","saveButton",1,"btn","btn-primary","min-100",3,"click"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"formControlName","id","name"],[1,"form-check-label",3,"for"],["label","Dia da semana",3,"errors"],["label","Hor\xe1rio",3,"errors"],[3,"value"],["label","Tipo de som",3,"errors"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Bc(2,_o,4,5,"div",2),n.Bc(3,xo,1,1,"input-validations",3),n.Qb(),n.Rb(4,"div",4),n.Rb(5,"label",5),n.Dc(6,"Hor\xe1rio:"),n.Qb(),n.Mb(7,"timepicker",6),n.Bc(8,Ro,1,1,"input-validations",7),n.Qb(),n.Rb(9,"div",8),n.Rb(10,"div",9),n.Rb(11,"div",4),n.Rb(12,"select",10),n.Rb(13,"option",11),n.Dc(14,"Selecione o tipo do som"),n.Qb(),n.Bc(15,wo,2,2,"option",12),n.Qb(),n.Bc(16,Io,1,1,"input-validations",13),n.Qb(),n.Rb(17,"div",4),n.Rb(18,"label",14),n.Dc(19,"Tempo de exibi\xe7\xe3o do alerta:"),n.Qb(),n.Mb(20,"input",15),n.Bc(21,So,1,1,"input-validations",16),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(22,"div",17),n.Rb(23,"div",18),n.Rb(24,"a",19),n.Yb("click",(function(){return e.submit()})),n.Dc(25,"ADICIONAR DISPARO"),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(2),n.ic("ngForOf",e.weeklyDays),n.zb(1),n.ic("ngIf",e.form.controls.days.invalid&&e.form.controls.days.touched),n.zb(5),n.ic("ngIf",e.form.controls.time.invalid&&e.form.controls.time.touched),n.zb(7),n.ic("ngForOf",e.notificationTypes),n.zb(1),n.ic("ngIf",e.form.controls.notificationType.invalid&&e.form.controls.notificationType.touched),n.zb(5),n.ic("ngIf",e.form.controls.timeout.invalid&&e.form.controls.timeout.touched))},directives:[De.l,De.f,De.c,o.k,o.l,Ze.a,De.k,De.e,De.t,De.o,De.w,De.p,De.b,De.a,Je.a],styles:[""]}),t}(),Qo=function(){return function(){this.timeout="",this.notificationType=""}}();function Co(t,e){if(1&t&&n.Mb(0,"input-validations",15),2&t){var i=n.cc();n.ic("errors",i.form.controls.time.errors)}}function Oo(t,e){if(1&t&&(n.Rb(0,"option",16),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.ic("value",i.alias),n.zb(1),n.Fc(" ",i.name," ")}}function ko(t,e){if(1&t&&n.Mb(0,"input-validations",17),2&t){var i=n.cc();n.ic("errors",i.form.controls.notificationType.errors)}}function Eo(t,e){if(1&t&&n.Mb(0,"input-validations",18),2&t){var i=n.cc();n.ic("errors",i.form.controls.timeout.errors)}}var Mo=function(){function t(t){this.formBuilder=t,this.removeHour=new n.n,this.response=new n.n,this.notificationTypes=ui,this.uid=ce(),this.form=this.formBuilder.group({time:["",De.v.required],notificationType:["",De.v.required],timeout:["",De.v.required]})}return t.prototype.ngOnInit=function(){var t=this;this.form.valueChanges.subscribe((function(e){t.response.emit(t.form.value)}))},t.prototype.remove=function(){this.removeHour.emit(this.index)},t.prototype.validateForm=function(){return this.form.markAllAsTouched(),this.form.valid},t.prototype.resetForm=function(){this.form.reset()},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-row-hour"]],inputs:{weekDay:"weekDay",hour:"hour",index:"index"},outputs:{removeHour:"removeHour",response:"response"},decls:22,vars:11,consts:[[1,"row",3,"formGroup"],[1,"col-auto","form-group"],[3,"for"],["formControlName","time",3,"id"],["label","Hor\xe1rio",3,"errors",4,"ngIf"],[1,"col","form-group"],["formControlName","notificationType",1,"w-100",3,"id"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["label","Tipo de som",3,"errors",4,"ngIf"],["type","number","formControlName","timeout","placeholder","Valor em minutos","name","timeout",1,"form-control-plaintext","border-bottom","w-100",3,"id"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors",4,"ngIf"],[1,"col","col-auto"],["href","javascript:",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"],["label","Hor\xe1rio",3,"errors"],[3,"value"],["label","Tipo de som",3,"errors"],["label","Tempo de exibi\xe7\xe3o do alerta",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"label",2),n.Dc(3,"Hor\xe1rio:"),n.Qb(),n.Mb(4,"timepicker",3),n.Bc(5,Co,1,1,"input-validations",4),n.Qb(),n.Rb(6,"div",5),n.Rb(7,"label",2),n.Dc(8,"Tipo de som:"),n.Qb(),n.Rb(9,"select",6),n.Rb(10,"option",7),n.Dc(11,"Selecione o tipo do som"),n.Qb(),n.Bc(12,Oo,2,2,"option",8),n.Qb(),n.Bc(13,ko,1,1,"input-validations",9),n.Qb(),n.Rb(14,"div",5),n.Rb(15,"label",2),n.Dc(16,"Tempo de exibi\xe7\xe3o do alerta:"),n.Qb(),n.Mb(17,"input",10),n.Bc(18,Eo,1,1,"input-validations",11),n.Qb(),n.Rb(19,"div",12),n.Rb(20,"a",13),n.Yb("click",(function(){return e.remove()})),n.Mb(21,"i",14),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(2),n.ic("for","time"+e.uid),n.zb(2),n.ic("id","time"+e.uid),n.zb(1),n.ic("ngIf",e.form.controls.time.invalid&&e.form.controls.time.touched),n.zb(2),n.ic("for","notificationType"+e.uid),n.zb(2),n.ic("id","notificationType"+e.uid),n.zb(3),n.ic("ngForOf",e.notificationTypes),n.zb(1),n.ic("ngIf",e.form.controls.notificationType.invalid&&e.form.controls.notificationType.touched),n.zb(2),n.ic("for","timeout"+e.uid),n.zb(2),n.ic("id","timeout"+e.uid),n.zb(1),n.ic("ngIf",e.form.controls.timeout.invalid&&e.form.controls.timeout.touched))},directives:[De.l,De.f,Ze.a,De.k,De.e,o.l,De.t,De.o,De.w,o.k,De.p,De.b,Je.a],styles:[""]}),t}();function zo(t,e){if(1&t){var i=n.Sb();n.Rb(0,"esm-row-hour",15,16),n.Yb("removeHour",(function(){n.tc(i);var t=e.index,o=n.cc().$implicit;return n.cc().removeHour(o,t)}))("response",(function(t){n.tc(i);var o=e.index,r=n.cc().$implicit;return n.cc().updateHour(t,r,o)})),n.Qb()}if(2&t){var o=e.$implicit,r=e.index,s=n.cc().$implicit;n.ic("weekDay",s)("hour",o)("index",r)}}function Po(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",6),n.Rb(1,"div",7),n.Rb(2,"div",8),n.Rb(3,"div",9),n.Rb(4,"input",10),n.Yb("change",(function(t){n.tc(i);var o=e.$implicit;return n.cc().selectWeekDay(t,o)})),n.Qb(),n.Rb(5,"label",11),n.Dc(6),n.Qb(),n.Qb(),n.Qb(),n.Rb(7,"div",12),n.Rb(8,"a",13),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().addHour(t)})),n.Dc(9,"+ Hor\xe1rio"),n.Qb(),n.Bc(10,zo,2,3,"esm-row-hour",14),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=e.index;n.zb(4),n.ic("checked",o.hours&&o.hours.length>0)("formControlName",r)("id",o.alias)("name",o.alias),n.zb(1),n.ic("for",o.alias),n.zb(1),n.Ec(o.name),n.zb(4),n.ic("ngForOf",o.hours)}}function jo(t,e){if(1&t&&n.Mb(0,"input-validations",17),2&t){var i=n.cc();n.ic("errors",i.form.controls.days.errors)}}var To=function(){function t(t){var e=this;this.formBuilder=t,this.response=new n.n,this.form=this.formBuilder.group({days:this.formBuilder.array([],Object($t.e)(1))}),this.weeklyDays=pi,this.notificationTypes=ui,this.weeklyDays.forEach((function(){e.form.get("days").push(e.formBuilder.control(!1))}))}return t.prototype.submit=function(){var t=this,e=this.weeklyDays.filter((function(e,i){return t.form.controls.days.value[i]})),i=!0;if(this.hourRows.forEach((function(t){t.validateForm()||(i=!1)})),this.form.markAllAsTouched(),this.form.valid&&i){var n=[];e.forEach((function(t){t.hours.forEach((function(e){var i=new dn;i.convertFromForm(e.time,[t]),n.push(new un({condition:i.toString(),priority:e.notificationType,timeout:e.timeout}))}))})),this.response.emit(n),this.form.reset(),this.weeklyDays.forEach((function(t){t.hours=[]}))}},t.prototype.selectWeekDay=function(t,e){t.target.checked?this.addHour(e):e.hours=[]},t.prototype.addHour=function(t){t.hours||(t.hours=[]),t.hours.push(new Qo);var e=this.weeklyDays.findIndex((function(e){return e.alias===t.alias})),i=this.form.get("days").value;i[e]=!0,this.form.get("days").setValue(i)},t.prototype.removeHour=function(t,e){t.hours.splice(e,1);var i=this.form.get("days").value;i[e]=!1,this.form.get("days").setValue(i)},t.prototype.updateHour=function(t,e,i){Object.assign(e.hours[i],t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-trigger-custom"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Mo,!0),2&t&&n.qc(i=n.Zb())&&(e.hourRows=i)},outputs:{response:"response"},decls:7,vars:3,consts:[[1,"col",3,"formGroup"],["class","form-group","formArrayName","days",4,"ngFor","ngForOf"],["label","Dia da semana",3,"errors",4,"ngIf"],[1,"row","justify-content-end","mt-5"],[1,"col-auto"],["href","javascript:","name","saveButton",1,"btn","btn-primary","min-100",3,"click"],["formArrayName","days",1,"form-group"],[1,"row"],[1,"col-auto","col-weekday"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"checked","formControlName","id","name","change"],[1,"form-check-label",3,"for"],[1,"col"],["href","javascript:",1,"primary",3,"click"],[3,"weekDay","hour","index","removeHour","response",4,"ngFor","ngForOf"],[3,"weekDay","hour","index","removeHour","response"],["rowHour",""],["label","Dia da semana",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Bc(1,Po,11,7,"div",1),n.Bc(2,jo,1,1,"input-validations",2),n.Qb(),n.Rb(3,"div",3),n.Rb(4,"div",4),n.Rb(5,"a",5),n.Yb("click",(function(){return e.submit()})),n.Dc(6,"ADICIONAR DISPARO"),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(1),n.ic("ngForOf",e.weeklyDays),n.zb(1),n.ic("ngIf",e.form.controls.days.invalid&&e.form.controls.days.touched))},directives:[De.l,De.f,o.k,o.l,De.c,De.a,De.k,De.e,Mo,Je.a],styles:[".col-weekday[_ngcontent-%COMP%]{min-width:140px}"]}),t}();function Fo(t,e){if(1&t&&(n.Rb(0,"div",7),n.Mb(1,"input",8),n.Rb(2,"label",9),n.Dc(3),n.Qb(),n.Qb()),2&t){var i=e.$implicit,o=n.cc();n.zb(1),n.ic("value",i)("id",i.alias+o.uid),n.zb(1),n.ic("for",i.alias+o.uid),n.zb(1),n.Ec(i.name)}}function Ao(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",10),n.Yb("click",(function(){return n.tc(i),n.cc().clearValue()})),n.Dc(1,"limpar"),n.Qb()}}function Bo(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",16),n.Rb(1,"esm-trigger-daily",17),n.Yb("response",(function(t){return n.tc(i),n.cc(2).addTrigger(t)})),n.Qb(),n.Qb()}}function Lo(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",18),n.Rb(1,"esm-trigger-weekly",17),n.Yb("response",(function(t){return n.tc(i),n.cc(2).addTrigger(t)})),n.Qb(),n.Qb()}}function No(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",19),n.Rb(1,"esm-trigger-custom",17),n.Yb("response",(function(t){return n.tc(i),n.cc(2).addTriggers(t)})),n.Qb(),n.Qb()}}function Vo(t,e){if(1&t&&(n.Rb(0,"div",11),n.Rb(1,"div",12),n.Bc(2,Bo,2,0,"div",13),n.Bc(3,Lo,2,0,"div",14),n.Bc(4,No,2,0,"div",15),n.Qb(),n.Qb()),2&t){var i=n.cc();n.zb(2),n.ic("ngIf","daily"==i.form.get("selectedChoice").value.alias),n.zb(1),n.ic("ngIf","weekly"==i.form.get("selectedChoice").value.alias),n.zb(1),n.ic("ngIf","custom"==i.form.get("selectedChoice").value.alias)}}var Yo=function(){function t(t){this.formBuilder=t,this.response=new n.n,this.uid=ce(),this.choices=[{alias:"daily",name:"Diariamente"},{alias:"weekly",name:"Semanalmente"},{alias:"custom",name:"Customiz\xe1vel"}],this.form=this.formBuilder.group({selectedChoice:this.formBuilder.control("")})}return t.prototype.addTriggers=function(t){var e=this;t.forEach((function(t){e.addTrigger(t)}))},t.prototype.clearValue=function(){this.form.get("selectedChoice").setValue("")},t.prototype.addTrigger=function(t){this.response.emit(t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-triggers"]],outputs:{response:"response"},decls:9,vars:4,consts:[[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-auto"],["class","form-check mb-2",4,"ngFor","ngForOf"],["href","javascript:","class","primary",3,"click",4,"ngIf"],["class","col",4,"ngIf"],[1,"form-check","mb-2"],["formControlName","selectedChoice","type","radio","name","selectedChoice",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],["href","javascript:",1,"primary",3,"click"],[1,"col"],[1,"py-4","px-3","holder-boxes"],["class","box-daily",4,"ngIf"],["class","box-weekly",4,"ngIf"],["class","box-custom",4,"ngIf"],[1,"box-daily"],[3,"response"],[1,"box-weekly"],[1,"box-custom"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"p"),n.Dc(5,"Adicionar disparo:"),n.Qb(),n.Bc(6,Fo,4,4,"div",4),n.Bc(7,Ao,2,0,"a",5),n.Qb(),n.Bc(8,Vo,5,3,"div",6),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(1),n.ic("formGroup",e.form),n.zb(5),n.ic("ngForOf",e.choices),n.zb(1),n.ic("ngIf",e.form.get("selectedChoice").value),n.zb(1),n.ic("ngIf",e.form.get("selectedChoice").value.alias))},directives:[De.l,De.f,o.k,o.l,De.b,De.q,De.k,De.e,yo,Do,To],styles:[".holder-boxes[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:5px}"]}),t}();function Uo(t,e){if(1&t&&(n.Rb(0,"span",8),n.Dc(1),n.Qb()),2&t){var i=n.cc();n.zb(1),n.Fc(" ",i.eventComplexConditions.length," ")}}function Go(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",10),n.Rb(1,"input",12),n.Yb("ngModelChange",(function(t){return n.tc(i),e.$implicit.value=t}))("change",(function(){return n.tc(i),n.cc(2).changeCondition()})),n.Qb(),n.Rb(2,"label",13),n.Dc(3),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=e.index,s=n.cc(2);n.zb(1),n.ic("ngModel",o.value)("id",o.condition+r+s.uid)("name",o.condition+r+s.uid),n.zb(1),n.ic("for",o.condition+r+s.uid),n.zb(1),n.Ec(o.text)}}function qo(t,e){if(1&t&&(n.Rb(0,"div",9),n.Rb(1,"div",10),n.Rb(2,"p"),n.Dc(3),n.Qb(),n.Qb(),n.Bc(4,Go,4,5,"div",11),n.Qb()),2&t){var i=e.$implicit;n.zb(3),n.Ec(i.text),n.zb(1),n.ic("ngForOf",i.complexConditions)}}var $o=function(){function t(t){this.channel=t,this.complexConditions=Bt()(hi),this.uid=ce(),this.openComplex=!1,this.response=new n.n}return t.prototype.ngOnInit=function(){var t=this;this.eventComplexConditions&&this.eventComplexConditions.forEach((function(e){t.complexConditions.map((function(t){return t.complexConditions})).flat(1).find((function(t){return t.condition==e.condition&&t.action==e.action})).value=!0})),this.channel.echo.private("program."+this.programId).listenForWhisper("complexCondition"+this.programId+"ae"+this.eventId,(function(e){console.log("Sensores",e),t.channelUpdate(e)}))},t.prototype.changeCondition=function(){var t=this.complexConditions.map((function(t){return t.complexConditions})).flat(1).filter((function(t){return t.value})).map((function(t){return{condition:t.condition,action:t.action}})),e={};e.complexCondition=t,this.sendUpdate(e),this.response.emit(t)},t.prototype.channelUpdate=function(t){var e=this;console.log("Chegou Complex Condition"),this.complexConditions=Bt()(hi),t.complexCondition.forEach((function(t){e.complexConditions.map((function(t){return t.complexConditions})).flat(1).find((function(e){return e.condition==t.condition&&e.action==t.action})).value=!0})),this.response.emit(t.complexCondition)},t.prototype.sendUpdate=function(t){t.id=this.programId,t.event=this.eventId,console.log("enviou complex condition.."),this.channel.chanelSend(this.programId,"complexCondition"+this.programId+"ae"+this.eventId,t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-complex-conditions"]],inputs:{eventComplexConditions:"eventComplexConditions",programId:"programId",eventId:"eventId"},outputs:{response:"response"},decls:9,vars:3,consts:[[1,"row"],[1,"col-12","d-flex","justify-content-end"],["href","javascript:",1,"btn","btn-light","btn-sm","min-100",3,"click"],["class","position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger text-white",4,"ngIf"],[1,"col-12",3,"collapse"],[1,"card","mt-2"],[1,"card-body"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger","text-white"],[1,"row","mb-4"],[1,"col-12"],["class","col-12",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","id","name","ngModelChange","change"],[3,"for"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"a",2),n.Yb("click",(function(){return e.openComplex=!e.openComplex})),n.Dc(3," Op\xe7\xf5es Avan\xe7adas "),n.Bc(4,Uo,2,1,"span",3),n.Qb(),n.Qb(),n.Rb(5,"div",4),n.Rb(6,"div",5),n.Rb(7,"div",6),n.Bc(8,qo,5,2,"div",7),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(4),n.ic("ngIf",e.eventComplexConditions&&e.eventComplexConditions.length>0),n.zb(1),n.ic("collapse",!e.openComplex),n.zb(3),n.ic("ngForOf",e.complexConditions))},directives:[o.l,Se.a,o.k,De.a,De.k,De.n],styles:[""]}),t}(),Ho=i("HruU"),Wo=["inputFile"];function Zo(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",8),n.Mb(1,"br"),n.Rb(2,"div",9),n.Mb(3,"img",10),n.Rb(4,"button",11),n.Yb("click",(function(){return n.tc(i),n.cc().removerMidia()})),n.Dc(5,"Remover imagem "),n.Mb(6,"i",12),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=n.cc();n.zb(3),n.ic("src",o.media.url,n.vc)}}var Ko=function(){function t(t,e,i){this.sanitizer=t,this._daoService=e,this._loaderService=i,this.response=new n.n,this.urlUpload=Yt.j,this.file=null,this.media=null}return t.prototype.ngOnInit=function(){},t.prototype.selectFile=function(t){if(t.target.files.length>0){var e=t.target.files[0],i=e.type.split("/")[0];this.file={type:i,file:e,url:this.sanitize(URL.createObjectURL(e))},this.uploadFile()}else this.file=null},t.prototype.sanitize=function(t){return this.sanitizer.bypassSecurityTrustUrl(t)},t.prototype.removerMidia=function(){this.media=null,this.inputFile.nativeElement.value="",this.file=null,this.response.emit(null)},t.prototype.uploadFile=function(){var t=this,e=new FormData;e.append("file",this.file.file),this._loaderService.show(),this._daoService.postObject(this.urlUpload,e).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(e){t.media=e.data,t.response.emit(e.data)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(bn.b),n.Lb(Gt.a),n.Lb(Vt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-input-file"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Wo,!0),2&t&&n.qc(i=n.Zb())&&(e.inputFile=i.first)},outputs:{response:"response"},decls:13,vars:1,consts:[[1,"fileSquare","mt-2"],[1,"row"],[1,"col-12","text-center"],[1,"btn","btn-primary"],["type","file","accept","image/png,image/gif,image/jpg,image/jpeg","id","fileSelector",3,"change"],["inputFile",""],["class","row d-flex justify-content-center",4,"ngIf"],[1,"help-block","text-muted"],[1,"row","d-flex","justify-content-center"],[1,"img-thumbnail"],["id","uploadImage",1,"w-100",3,"src"],[1,"btn","btn-danger","btn-sm","w-100",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Mb(1,"div",1),n.Rb(2,"div",1),n.Rb(3,"div",2),n.Rb(4,"p"),n.Dc(5,"Selecione uma imagem para enviar"),n.Qb(),n.Rb(6,"label",3),n.Dc(7," Selecionar imagem "),n.Rb(8,"input",4,5),n.Yb("change",(function(t){return e.selectFile(t)})),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Bc(10,Zo,7,1,"div",6),n.Qb(),n.Rb(11,"p",7),n.Dc(12,"S\xe3o suportadas imagens nos formatos gif, jpg e png."),n.Qb()),2&t&&(n.zb(10),n.ic("ngIf",e.media))},directives:[o.l],styles:[".img-thumbnail[_ngcontent-%COMP%]{max-width:190px}"]}),t}(),Jo=["formElement"];function Xo(t,e){if(1&t&&n.Mb(0,"input-validations",21),2&t){var i=n.cc();n.ic("errors",i.form.controls.name.errors)}}function tr(t,e){if(1&t&&n.Mb(0,"input-validations",22),2&t){var i=n.cc();n.ic("errors",i.form.controls.media.errors)}}var er=function(){function t(t,e,i,o,r,s){this.bsModalRef=t,this.formBuilder=e,this.programAddService=i,this._endpointsService=o,this._loaderService=r,this._daoService=s,this.response=new n.n,this.urlBadges=Yt.c,this.form=this.formBuilder.group({name:this.formBuilder.control("",[De.v.required]),media:this.formBuilder.control("",[De.v.required])})}return t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.bsModalRef.hide()},t.prototype.save=function(){var t=this;if(this.form.markAllAsTouched(),this.form.valid){var e=Object(Tt.a)({},this.form.value);if(this.activeEvent.id){this._loaderService.show();var i=this.programAddService.fixGamificationBadgeToSave(Bt()(e));this._daoService.postObject(this._endpointsService.get(this.urlBadges,{activeEventId:this.activeEvent.id}),i).pipe(Object(Nt.a)((function(){return t._loaderService.hide()}))).subscribe((function(i){t.response.emit(new Zi(e)),t.bsModalRef.hide()}))}else this.response.emit(new Zi(e)),this.bsModalRef.hide()}},t.prototype.adicionarMidia=function(t){this.form.get("media").setValue(t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(Pe.a),n.Lb(De.d),n.Lb(pe),n.Lb(Ho.a),n.Lb(Vt.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-modal-add-badge"]],viewQuery:function(t,e){var i;1&t&&n.Jc(Jo,!0),2&t&&n.qc(i=n.Zb())&&(e.formElement=i.first)},inputs:{activeEvent:"activeEvent"},outputs:{response:"response"},decls:28,vars:3,consts:[["autocomplete","off","focusInvalidInput","",3,"formGroup","ngSubmit"],["formElement",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-12","form-group"],[1,"form-label-group"],["autocomplete","off","name","name","id","name","formControlName","name","type","text","placeholder","T\xedtulo",1,"form-control"],["for","name"],[1,"text-danger"],["label","T\xedtulo",3,"errors",4,"ngIf"],[1,"holder-media","col-12","form-group","text-center"],[3,"response"],["label","Imagem do \xedcone",3,"errors",4,"ngIf"],[1,"modal-footer"],[1,"row","justify-content-end"],[1,"btn","btn-white","btn-shadow","mr-4",3,"click"],["type","submit","name","saveButton","translate","",1,"btn","btn-success","btn-shadow","min-100"],["label","T\xedtulo",3,"errors"],["label","Imagem do \xedcone",3,"errors"]],template:function(t,e){1&t&&(n.Rb(0,"form",0,1),n.Yb("ngSubmit",(function(){return e.save()})),n.Rb(2,"div",2),n.Rb(3,"h4",3),n.Dc(4,"Adicionar badge"),n.Qb(),n.Rb(5,"button",4),n.Yb("click",(function(){return e.close()})),n.Rb(6,"span",5),n.Dc(7,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",6),n.Rb(9,"div",7),n.Rb(10,"div",8),n.Rb(11,"div",9),n.Mb(12,"input",10),n.Rb(13,"label",11),n.Dc(14,"T\xedtulo "),n.Rb(15,"b",12),n.Dc(16,"*"),n.Qb(),n.Qb(),n.Qb(),n.Bc(17,Xo,1,1,"input-validations",13),n.Qb(),n.Qb(),n.Rb(18,"div",7),n.Rb(19,"div",14),n.Rb(20,"esm-input-file",15),n.Yb("response",(function(t){return e.adicionarMidia(t)})),n.Qb(),n.Qb(),n.Bc(21,tr,1,1,"input-validations",16),n.Qb(),n.Qb(),n.Rb(22,"div",17),n.Rb(23,"div",18),n.Rb(24,"a",19),n.Yb("click",(function(){return e.close()})),n.Dc(25,"CANCELAR"),n.Qb(),n.Rb(26,"button",20),n.Dc(27,"SALVAR"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.ic("formGroup",e.form),n.zb(17),n.ic("ngIf",e.form.controls.name.invalid&&e.form.controls.name.touched),n.zb(4),n.ic("ngIf",e.form.controls.media.invalid&&e.form.controls.media.touched))},directives:[De.x,De.l,He.a,De.f,De.b,De.k,De.e,o.l,Ko,Ke.b,Je.a],styles:[".img-thumbnail[_ngcontent-%COMP%]{display:inline-block}"]}),t}();function ir(t,e){if(1&t&&n.Mb(0,"input-validations",24),2&t){var i=n.cc();n.ic("errors",i.form.controls.completion_points.errors)}}function nr(t,e){if(1&t&&n.Mb(0,"input-validations",24),2&t){var i=n.cc();n.ic("errors",i.form.controls.completion_half_points.errors)}}function or(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",20),n.Rb(1,"div",25),n.Mb(2,"img",26),n.Rb(3,"p"),n.Dc(4),n.Qb(),n.Rb(5,"button",27),n.Yb("click",(function(){n.tc(i);var t=e.index;return n.cc().removerBadge(t)})),n.Dc(6,"Remover badge "),n.Mb(7,"i",28),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit;n.zb(2),n.ic("src",o.media.url,n.vc)("alt",o.media.name),n.zb(2),n.Ec(o.name)}}var rr=function(){function t(t,e,i,o,r,s,a){this._formBuilder=t,this._modalService=e,this._loaderService=i,this._endpointsService=o,this._toastr=r,this._daoService=s,this.channel=a,this.uid=ce(),this.openComplex=!1,this.urlBadges=Yt.c,this.response=new n.n}return t.prototype.ngOnInit=function(){var t,e=this;this.form=this._formBuilder.group({completion_points:this._formBuilder.control(null,[De.v.min(0)]),completion_half_points:this._formBuilder.control(null,[De.v.min(0)]),uncomplete_points:this._formBuilder.control(null),badges:this._formBuilder.array([])}),Object($t.c)(this.eventGamificationConditions)||(this.form.patchValue(this.eventGamificationConditions),this.eventGamificationConditions.badges.forEach((function(t){e.adicionarBadge(new Zi(t))}))),this.form.valueChanges.pipe((t=this,e=>{const i=on(void 0);return rn(t,i),e.pipe(Object(R.a)(t[i]))})).subscribe((function(t){e.response.emit(new Ki(e.form.value))})),this.channel.echo.private("program."+this.programId).listenForWhisper("gamification"+this.programId+"ae"+this.activeEvent.id,(function(t){console.log("Gamification",t),e.channelUpdate(t)}))},t.prototype.adicionarBadge=function(t){this.badgesFormArray.push(this._formBuilder.control(t))},t.prototype.removerBadge=function(t){this.activeEvent.id?this.deleteBadge(t):this.badgesFormArray.removeAt(t)},Object.defineProperty(t.prototype,"badgesFormArray",{get:function(){return this.form.get("badges")},enumerable:!1,configurable:!0}),t.prototype.openModalBadge=function(){var t=this;this._modalService.show(er,{ignoreBackdropClick:!0,initialState:{activeEvent:this.activeEvent}}).content.response.pipe(Object(A.a)(1)).subscribe((function(e){t.adicionarBadge(e)}))},t.prototype.deleteBadge=function(t){var e=this,i=this.badgesFormArray.at(t).value;this._loaderService.show(),this._daoService.deleteObject(this._endpointsService.get(this.urlBadges,{activeEventId:this.activeEvent.id}),i.id.toString()).pipe(Object(Nt.a)((function(){return e._loaderService.hide()}))).subscribe((function(i){e._toastr.success(i.message),e.badgesFormArray.removeAt(t)}))},t.prototype.channelUpdate=function(t){console.log("Chegou Gamifica\xe7\xe3o"),this.form.get(t.campo).setValue(t.valor),this.form.get(t.campo)},t.prototype.sendUpdate=function(t){"f"==t.acao&&(t.valor=this.form.get(t.campo).value),console.log(t),console.log("mandou"),this.channel.chanelSend(this.programId,"gamification"+this.programId+"ae"+this.activeEvent.id,t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d),n.Lb(Pe.b),n.Lb(Vt.a),n.Lb(Ho.a),n.Lb(ue.b),n.Lb(Gt.a),n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-gamification-conditions"]],inputs:{activeEvent:"activeEvent",programId:"programId",eventGamificationConditions:"eventGamificationConditions"},outputs:{response:"response"},decls:47,vars:5,consts:[[1,"row"],[1,"col-12","d-flex","justify-content-end"],["href","javascript:",1,"btn","btn-light","btn-sm","min-100","mt-2",3,"click"],[1,"col-12",3,"collapse"],[1,"card","mt-2"],[1,"card-body",3,"formGroup"],[1,"font-weight-bold"],[1,"form-group","row"],["for","staticEmail",1,"col-md-4","col-form-label","text-right","text-success"],[1,"col-auto"],[1,"input-group"],["id","completion_points","name","completion_points","type","number","placeholder","0","formControlName","completion_points",1,"form-control","border-bottom","col-5",3,"change"],[1,"input-group-append"],[1,"input-group-text"],["label","Pontos para receber ao concluir todas as interven\xe7\xf5es",3,"errors",4,"ngIf"],["for","staticEmail",1,"col-md-4","col-form-label","text-right"],["id","completion_half_points","name","completion_half_points","type","number","placeholder","0","formControlName","completion_half_points",1,"form-control","border-bottom","col-5",3,"change"],["for","staticEmail",1,"col-md-4","col-form-label","text-right","text-danger"],["id","uncomplete_points","name","uncomplete_points","type","number","placeholder","0","formControlName","uncomplete_points",1,"form-control","border-bottom","col-5",3,"change"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-2"],["href","javascript:",1,"box-badge","box-add","d-flex","justify-content-center",3,"click"],[1,"inner-box","align-self-center"],[1,"fas","fa-plus","d-block"],["label","Pontos para receber ao concluir todas as interven\xe7\xf5es",3,"errors"],[1,"box-badge"],[1,"img-thumbnail","mb-1",3,"src","alt"],[1,"btn","btn-danger","btn-sm","w-100",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"a",2),n.Yb("click",(function(){return e.openComplex=!e.openComplex})),n.Dc(3,"Op\xe7\xf5es de gamifica\xe7\xe3o"),n.Qb(),n.Qb(),n.Rb(4,"div",3),n.Rb(5,"div",4),n.Rb(6,"div",5),n.Rb(7,"p",6),n.Dc(8,"Quantidade de pontos para receber ao:"),n.Qb(),n.Rb(9,"div",7),n.Rb(10,"label",8),n.Dc(11,"Concluir todas as interven\xe7\xf5es:"),n.Qb(),n.Rb(12,"div",9),n.Rb(13,"div",10),n.Rb(14,"input",11),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"completion_points"})})),n.Qb(),n.Rb(15,"div",12),n.Rb(16,"span",13),n.Dc(17,"pontos"),n.Qb(),n.Qb(),n.Qb(),n.Bc(18,ir,1,1,"input-validations",14),n.Qb(),n.Qb(),n.Rb(19,"div",7),n.Rb(20,"label",15),n.Dc(21,"Concluir pela metade as interven\xe7\xf5es:"),n.Qb(),n.Rb(22,"div",9),n.Rb(23,"div",10),n.Rb(24,"input",16),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"completion_half_points"})})),n.Qb(),n.Rb(25,"div",12),n.Rb(26,"span",13),n.Dc(27,"pontos"),n.Qb(),n.Qb(),n.Qb(),n.Bc(28,nr,1,1,"input-validations",14),n.Qb(),n.Qb(),n.Rb(29,"div",7),n.Rb(30,"label",17),n.Dc(31,"N\xe3o concluir as interven\xe7\xf5es:"),n.Qb(),n.Rb(32,"div",9),n.Rb(33,"div",10),n.Rb(34,"input",18),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"uncomplete_points"})})),n.Qb(),n.Rb(35,"div",12),n.Rb(36,"span",13),n.Dc(37,"pontos"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(38,"p",6),n.Dc(39,"Badges"),n.Qb(),n.Rb(40,"div",0),n.Bc(41,or,8,3,"div",19),n.Rb(42,"div",20),n.Rb(43,"a",21),n.Yb("click",(function(){return e.openModalBadge()})),n.Rb(44,"div",22),n.Mb(45,"i",23),n.Dc(46,"Adicionar badge"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(4),n.ic("collapse",!e.openComplex),n.zb(2),n.ic("formGroup",e.form),n.zb(12),n.ic("ngIf",e.form.controls.completion_points.invalid&&e.form.controls.completion_points.touched),n.zb(10),n.ic("ngIf",e.form.controls.completion_half_points.invalid&&e.form.controls.completion_half_points.touched),n.zb(13),n.ic("ngForOf",e.form.value.badges))},directives:[Se.a,De.l,De.f,De.p,De.b,De.k,De.e,o.l,o.k,Je.a],styles:[".box-badge[_ngcontent-%COMP%]{border:1px dashed #d0d0d0;text-align:center}.box-badge.box-add[_ngcontent-%COMP%]{min-height:95px;border-radius:5px;color:#000}.box-badge.box-add[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f3f3f3}.box-badge.box-add[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:21px}"]}),t=Object(Tt.c)([ln({checkProperties:!0})],t)}();function sr(t,e){1&t&&(n.Rb(0,"span",17),n.Dc(1,"N\xe3o h\xe1 disparos adicionados."),n.Qb())}function ar(t,e){1&t&&(n.Rb(0,"span"),n.Dc(1,"s"),n.Qb())}function cr(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,ar,2,0,"span",10),n.Qb()),2&t){var i=n.cc(2);n.zb(1),n.Fc("e mais ",i.formValue.triggers.length-1," disparo"),n.zb(1),n.ic("ngIf",i.formValue.triggers.length>2)}}function lr(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,cr,3,2,"span",10),n.Qb()),2&t){var i=n.cc();n.zb(1),n.Fc(" ",i.formValue.triggers[0].getDescription()," "),n.zb(1),n.ic("ngIf",i.formValue.triggers.length>1)}}function dr(t,e){1&t&&(n.Rb(0,"span",17),n.Dc(1,"N\xe3o h\xe1 interven\xe7\xf5es adicionadas."),n.Qb())}function ur(t,e){1&t&&(n.Rb(0,"span"),n.Dc(1,"s"),n.Qb())}function pr(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,ur,2,0,"span",10),n.Qb()),2&t){var i=n.cc();n.zb(1),n.Fc(" ",i.formValue.interventions.length," cadastrada"),n.zb(1),n.ic("ngIf",i.formValue.interventions.length>1)}}function hr(t,e){if(1&t&&n.Mb(0,"input-validations",31),2&t){var i=n.cc();n.ic("errors",i.form.controls.title.errors)}}function br(t,e){if(1&t&&n.Mb(0,"input-validations",32),2&t){var i=n.cc();n.ic("errors",i.form.controls.description.errors)}}function fr(t,e){1&t&&(n.Rb(0,"div"),n.Dc(1,"Nenhuma interven\xe7\xe3o cadastrada"),n.Qb())}function mr(t,e){if(1&t&&(n.Rb(0,"li"),n.Dc(1),n.Qb()),2&t){var i=e.$implicit;n.zb(1),n.Fc(" ",i.getOrderDescription()+" - "+i.getTypeDescription()+" - "+i.getDescription()," ")}}function vr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",33),n.Rb(1,"div",7),n.Rb(2,"div",34),n.Rb(3,"a",35),n.Yb("click",(function(){return n.tc(i),n.cc().goToInterventions()})),n.Dc(4,"ADICIONAR INTERVEN\xc7\xd5ES"),n.Qb(),n.Qb(),n.Qb(),n.Rb(5,"div",7),n.Rb(6,"div",23),n.Rb(7,"p",26),n.Dc(8,"Interven\xe7\xf5es cadastradas"),n.Qb(),n.Bc(9,fr,2,0,"div",10),n.Rb(10,"ul"),n.Bc(11,mr,2,1,"li",36),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=n.cc();n.zb(9),n.ic("ngIf",0==o.form.get("interventions").value.length),n.zb(2),n.ic("ngForOf",o.form.get("interventions").value)}}function gr(t,e){1&t&&(n.Rb(0,"div",33),n.Rb(1,"div",37),n.Rb(2,"div",38),n.Mb(3,"div",39),n.Mb(4,"div",39),n.Mb(5,"div",39),n.Qb(),n.Qb(),n.Rb(6,"div",7),n.Rb(7,"div",8),n.Rb(8,"p",26),n.Dc(9,"Interven\xe7\xf5es cadastradas"),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"div",33),n.Mb(11,"div",40),n.Mb(12,"div",40),n.Mb(13,"div",40),n.Mb(14,"div",41),n.Mb(15,"div",40),n.Mb(16,"div",40),n.Qb(),n.Qb())}function yr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",42),n.Rb(1,"a",43),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().removerTrigger(t)})),n.Dc(2),n.Mb(3,"i",44),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit;n.zb(2),n.Fc(" ",o.getDescription()," ")}}var _r=function(t){return{"background-color":t}},xr=function(){function t(t,e,i,n){this.formBuilder=t,this._modalService=e,this.channel=i,this.daoService=n,this.urlPrograms=Yt.o,this.isOpen=!1,this.loadingInterventions=!1,this.form=this.formBuilder.group({id:this.formBuilder.control(""),title:["",De.v.required],type:this.formBuilder.control(""),color:this.formBuilder.control(""),description:this.formBuilder.control(""),triggers:this.formBuilder.array([]),isManual:this.formBuilder.control(!1),interventions:this.formBuilder.control([]),complexConditions:this.formBuilder.array([]),gamificationConditions:this.formBuilder.control(null)})}return t.prototype.ngOnInit=function(){var t=this;this.event.title||this.event.id||0!=this.event.triggers.length||this.event.color||0!=this.event.interventions.length||(this.isOpen=!0),this.event&&(this.form.patchValue(this.event),this.event.triggers.forEach((function(e){return t.adicionarTrigger(new un(e))}))),this.channel.echo.private("program."+this.programId).listenForWhisper("active"+this.programId+"ae"+this.event.id,(function(e){console.log("Eventos",e),t.channelUpdate(e)}))},t.prototype.adicionarTrigger=function(t){this.triggerFormArray.push(this.formBuilder.control(t));var e={acao:"a",tipo:"trigger"},i={};i.id=t.id,i.condition=t.condition.toString(),i.priority=t.priority,i.timeout=t.timeout,e.trigger=i,this.sendUpdate(e)},t.prototype.removerTrigger=function(t){var e={acao:"r",tipo:"trigger"};e.trigger=t,e.triggerId=this.triggerFormArray[t].id,this.triggerFormArray.removeAt(t),this.sendUpdate(e)},Object.defineProperty(t.prototype,"triggerFormArray",{get:function(){return this.form.get("triggers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formValue",{get:function(){return this.form.value},enumerable:!1,configurable:!0}),t.prototype.updateFormComplexConditions=function(t){var e=this;this.event.complexConditions=t,this.complexConditionsFormArray.clear(),t.forEach((function(t){return e.adicionarComplexCondition(t)}))},t.prototype.updateFormGamificationConditions=function(t){this.event.gamificationConditions=t,this.form.get("gamificationConditions").setValue(t)},t.prototype.adicionarComplexCondition=function(t){this.complexConditionsFormArray.push(this.formBuilder.control(t));var e={acao:"a",tipo:"complexCondition"};e.complexCondition=t,this.sendUpdate(e)},Object.defineProperty(t.prototype,"complexConditionsFormArray",{get:function(){return this.form.get("complexConditions")},enumerable:!1,configurable:!0}),t.prototype.deleteEvent=function(){this.isOpen=!this.isOpen,this.form.reset(),this.sendUpdate({acao:"d"}),this.removeEvent(this.event)},t.prototype.removeEvent=function(t){this.events.splice(this.index,1)},t.prototype.loadDetail=function(){this.isOpen=!this.isOpen},t.prototype.validateForm=function(){return this.form.markAllAsTouched(),this.form.valid||(this.isOpen=!0),this.form.valid},t.prototype.updateColor=function(t){this.form.get("color").setValue(t),this.sendUpdate({acao:"f",campo:"color"})},t.prototype.goToInterventions=function(){var t=this;console.log(this.programId);var e={class:"modal-fullscreen modal-intervention",keyboard:!1,ignoreBackdropClick:!0,initialState:{activeEvent:this.event,interventionsToInit:this.form.get("interventions").value,programId:this.programId}};this._modalInterventionRef=this._modalService.show(po,e),this._modalInterventionRef.content.response.pipe(Object(A.a)(1)).subscribe((function(e){t.form.get("interventions").setValue(e)}))},t.prototype.channelUpdate=function(t){if(console.log("Chegou evento"),"d"==t.acao)return this.isOpen=!1,this.form.reset(),void this.removeEvent(this.event);if("a"==t.acao)if("trigger"==t.tipo){var e=new un(t.trigger);console.log(t.trigger),this.triggerFormArray.push(this.formBuilder.control(e))}else this.complexConditionsFormArray.push(this.formBuilder.control(t.complexCondition));else"r"==t.acao?"trigger"==t.tipo&&this.triggerFormArray.removeAt(t.trigger):(this.form.get(t.campo).setValue(t.valor),this.form.get(t.campo))},t.prototype.sendUpdate=function(t){var e=this;t.id=this.programId,t.eventId=this.event.id,t.tela="active","f"==t.acao&&(t.valor=this.form.get(t.campo).value),this.daoService.patchObject(Yt.o,t).subscribe((function(i){console.log(t),console.log("mandou"),e.channel.chanelSend(e.programId,"active"+e.programId+"ae"+e.event.id,t)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d),n.Lb(Pe.b),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-active-event"]],inputs:{event:"event",events:"events",index:"index",programId:"programId"},decls:56,vars:30,consts:[[1,"card","box-event","mt-4"],[1,"card-header","box-header","justify-content-between","d-flex"],[1,"box-buttons"],[1,"btn","btn-default","btn-sm","text-white",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-trash-alt"],[1,"card-body","box-link",3,"collapse"],[1,"row"],[1,"col"],["class","text-danger",4,"ngIf"],[4,"ngIf"],["href","javascript:",1,"link-abs",3,"click"],["focusInvalidInput","",1,"card-body","box-body",3,"formGroup","collapse"],[1,"col-6","form-group"],[1,"form-label-group"],["formControlName","title","focusInput","","type","text","placeholder","T\xedtulo",1,"form-control","border-bottom",3,"id","change"],[1,"form-label",3,"for"],[1,"text-danger"],["label","Nome",3,"errors",4,"ngIf"],[1,"col-12","form-group"],["rows","2","maxlength","200","placeholder","Descri\xe7\xe3o do evento","formControlName","description",1,"form-control","border-bottom","w-100","resize-none",3,"id","change"],[3,"for"],["label","Descri\xe7\xe3o",3,"errors",4,"ngIf"],[1,"col","form-group"],[3,"response"],["class","clearfix",4,"ngIf"],[1,"font-weight-bold"],["class","mr-2 mb-2 d-inline-block",4,"ngFor","ngForOf"],["type","checkbox","formControlName","isManual",3,"id","change"],[3,"eventComplexConditions","programId","eventId","response"],[3,"eventGamificationConditions","activeEvent","programId","response"],["label","Nome",3,"errors"],["label","Descri\xe7\xe3o",3,"errors"],[1,"clearfix"],[1,"col","form-group","text-center"],["href","javascript:",1,"btn","btn-primary","py-2","px-4",3,"click"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"loader-bg"],[1,"loader-bg","w-50"],[1,"loader-bg","w-50","mt-2"],[1,"mr-2","mb-2","d-inline-block"],["href","javascript:",1,"label","label-success",3,"click"],[1,"fas","fa-times","pointer","ml-2"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Dc(2),n.Rb(3,"div",2),n.Rb(4,"a",3),n.Yb("click",(function(){return e.loadDetail()})),n.Mb(5,"i",4),n.Qb(),n.Rb(6,"a",3),n.Yb("click",(function(){return e.deleteEvent()})),n.Mb(7,"i",5),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",6),n.Rb(9,"div",7),n.Rb(10,"div",8),n.Dc(11," Disparos: "),n.Bc(12,sr,2,0,"span",9),n.Bc(13,lr,3,2,"span",10),n.Qb(),n.Rb(14,"div",8),n.Dc(15," Interven\xe7\xf5es: "),n.Bc(16,dr,2,0,"span",9),n.Bc(17,pr,3,2,"span",10),n.Qb(),n.Rb(18,"a",11),n.Yb("click",(function(){return e.loadDetail()})),n.Dc(19),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,"div",12),n.Rb(21,"div",7),n.Rb(22,"div",13),n.Rb(23,"div",14),n.Rb(24,"input",15),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"title"})})),n.Qb(),n.Rb(25,"label",16),n.Dc(26,"T\xedtulo "),n.Rb(27,"b",17),n.Dc(28,"*"),n.Qb(),n.Dc(29,":"),n.Qb(),n.Qb(),n.Bc(30,hr,1,1,"input-validations",18),n.Qb(),n.Qb(),n.Rb(31,"div",7),n.Rb(32,"div",19),n.Rb(33,"div",14),n.Rb(34,"textarea",20),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"description"})})),n.Qb(),n.Rb(35,"label",21),n.Dc(36," Descri\xe7\xe3o do programa "),n.Qb(),n.Qb(),n.Bc(37,br,1,1,"input-validations",22),n.Qb(),n.Qb(),n.Rb(38,"div",7),n.Rb(39,"div",23),n.Rb(40,"esm-choose-color",24),n.Yb("response",(function(t){return e.updateColor(t)})),n.Qb(),n.Qb(),n.Qb(),n.Bc(41,vr,12,2,"div",25),n.Bc(42,gr,17,0,"div",25),n.Rb(43,"div",7),n.Rb(44,"div",23),n.Rb(45,"p",26),n.Dc(46,"Disparos cadastrados"),n.Qb(),n.Bc(47,yr,4,1,"div",27),n.Rb(48,"esm-triggers",24),n.Yb("response",(function(t){return e.adicionarTrigger(t)})),n.Qb(),n.Qb(),n.Qb(),n.Rb(49,"div",7),n.Rb(50,"div",19),n.Rb(51,"input",28),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"isManual"})})),n.Qb(),n.Rb(52,"label",21),n.Dc(53,"Participante pode auto-iniciar o evento?"),n.Qb(),n.Qb(),n.Qb(),n.Rb(54,"esm-complex-conditions",29),n.Yb("response",(function(t){return e.updateFormComplexConditions(t)})),n.Qb(),n.Rb(55,"esm-gamification-conditions",30),n.Yb("response",(function(t){return e.updateFormGamificationConditions(t)})),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(1),n.yc(n.lc(28,_r,e.formValue.color)),n.zb(1),n.Fc(" ",e.formValue.title?e.formValue.title:"Novo Evento"," "),n.zb(6),n.ic("collapse",e.isOpen),n.zb(4),n.ic("ngIf",0==e.formValue.triggers.length),n.zb(1),n.ic("ngIf",e.formValue.triggers.length>0),n.zb(3),n.ic("ngIf",0==e.form.get("interventions").value.length),n.zb(1),n.ic("ngIf",e.formValue.interventions.length>0),n.zb(2),n.Ec(e.event.title),n.zb(1),n.ic("formGroup",e.form)("collapse",!e.isOpen),n.zb(4),n.ic("id","title-active"+e.index),n.zb(1),n.ic("for","title-active"+e.index),n.zb(5),n.ic("ngIf",e.form.controls.title.invalid&&e.form.controls.title.touched),n.zb(4),n.ic("id","program-description-active"+e.index),n.zb(1),n.ic("for","program-description-active"+e.index),n.zb(2),n.ic("ngIf",e.form.controls.description.invalid&&e.form.controls.description.touched),n.zb(4),n.ic("ngIf",!e.loadingInterventions),n.zb(1),n.ic("ngIf",e.loadingInterventions),n.zb(5),n.ic("ngForOf",e.form.get("triggers").value),n.zb(4),n.ic("id","is-manual-"+e.index),n.zb(1),n.ic("for","is-manual-"+e.index),n.zb(2),n.ic("eventComplexConditions",e.event.complexConditions)("programId",e.programId)("eventId",e.event.id),n.zb(1),n.ic("eventGamificationConditions",e.event.gamificationConditions)("activeEvent",e.event)("programId",e.programId))},directives:[Se.a,o.l,He.a,De.l,De.f,De.b,De.k,De.e,ho.a,De.h,bo,o.k,Yo,De.a,$o,rr,Je.a],styles:["",".box-event[_ngcontent-%COMP%]{box-shadow:1px 1px 4px rgba(0,0,0,.4)}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{position:relative;font-weight:700;color:#fff;background-color:#0a467f}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]{position:relative;margin:-6px -8px;z-index:1}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#0a467f!important;background-color:#fff}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]{position:relative;cursor:pointer}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),t=Object(Tt.c)([ln({checkProperties:!0})],t)}();function Rr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",6),n.Rb(1,"input",7),n.Yb("change",(function(){return n.tc(i),n.cc(2).changeSensor()}))("ngModelChange",(function(t){return n.tc(i),n.cc().$implicit.value=t})),n.Qb(),n.Rb(2,"label",8),n.Dc(3),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit,r=n.cc().$implicit,s=n.cc();n.zb(1),n.ic("ngModel",r.value)("value",o.alias)("id",r.alias+o.name+s.uid)("name",r.alias+s.uid),n.zb(1),n.ic("for",r.alias+o.name+s.uid),n.zb(1),n.Ec(o.name)}}function wr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"a",9),n.Yb("click",(function(){n.tc(i);var t=n.cc().$implicit;return n.cc().clearValue(t)})),n.Dc(1,"limpar"),n.Qb()}}function Ir(t,e){if(1&t&&(n.Rb(0,"div",2),n.Rb(1,"p"),n.Dc(2),n.Qb(),n.Bc(3,Rr,4,6,"div",3),n.Rb(4,"div",4),n.Bc(5,wr,2,0,"a",5),n.Qb(),n.Qb()),2&t){var i=e.$implicit,o=n.cc();n.zb(2),n.Ec(i.name),n.zb(1),n.ic("ngForOf",o.collectors),n.zb(2),n.ic("ngIf",i.value)}}var Sr=function(){function t(t){this.channel=t,this.sensors=Bt()(li),this.collectors=di,this.uid=ce(),this.response=new n.n}return t.prototype.ngOnInit=function(){var t=this;this.eventSensors&&this.eventSensors.forEach((function(e){t.sensors.find((function(t){return t.alias==e.sensor})).value=e.collector})),this.channel.echo.private("program."+this.programId).listenForWhisper("sensor"+this.programId+"pe"+this.eventId,(function(e){console.log("Sensores",e),t.channelUpdate(e)}))},t.prototype.changeSensor=function(){var t=this.sensors.filter((function(t){return t.value})).map((function(t){return{sensor:t.alias,collector:t.value}})),e={};e.sensors=t,this.sendUpdate(e),this.response.emit(t)},t.prototype.clearValue=function(t){t.value=null,this.changeSensor()},t.prototype.channelUpdate=function(t){var e=this;console.log("Chegou Sensor");for(var i=0;i<this.sensors.length;i++)this.sensors[i].value=null;t.sensors.forEach((function(t){e.sensors.find((function(e){return e.alias==t.sensor})).value=t.collector})),this.response.emit(t.sensors)},t.prototype.sendUpdate=function(t){t.id=this.programId,t.event=this.eventId,console.log("enviou sensores.."),this.channel.chanelSend(this.programId,"sensor"+this.programId+"pe"+this.eventId,t)},t.\u0275fac=function(e){return new(e||t)(n.Lb(te.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-sensors"]],inputs:{eventSensors:"eventSensors",programId:"programId",eventId:"eventId"},outputs:{response:"response"},decls:2,vars:1,consts:[[1,"row","justify-content-between"],["class","col form-group",4,"ngFor","ngForOf"],[1,"col","form-group"],["class","form-check",4,"ngFor","ngForOf"],[1,"clearfix","mt-2"],["href","javascript:","class","primary",3,"click",4,"ngIf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"ngModel","value","id","name","change","ngModelChange"],[1,"form-check-label",3,"for"],["href","javascript:",1,"primary",3,"click"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Bc(1,Ir,6,3,"div",1),n.Qb()),2&t&&(n.zb(1),n.ic("ngForOf",e.sensors))},directives:[o.k,o.l,De.q,De.b,De.k,De.n],styles:[""]}),t}();function Dr(t,e){1&t&&(n.Rb(0,"span",17),n.Dc(1,"N\xe3o h\xe1 disparos adicionados."),n.Qb())}function Qr(t,e){1&t&&(n.Rb(0,"span"),n.Dc(1,"s"),n.Qb())}function Cr(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,Qr,2,0,"span",10),n.Qb()),2&t){var i=n.cc(2);n.zb(1),n.Fc("e mais ",i.formValue.triggers.length-1," disparo"),n.zb(1),n.ic("ngIf",i.formValue.triggers.length>2)}}function Or(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,Cr,3,2,"span",10),n.Qb()),2&t){var i=n.cc();n.zb(1),n.Fc(" ",i.formValue.triggers[0].getDescription()," "),n.zb(1),n.ic("ngIf",i.formValue.triggers.length>1)}}function kr(t,e){1&t&&(n.Rb(0,"span",17),n.Dc(1,"N\xe3o h\xe1 sensores adicionados."),n.Qb())}function Er(t,e){1&t&&(n.Rb(0,"span"),n.Dc(1,"s"),n.Qb())}function Mr(t,e){if(1&t&&(n.Rb(0,"span"),n.Dc(1),n.Bc(2,Er,2,0,"span",10),n.Qb()),2&t){var i=n.cc();n.zb(1),n.Fc(" ",i.formValue.sensors.length," cadastrado"),n.zb(1),n.ic("ngIf",i.formValue.sensors.length>1)}}function zr(t,e){if(1&t&&n.Mb(0,"input-validations",29),2&t){var i=n.cc();n.ic("errors",i.form.controls.title.errors)}}function Pr(t,e){if(1&t&&n.Mb(0,"input-validations",30),2&t){var i=n.cc();n.ic("errors",i.form.controls.description.errors)}}function jr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"div",31),n.Rb(1,"a",32),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().removerTrigger(t)})),n.Dc(2),n.Mb(3,"i",33),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit;n.zb(2),n.Fc(" ",o.getDescription()," ")}}var Tr=function(t){return{"background-color":t}},Fr=function(){function t(t,e,i){this.formBuilder=t,this.channel=e,this.daoService=i,this.isOpen=!1,this.form=this.formBuilder.group({id:this.formBuilder.control(""),title:["",De.v.required],color:this.formBuilder.control(""),description:this.formBuilder.control(""),sensors:this.formBuilder.array([]),triggers:this.formBuilder.array([])})}return t.prototype.ngOnInit=function(){var t=this;this.event.id||(this.isOpen=!0),this.event&&(this.form.patchValue(this.event),this.event.triggers.forEach((function(e){return t.adicionarTrigger(new un(e))})),this.event.sensors.forEach((function(e){return t.adicionarSensor(e)}))),this.channel.echo.private("program."+this.programId).listenForWhisper("passive"+this.programId+"pe"+this.event.id,(function(e){console.log("Eventos Passivos",e),t.channelUpdate(e)}))},t.prototype.updateFormSensors=function(t){var e=this;this.sensorFormArray.clear(),t.forEach((function(t){return e.adicionarSensor(t)}));var i={acao:"a",tipo:"sensor"};i.sensor=t,this.sendUpdate(i)},t.prototype.adicionarSensor=function(t){this.sensorFormArray.push(this.formBuilder.control(t))},t.prototype.adicionarTrigger=function(t){this.triggerFormArray.push(this.formBuilder.control(t));var e={acao:"a",tipo:"trigger"},i={};i.id=t.id,i.condition=t.condition.toString(),i.priority=t.priority,i.timeout=t.timeout,e.trigger=i,this.sendUpdate(e)},t.prototype.removerTrigger=function(t){this.triggerFormArray.removeAt(t);var e={acao:"r",tipo:"trigger"};e.trigger=t,this.sendUpdate(e)},Object.defineProperty(t.prototype,"triggerFormArray",{get:function(){return this.form.get("triggers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sensorFormArray",{get:function(){return this.form.get("sensors")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formValue",{get:function(){return this.form.value},enumerable:!1,configurable:!0}),t.prototype.deleteEvent=function(){this.isOpen=!this.isOpen,this.form.reset(),this.sendUpdate({acao:"d"}),this.removeEvent(this.event)},t.prototype.removeEvent=function(t){this.events.splice(this.index,1)},t.prototype.loadDetail=function(){this.isOpen=!this.isOpen},t.prototype.validateForm=function(){return this.form.markAllAsTouched(),this.form.valid||(this.isOpen=!0),this.form.valid},t.prototype.channelUpdate=function(t){var e=this;if(console.log("Chegou evento"),"d"==t.acao)return this.isOpen=!1,this.form.reset(),void this.removeEvent(this.event);if("a"==t.acao)if("trigger"==t.tipo){var i=new un(t.trigger);console.log(t.trigger),this.triggerFormArray.push(this.formBuilder.control(i))}else console.log(t.sensor),this.sensorFormArray.clear(),t.sensor.forEach((function(t){e.adicionarSensor(t)}));else"r"==t.acao?"trigger"==t.tipo&&this.triggerFormArray.removeAt(t.trigger):(this.form.get(t.campo).setValue(t.valor),this.form.get(t.campo))},t.prototype.sendUpdate=function(t){var e=this;t.id=this.programId,t.eventId=this.event.id,t.tela="passive","f"==t.acao&&(t.valor=this.form.get(t.campo).value),console.log(t),this.daoService.patchObject(Yt.o,t).subscribe((function(i){console.log("mandou"),e.channel.chanelSend(e.programId,"passive"+e.programId+"pe"+e.event.id,t)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(De.d),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-passive-event"]],inputs:{event:"event",events:"events",index:"index",programId:"programId"},decls:48,vars:22,consts:[[1,"card","box-event","mt-4"],[1,"card-header","box-header","justify-content-between","d-flex","bg-primary",3,"ngStyle"],[1,"box-buttons"],[1,"btn","btn-default","btn-sm","text-white",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-trash-alt"],[1,"card-body","box-link",3,"collapse"],[1,"row"],[1,"col"],["class","text-danger",4,"ngIf"],[4,"ngIf"],["href","javascript:",1,"link-abs",3,"click"],["focusInvalidInput","",1,"card-body","box-body",3,"formGroup","collapse"],[1,"col-6","form-group"],[1,"form-label-group"],["formControlName","title","focusInput","","type","text","placeholder","T\xedtulo",1,"form-control","border-bottom",3,"id","change"],[1,"form-label",3,"for"],[1,"text-danger"],["label","Nome",3,"errors",4,"ngIf"],[1,"col-12","form-group"],["rows","2","maxlength","200","placeholder","Descri\xe7\xe3o do evento","formControlName","description",1,"form-control","border-bottom","w-100","resize-none",3,"id","change"],[3,"for"],["label","Descri\xe7\xe3o",3,"errors",4,"ngIf"],[1,"clearfix","mt-4","mb-4"],[1,"font-weight-bold"],[3,"eventSensors","programId","eventId","response"],[1,"col","form-group"],["class","mr-2 mb-2 d-inline-block",4,"ngFor","ngForOf"],[3,"response"],["label","Nome",3,"errors"],["label","Descri\xe7\xe3o",3,"errors"],[1,"mr-2","mb-2","d-inline-block"],["href","javascript:",1,"label","label-success",3,"click"],[1,"fas","fa-times","pointer","ml-2"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Dc(2),n.Rb(3,"div",2),n.Rb(4,"a",3),n.Yb("click",(function(){return e.loadDetail()})),n.Mb(5,"i",4),n.Qb(),n.Rb(6,"a",3),n.Yb("click",(function(){return e.deleteEvent()})),n.Mb(7,"i",5),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",6),n.Rb(9,"div",7),n.Rb(10,"div",8),n.Dc(11," Disparos: "),n.Bc(12,Dr,2,0,"span",9),n.Bc(13,Or,3,2,"span",10),n.Qb(),n.Rb(14,"div",8),n.Dc(15," Sensores: "),n.Bc(16,kr,2,0,"span",9),n.Bc(17,Mr,3,2,"span",10),n.Qb(),n.Rb(18,"a",11),n.Yb("click",(function(){return e.loadDetail()})),n.Dc(19),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,"form",12),n.Rb(21,"div",7),n.Rb(22,"div",13),n.Rb(23,"div",14),n.Rb(24,"input",15),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"title"})})),n.Qb(),n.Rb(25,"label",16),n.Dc(26,"T\xedtulo "),n.Rb(27,"b",17),n.Dc(28,"*"),n.Qb(),n.Dc(29,":"),n.Qb(),n.Qb(),n.Bc(30,zr,1,1,"input-validations",18),n.Qb(),n.Qb(),n.Rb(31,"div",7),n.Rb(32,"div",19),n.Rb(33,"div",14),n.Rb(34,"textarea",20),n.Yb("change",(function(){return e.sendUpdate({acao:"f",campo:"description"})})),n.Qb(),n.Rb(35,"label",21),n.Dc(36," Descri\xe7\xe3o do programa "),n.Qb(),n.Qb(),n.Bc(37,Pr,1,1,"input-validations",22),n.Qb(),n.Qb(),n.Rb(38,"div",23),n.Rb(39,"p",24),n.Dc(40,"Coletas"),n.Qb(),n.Rb(41,"esm-sensors",25),n.Yb("response",(function(t){return e.updateFormSensors(t)})),n.Qb(),n.Qb(),n.Rb(42,"div",7),n.Rb(43,"div",26),n.Rb(44,"p",24),n.Dc(45,"Disparos cadastrados"),n.Qb(),n.Bc(46,jr,4,1,"div",27),n.Rb(47,"esm-triggers",28),n.Yb("response",(function(t){return e.adicionarTrigger(t)})),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(1),n.ic("ngStyle",n.lc(20,Tr,e.formValue.color)),n.zb(1),n.Fc(" ",e.formValue.title?e.formValue.title:"Nova Coleta por Sensor"," "),n.zb(6),n.ic("collapse",e.isOpen),n.zb(4),n.ic("ngIf",0==e.formValue.triggers.length),n.zb(1),n.ic("ngIf",e.formValue.triggers.length>0),n.zb(3),n.ic("ngIf",0==e.form.get("sensors").value.length),n.zb(1),n.ic("ngIf",e.formValue.sensors.length>0),n.zb(2),n.Ec(e.event.title),n.zb(1),n.ic("formGroup",e.form)("collapse",!e.isOpen),n.zb(4),n.ic("id","title"+e.index),n.zb(1),n.ic("for","title"+e.index),n.zb(5),n.ic("ngIf",e.form.controls.title.invalid&&e.form.controls.title.touched),n.zb(4),n.ic("id","program-description"+e.index),n.zb(1),n.ic("for","program-description"+e.index),n.zb(2),n.ic("ngIf",e.form.controls.description.invalid&&e.form.controls.description.touched),n.zb(4),n.ic("eventSensors",e.event.sensors)("programId",e.programId)("eventId",e.event.id),n.zb(5),n.ic("ngForOf",e.form.get("triggers").value))},directives:[o.m,Se.a,o.l,De.x,De.l,He.a,De.f,De.b,De.k,De.e,ho.a,De.h,Sr,o.k,Yo,Je.a],styles:["",".box-event[_ngcontent-%COMP%]{box-shadow:1px 1px 4px rgba(0,0,0,.4)}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{position:relative;font-weight:700;color:#fff;background-color:#0a467f}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]{position:relative;margin:-6px -8px;z-index:1}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#0a467f!important;background-color:#fff}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]{position:relative;cursor:pointer}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),t=Object(Tt.c)([ln({checkProperties:!0})],t)}();function Ar(t,e){if(1&t&&(n.Rb(0,"div",10),n.Mb(1,"esm-active-event",11),n.Qb()),2&t){var i=e.$implicit,o=e.index,r=n.cc();n.zb(1),n.ic("event",i)("index",o)("events",r.activeEvents)("programId",r.programId)}}function Br(t,e){1&t&&(n.Rb(0,"div",12),n.Rb(1,"div",13),n.Dc(2,"N\xe3o h\xe1 eventos cadastrados."),n.Qb(),n.Qb())}function Lr(t,e){if(1&t&&(n.Rb(0,"div",10),n.Mb(1,"esm-passive-event",11),n.Qb()),2&t){var i=e.$implicit,o=e.index,r=n.cc();n.zb(1),n.ic("event",i)("index",o)("events",r.passiveEvents)("programId",r.programId)}}function Nr(t,e){1&t&&(n.Rb(0,"div",12),n.Rb(1,"div",13),n.Dc(2,"N\xe3o h\xe1 coleta por sensores."),n.Qb(),n.Qb())}var Vr=function(){return["../third"]},Yr=function(){function t(t,e,i,n){this.programAddService=t,this._swalService=e,this.channel=i,this.daoService=n,this.urlPrograms=Yt.o,this.geraId=100,this.programId=-1,this.needSet=!0}return t.prototype.trackByFn=function(t,e){return t},t.prototype.ngOnInit=function(){var t=this;this.programAddService.program.subscribe((function(e){t.passiveEvents=e.passiveEvents,t.activeEvents=e.activeEvents,t.needSet&&e.id&&(t.channel.echo.private("program."+e.id).listenForWhisper("step4"+e.id,(function(e){console.log("Eventos",e),t.channelUpdate(e)})),console.log(e),t.needSet=!1,t.programId=e.id)}))},t.prototype.ngOnDestroy=function(){var t={activeEvents:this.activeEventsComponents.map((function(t){return t.form.value})),passiveEvents:this.passiveEventsComponents.map((function(t){return t.form.value}))};this.programAddService.saveLocalStep(t)},t.prototype.addPassiveEvent=function(){var t=this,e=new Ji;e.title="Coleta por Sensor ",e.program_id=this.programId,this.daoService.postObject(Yt.f,e).subscribe((function(i){e.id=i.id,e.title="Coleta por Sensor "+i.id,t.passiveEvents.push(e),t.sendUpdate(e)}))},t.prototype.addActiveEvent=function(){var t=this,e=new Xi;e.title="Evento Ativo ",e.program_id=this.programId,this.daoService.postObject(Yt.f,e).subscribe((function(i){e.id=i.id,e.title="Evento Ativo "+i.id,t.activeEvents.push(e),t.sendUpdate(e)}))},t.prototype.submit=function(){var t=!0,e=[],i={activeEvents:this.activeEventsComponents.map((function(i){return i.validateForm()||(t=!1,e.push({field:"Evento",message:"Existem erros de cadastro, por favor verifique os campos em vermelho."})),i.form.value})),passiveEvents:this.passiveEventsComponents.map((function(i){return i.validateForm()||(t=!1,e.push({field:"Coleta por sensores",message:"Existem erros de cadastro, por favor verifique os campos em vermelho."})),i.form.value}))};(Object($t.c)(this.programAddService.programValue.title)||""==this.programAddService.programValue.title)&&(e.push({field:"T\xedtulo do programa",message:"Campo obrigat\xf3rio."}),t=!1),(Object($t.c)(this.programAddService.programValue.observers)||0==this.programAddService.programValue.observers.length)&&(e.push({field:"Observadores",message:"Selecione ao menos 1 observador para o programa"}),t=!1),(Object($t.c)(this.programAddService.programValue.users)||0==this.programAddService.programValue.users.length)&&(e.push({field:"Participantes",message:"Selecione ao menos 1 participante para o programa"}),t=!1),t?(this.programAddService.saveLocalStep(i),this.programAddService.saveProgram()):this._swalService.showFieldErrors("Aviso",e)},t.prototype.channelUpdate=function(t){console.log("Chegou evento"),"active"==t.evento.type?this.activeEvents.push(t.evento):this.passiveEvents.push(t.evento)},t.prototype.sendUpdate=function(t){var e=this,i={};i.id=this.programId,console.log(t),i.evento=t,i.tipo="a",this.daoService.patchObject(Yt.o,i).subscribe((function(t){console.log("mandou"),e.channel.chanelSend(e.programId,"step4"+e.programId,i)}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(pe),n.Lb(ee.a),n.Lb(te.a),n.Lb(Gt.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-step4"]],viewQuery:function(t,e){var i;1&t&&(n.Jc(Fr,!0),n.Jc(xr,!0)),2&t&&(n.qc(i=n.Zb())&&(e.passiveEventsComponents=i),n.qc(i=n.Zb())&&(e.activeEventsComponents=i))},decls:23,vars:8,consts:[[1,"clearfix","mt-5"],[1,"h4"],["class","clearfix",4,"ngFor","ngForOf","ngForTrackBy"],["class","card box-event mt-4",4,"ngIf"],[1,"clearfix","mt-2"],["name","saveButton",1,"btn","btn-white","btn-shadow","min-100",3,"click"],[1,"row","justify-content-end","mt-5"],[1,"col-auto"],[1,"btn","btn-success","btn-lg","btn-shadow",3,"routerLink"],["type","submit","name","saveButton",1,"btn","btn-primary","btn-lg","btn-shadow","min-100",3,"click"],[1,"clearfix"],[3,"event","index","events","programId"],[1,"card","box-event","mt-4"],[1,"card-header","box-header","justify-content-between","d-flex","bg-primary"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"h1",1),n.Dc(2,"Adicionar eventos"),n.Qb(),n.Bc(3,Ar,2,4,"div",2),n.Bc(4,Br,3,0,"div",3),n.Rb(5,"div",4),n.Rb(6,"button",5),n.Yb("click",(function(){return e.addActiveEvent()})),n.Dc(7,"ADICIONAR EVENTO"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",0),n.Rb(9,"h1",1),n.Dc(10,"Adicionar coleta por sensores"),n.Qb(),n.Bc(11,Lr,2,4,"div",2),n.Bc(12,Nr,3,0,"div",3),n.Rb(13,"div",4),n.Rb(14,"button",5),n.Yb("click",(function(){return e.addPassiveEvent()})),n.Dc(15,"ADICIONAR COLETA"),n.Qb(),n.Qb(),n.Qb(),n.Rb(16,"div",6),n.Rb(17,"div",7),n.Rb(18,"a",8),n.Dc(19,"VOLTAR"),n.Qb(),n.Qb(),n.Rb(20,"div",7),n.Rb(21,"button",9),n.Yb("click",(function(){return e.submit()})),n.Dc(22,"SALVAR E FINALIZAR"),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(3),n.ic("ngForOf",e.activeEvents)("ngForTrackBy",e.trackByFn),n.zb(1),n.ic("ngIf",0==e.activeEvents.length),n.zb(7),n.ic("ngForOf",e.passiveEvents)("ngForTrackBy",e.trackByFn),n.zb(1),n.ic("ngIf",0==e.passiveEvents.length),n.zb(6),n.ic("routerLink",n.kc(7,Vr)))},directives:[o.k,o.l,jt.e,xr,Fr],styles:[".box-event[_ngcontent-%COMP%]{box-shadow:1px 1px 4px rgba(0,0,0,.4)}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{position:relative;font-weight:700;color:#fff;background-color:#0a467f}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]{position:relative;margin:-6px -8px;z-index:1}.box-event[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#0a467f!important;background-color:#fff}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]{position:relative;cursor:pointer}.box-event[_ngcontent-%COMP%]   .box-link[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]}),t}(),Ur=i("kGPy"),Gr=i("+1jO");function qr(t,e){1&t&&(n.Rb(0,"div",13),n.Dc(1,"Nenhum programa encontrado"),n.Qb())}var $r=function(t){return["/private/programs/edit",t]};function Hr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td",14),n.Rb(2,"a",15),n.Dc(3),n.Qb(),n.Qb(),n.Rb(4,"td",16),n.Rb(5,"div",17),n.Rb(6,"a",15),n.Mb(7,"i",18),n.Qb(),n.Rb(8,"a",19),n.Rb(9,"i",20),n.Yb("click",(function(){n.tc(i);var t=e.$implicit;return n.cc().deleteParticipant(t)})),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){var o=e.$implicit;n.zb(2),n.ic("routerLink",n.lc(3,$r,o.id)),n.zb(1),n.Fc(" ",o.title," "),n.zb(3),n.ic("routerLink",n.lc(5,$r,o.id))}}function Wr(t,e){1&t&&(n.Rb(0,"tr",22),n.Rb(1,"td"),n.Mb(2,"div",23),n.Qb(),n.Rb(3,"td",16),n.Mb(4,"div",23),n.Qb(),n.Qb())}var Zr=function(){return[1,2,3,4,5,6,7,8,9,10]};function Kr(t,e){1&t&&n.Bc(0,Wr,5,0,"tr",21),2&t&&n.ic("ngForOf",n.kc(1,Zr))}function Jr(t,e){if(1&t){var i=n.Sb();n.Rb(0,"pagination",24),n.Yb("ngModelChange",(function(t){return n.tc(i),n.cc().page=t}))("pageChanged",(function(t){return n.tc(i),n.cc().handleChange(t)})),n.Dc(1,' [disabled]="!total" >'),n.Qb()}if(2&t){var o=n.cc();n.ic("totalItems",o.total)("ngModel",o.page)("maxSize",10)("boundaryLinks",!0)}}function Xr(t,e){1&t&&(n.Rb(0,"div"),n.Mb(1,"div",25),n.Mb(2,"div",25),n.Mb(3,"div",25),n.Qb())}var ts=function(){return["/private/programs/add/first"]},es=[{path:"list",component:function(){function t(t,e,i,n){var o=this;this.daoService=t,this._loaderService=e,this._swalService=i,this._toastr=n,this.urlPrograms=Yt.o,this.loading=!0,this.page=1,this.search=new d.a,this.searchTerm="",this.search.pipe(Object(si.a)(300),Object(m.a)(),Object(I.a)((function(){return o.getPrograms()}))).subscribe((function(t){o.loading=!1,o.setPrograms(t)}))}return t.prototype.handleChange=function(t,e){void 0===e&&(e=!1),e&&(this.total=null,this.searchTerm=t,this.page=1),this.programs=[],this.loading=!0,this.search.next(t)},t.prototype.ngOnInit=function(){this.search.next("")},t.prototype.getPrograms=function(){var t,e=(new Ft.f).set("search",this.searchTerm).set("page",null===(t=this.page)||void 0===t?void 0:t.toString()).set("orderBy","created_at").set("sortedBy","desc");return this.daoService.getObjects(this.urlPrograms,e)},t.prototype.setPrograms=function(t){this.total=t.meta.pagination.total,this.pageSize=t.meta.pagination.per_page,this.programs=t.data},t.prototype.deleteParticipant=function(t){var e=this;this._swalService.confirmDelete(t.title,"Programa").then((function(i){i.isConfirmed&&(e._loaderService.show(),e.daoService.deleteObject(e.urlPrograms,t.id.toString()).pipe(Object(Nt.a)((function(){return e._loaderService.hide()}))).subscribe((function(t){e.handleChange(t),e._toastr.success(t.message)})))}))},t.\u0275fac=function(e){return new(e||t)(n.Lb(Gt.a),n.Lb(Vt.a),n.Lb(ee.a),n.Lb(ue.b))},t.\u0275cmp=n.Fb({type:t,selectors:[["esm-particpants-list"]],features:[n.yb([o.e])],decls:19,vars:14,consts:[[1,"px-5","mx-auto","mt-4","mb-5","card","card-lg","w-main"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["translate","",1,"h4"],["translate","",1,"btn","btn-white","align-self-end",3,"routerLink"],[3,"doSearch"],[3,"title","subtitle","total"],["class","alert alert-info",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"p-2"],["name","page",3,"totalItems","ngModel","maxSize","boundaryLinks","ngModelChange","pageChanged",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info"],["scope","row"],[3,"routerLink"],["width","100"],[1,"mx-3","d-flex","align-items-center"],[1,"mr-3","fas","fa-edit","fa-lg","text-primary"],["href","javascript:"],[1,"fas","fa-trash-alt","fa-lg","text-primary",3,"click"],["class","loading",4,"ngFor","ngForOf"],[1,"loading"],[1,"loader-bg"],["name","page",3,"totalItems","ngModel","maxSize","boundaryLinks","ngModelChange","pageChanged"],[1,"loader-bg","w-25"]],template:function(t,e){1&t&&(n.Rb(0,"main",0),n.Rb(1,"div",1),n.Rb(2,"h1",2),n.Dc(3,"private.programs.list.pageTitle"),n.Qb(),n.Rb(4,"a",3),n.Dc(5,"private.programs.list.addButton"),n.Qb(),n.Qb(),n.Rb(6,"esm-search",4),n.Yb("doSearch",(function(t){return e.handleChange(t,!0)})),n.Qb(),n.Rb(7,"form"),n.Mb(8,"esm-list-header",5),n.dc(9,"translate"),n.dc(10,"translate"),n.Bc(11,qr,2,0,"div",6),n.Rb(12,"table",7),n.Rb(13,"tbody"),n.Bc(14,Hr,10,7,"tr",8),n.Bc(15,Kr,1,2,"ng-template",9),n.Qb(),n.Qb(),n.Rb(16,"div",10),n.Bc(17,Jr,2,4,"pagination",11),n.Bc(18,Xr,4,0,"div",12),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(4),n.ic("routerLink",n.kc(13,ts)),n.zb(4),n.ic("title",n.ec(9,9,"private.programs.list.listTitle"))("subtitle",n.ec(10,11,"private.programs.list.totalNumber"))("total",e.total),n.zb(3),n.ic("ngIf",!e.loading&&0==e.programs.length),n.zb(3),n.ic("ngForOf",e.programs),n.zb(1),n.ic("ngIf",e.loading),n.zb(2),n.ic("ngIf",e.total),n.zb(1),n.ic("ngIf",null==e.total))},directives:[Ke.b,jt.e,ai.a,De.x,De.l,De.m,Ur.a,o.l,o.k,Gr.a,De.k,De.n],pipes:[Ke.e],encapsulation:2}),t}()},{path:"add",component:qe,children:[{path:"",redirectTo:"first",pathMatch:"prefix"},{path:"first",component:ri},{path:"second",component:Mi},{path:"third",component:Wi},{path:"fourth",component:Yr}]},{path:"edit/:id",component:qe,children:[{path:"",redirectTo:"first",pathMatch:"prefix"},{path:"first",component:ri},{path:"second",component:Mi},{path:"third",component:Wi},{path:"fourth",component:Yr}]},{path:"**",redirectTo:"/private",pathMatch:"full"}],is=function(){function t(){}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[jt.f.forChild(es)],jt.f]}),t}(),ns=function(){function t(){}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[Pt,r,a.a,s.a,is,o.c]]}),t}()},yGk4:function(t,e,i){var n=i("Cwc5")(i("Kz5y"),"Set");t.exports=n},yHx3:function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},yP5f:function(t,e,i){var n=i("+K+b");t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}},zEVN:function(t,e,i){var n=i("Gi0A"),o=i("sEf8"),r=i("mdPL"),s=r&&r.isMap,a=s?o(s):n;t.exports=a}}]);